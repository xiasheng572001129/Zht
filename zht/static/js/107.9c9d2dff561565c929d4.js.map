{"version":3,"sources":["webpack:///./src/pages/OilStation/promote/unaudited.vue?2b5d","webpack:///./src/pages/OilStation/promote/unaudited.vue?8a9d","webpack:///src/pages/OilStation/promote/unaudited.vue","webpack:///./src/pages/OilStation/promote/unaudited.vue?aa40","webpack:///./src/pages/OilStation/promote/unaudited.vue"],"names":["module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","content","locals","unaudited","components","pagination","data","token","window","sessionStorage","getItem","page","pageCount","tableData","ImgVisible","ImgList","throughLoading","rejectedLoading","methods","init","_this","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","$axios","post","status","sent","code","list","rows","t0","stop","ImgDetails","item","_this2","image","$nextTick","img","$refs","Img","Object","Viewer","through","index","_this3","$confirm","confirmButtonText","cancelButtonText","type","center","then","_callee2","_context2","id","tour_name","oil_shop_name","phone","leader_phone","$message","message","msg","error","catch","rejected","_ref2","_this4","$prompt","inputPattern","inputErrorMessage","_callee3","_ref3","value","_context3","reason","_x","apply","arguments","mounted","render","_vm","_h","$createElement","_c","_self","staticStyle","width","attrs","prop","label","align","_v","scopedSlots","_u","key","fn","scope","on","click","$event","row","placement","trigger","staticClass","slot","domProps","innerHTML","_s","details","create_time","min-width","size","loading","$index","title","visible","update:visible","text-align","_l","ref","refInFor","margin-right","src","height","page-count","e","_withStripped","esExports","staticRenderFns","promote_unaudited","disposed","Component","normalizeComponent","ssrContext","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/107.9c9d2dff561565c929d4.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.ellipsis[data-v-527167c9] {\\n  width: 100px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  display: -webkit-box;\\n  -webkit-box-orient: vertical;\\n  -webkit-line-clamp: 2;\\n  margin: 0 auto;\\n  text-align: center;\\n}\\n.details[data-v-527167c9] img {\\n  width: 100% !important;\\n  height: 100px !important;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"F:/仲达集团/2020-3-18总后台管理系统/src/pages/OilStation/promote/src/pages/OilStation/promote/unaudited.vue\"],\"names\":[],\"mappings\":\";AA0NA;EACA,aAAA;EACA,iBAAA;EACA,wBAAA;EACA,qBAAA;EACA,6BAAA;EACA,sBAAA;EACA,eAAA;EACA,mBAAA;CACA;AACA;EACA,uBAAA;EACA,yBAAA;CACA\",\"file\":\"unaudited.vue\",\"sourcesContent\":[\"<template>\\n  <div>\\n    <el-table :data=\\\"tableData\\\"\\n              style=\\\"width: 100%\\\">\\n      <el-table-column prop=\\\"oil_shop_name\\\"\\n                       label=\\\"油站名称\\\"\\n                       align=\\\"center\\\">\\n      </el-table-column>\\n      <el-table-column prop=\\\"oil_leader\\\"\\n                       label=\\\"负责人\\\"\\n                       align=\\\"center\\\">\\n      </el-table-column>\\n      <el-table-column prop=\\\"leader_phone\\\"\\n                       label=\\\"负责人电话\\\"\\n                       align=\\\"center\\\">\\n      </el-table-column>\\n      <el-table-column prop=\\\"title\\\"\\n                       label=\\\"推广标题\\\"\\n                       align=\\\"center\\\">\\n      </el-table-column>\\n      <el-table-column label=\\\"推广图片\\\"\\n                       align=\\\"center\\\">\\n        <template slot-scope=\\\"scope\\\">\\n          <el-button type=\\\"text\\\"\\n                     @click=\\\"ImgDetails(scope.row)\\\">详情</el-button>\\n        </template>\\n      </el-table-column>\\n      <el-table-column prop=\\\"mem_price\\\"\\n                       label=\\\"会员价\\\"\\n                       align=\\\"center\\\">\\n      </el-table-column>\\n      <el-table-column prop=\\\"ori_price\\\"\\n                       label=\\\"原价\\\"\\n                       align=\\\"center\\\">\\n      </el-table-column>\\n      <el-table-column prop=\\\"person\\\"\\n                       label=\\\"联系人\\\"\\n                       align=\\\"center\\\">\\n      </el-table-column>\\n      <el-table-column prop=\\\"phone\\\"\\n                       label=\\\"联系电话\\\"\\n                       align=\\\"center\\\">\\n      </el-table-column>\\n      <el-table-column prop=\\\"phone\\\"\\n                       label=\\\"联系电话\\\"\\n                       align=\\\"center\\\">\\n      </el-table-column>\\n      <el-table-column label=\\\"详情\\\"\\n                       align=\\\"center\\\">\\n        <template slot-scope=\\\"scope\\\">\\n          <el-popover placement=\\\"top-start\\\"\\n                      width=\\\"300\\\"\\n                      trigger=\\\"click\\\">\\n            <el-button slot=\\\"reference\\\"\\n                       type=\\\"text\\\"\\n                       class=\\\"ellipsis\\\">详情</el-button>\\n            <div class=\\\"details\\\"\\n                 v-html=\\\"scope.row.details\\\">\\n\\n            </div>\\n          </el-popover>\\n        </template>\\n      </el-table-column>\\n\\n      <el-table-column label=\\\"申请时间\\\"\\n                       prop=\\\"create_time\\\"\\n                       align=\\\"center\\\">\\n        <template slot-scope=\\\"scope\\\">\\n          {{scope.row.create_time }}\\n        </template>\\n      </el-table-column>\\n      <el-table-column label=\\\"操作\\\"\\n                       align=\\\"center\\\"\\n                       min-width=\\\"150px\\\">\\n        <template slot-scope=\\\"scope\\\">\\n          <el-button type=\\\"primary\\\"\\n                     size=\\\"small\\\"\\n                     :loading=\\\"throughLoading[scope.$index]\\\"\\n                     @click=\\\"through(scope.row,scope.$index)\\\">通过</el-button>\\n          <el-button type=\\\"danger\\\"\\n                     size=\\\"small\\\"\\n                     :loading=\\\"rejectedLoading[scope.$index]\\\"\\n                     @click=\\\"rejected(scope.row,scope.$index)\\\">驳回</el-button>\\n        </template>\\n      </el-table-column>\\n    </el-table>\\n\\n    <!-- 推广图片详情 -->\\n    <el-dialog title=\\\"推广图片\\\"\\n               center\\n               width=\\\"30%\\\"\\n               :visible.sync=\\\"ImgVisible\\\">\\n      <div style=\\\"text-align:center\\\">\\n        <img v-for=\\\"(item,index) in ImgList\\\"\\n             :key=\\\"index\\\"\\n             :src=\\\"item\\\"\\n             width=\\\"100px\\\"\\n             height=\\\"100px\\\"\\n             style=\\\"margin-right:10px\\\"\\n             ref=\\\"Img\\\" />\\n      </div>\\n    </el-dialog>\\n\\n    <!-- 分页 -->\\n    <div class=\\\"page_center\\\">\\n      <paging :page-count=\\\"pageCount\\\"\\n              :page=\\\"page\\\"\\n              @index=\\\"(e)=>{\\n                    page =e,\\n                    init()\\n                }\\\"></paging>\\n      <!--分页的组件-->\\n    </div>\\n  </div>\\n</template>\\n\\n<script>\\nimport pagination from '@/components/pagination/pagination'\\nimport Viewer from '@/utils/Viewer'\\nexport default {\\n  components: { pagination },\\n  data () {\\n    return {\\n      token: window.sessionStorage.getItem('bbytoken'),\\n      page: 1,//当前页\\n      pageCount: 1,\\n      tableData: [],\\n      ImgVisible: false,\\n      ImgList: [],\\n      throughLoading: [],\\n      rejectedLoading: [],\\n\\n\\n    }\\n  },\\n  methods: {\\n\\n    async init () {\\n      try {\\n        let res = await this.$axios.post('admin/OilExamine/oilExtension', { token: this.token, page: this.page, status: 0 })\\n        if (res.data.code == 1) {\\n          this.tableData = res.data.data.list\\n          this.pageCount = res.data.data.rows;\\n        } else {\\n          this.tableData = []\\n        }\\n      } catch (err) {\\n        throw (err)\\n      }\\n    },\\n    //图片详情\\n    ImgDetails (item) {\\n      this.ImgVisible = true\\n      this.ImgList = item.image\\n      this.$nextTick(() => {\\n        const img = this.$refs.Img;\\n        Viewer(img)\\n      })\\n    },\\n    //通过审核\\n    through (item, index) {\\n      this.$confirm('此操作将通过审核, 是否继续?', '提示', {\\n        confirmButtonText: '确定',\\n        cancelButtonText: '取消',\\n        type: 'warning',\\n        center: true\\n      }).then(async () => {\\n        try {\\n\\n          this.throughLoading[index] = true\\n          const res = await this.$axios.post('admin/OilExamine/oilThrough', { token: this.token, id: item.id, tour_name: item.oil_shop_name, phone: item.leader_phone })\\n          this.throughLoading[index] = false\\n          if (res.data.code == 1) {\\n            this.$message({ message: res.data.msg, type: \\\"success\\\" })\\n            this.init()\\n          } else {\\n            this.$message.error(res.data.msg)\\n          }\\n        } catch (err) {\\n          this.throughLoading[index] = false\\n          throw (err)\\n        }\\n      }).catch(() => { });\\n    },\\n    //驳回\\n    rejected (item, index) {\\n\\n      this.$prompt('请输入驳回理由', '提示', {\\n        confirmButtonText: '确定',\\n        cancelButtonText: '取消',\\n        inputPattern: /\\\\S/,\\n        inputErrorMessage: '请输入驳回理由'\\n      }).then(async ({ value }) => {\\n        try {\\n\\n          this.rejectedLoading[index] = true\\n          const res = await this.$axios.post('admin/OilExamine/oilDismissal', { token: this.token, id: item.id, reason: value, phone: item.leader_phone, tour_name: item.oil_shop_name })\\n          this.rejectedLoading[index] = false\\n          if (res.data.code == 1) {\\n            this.$message({ message: res.data.msg, type: \\\"success\\\" })\\n            this.init()\\n          } else {\\n            this.$message.error(res.data.msg)\\n          }\\n        } catch (err) {\\n          this.rejectedLoading[index] = false\\n          throw (err)\\n        }\\n      }).catch(() => { });\\n    },\\n  },\\n  mounted () {\\n    this.init()\\n  }\\n}\\n</script>\\n\\n<style scoped>\\n.ellipsis {\\n  width: 100px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  display: -webkit-box;\\n  -webkit-box-orient: vertical;\\n  -webkit-line-clamp: 2;\\n  margin: 0 auto;\\n  text-align: center;\\n}\\n.details >>> img {\\n  width: 100% !important;\\n  height: 100px !important;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-527167c9\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/OilStation/promote/unaudited.vue\n// module id = 3XDE\n// module chunks = 107","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-527167c9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./unaudited.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"0578d11a\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-527167c9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./unaudited.vue\", function() {\n     var newContent = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-527167c9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./unaudited.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-527167c9\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/OilStation/promote/unaudited.vue\n// module id = 7GoI\n// module chunks = 107","<template>\n  <div>\n    <el-table :data=\"tableData\"\n              style=\"width: 100%\">\n      <el-table-column prop=\"oil_shop_name\"\n                       label=\"油站名称\"\n                       align=\"center\">\n      </el-table-column>\n      <el-table-column prop=\"oil_leader\"\n                       label=\"负责人\"\n                       align=\"center\">\n      </el-table-column>\n      <el-table-column prop=\"leader_phone\"\n                       label=\"负责人电话\"\n                       align=\"center\">\n      </el-table-column>\n      <el-table-column prop=\"title\"\n                       label=\"推广标题\"\n                       align=\"center\">\n      </el-table-column>\n      <el-table-column label=\"推广图片\"\n                       align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\"\n                     @click=\"ImgDetails(scope.row)\">详情</el-button>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"mem_price\"\n                       label=\"会员价\"\n                       align=\"center\">\n      </el-table-column>\n      <el-table-column prop=\"ori_price\"\n                       label=\"原价\"\n                       align=\"center\">\n      </el-table-column>\n      <el-table-column prop=\"person\"\n                       label=\"联系人\"\n                       align=\"center\">\n      </el-table-column>\n      <el-table-column prop=\"phone\"\n                       label=\"联系电话\"\n                       align=\"center\">\n      </el-table-column>\n      <el-table-column prop=\"phone\"\n                       label=\"联系电话\"\n                       align=\"center\">\n      </el-table-column>\n      <el-table-column label=\"详情\"\n                       align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-popover placement=\"top-start\"\n                      width=\"300\"\n                      trigger=\"click\">\n            <el-button slot=\"reference\"\n                       type=\"text\"\n                       class=\"ellipsis\">详情</el-button>\n            <div class=\"details\"\n                 v-html=\"scope.row.details\">\n\n            </div>\n          </el-popover>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"申请时间\"\n                       prop=\"create_time\"\n                       align=\"center\">\n        <template slot-scope=\"scope\">\n          {{scope.row.create_time }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\"\n                       align=\"center\"\n                       min-width=\"150px\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"primary\"\n                     size=\"small\"\n                     :loading=\"throughLoading[scope.$index]\"\n                     @click=\"through(scope.row,scope.$index)\">通过</el-button>\n          <el-button type=\"danger\"\n                     size=\"small\"\n                     :loading=\"rejectedLoading[scope.$index]\"\n                     @click=\"rejected(scope.row,scope.$index)\">驳回</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 推广图片详情 -->\n    <el-dialog title=\"推广图片\"\n               center\n               width=\"30%\"\n               :visible.sync=\"ImgVisible\">\n      <div style=\"text-align:center\">\n        <img v-for=\"(item,index) in ImgList\"\n             :key=\"index\"\n             :src=\"item\"\n             width=\"100px\"\n             height=\"100px\"\n             style=\"margin-right:10px\"\n             ref=\"Img\" />\n      </div>\n    </el-dialog>\n\n    <!-- 分页 -->\n    <div class=\"page_center\">\n      <paging :page-count=\"pageCount\"\n              :page=\"page\"\n              @index=\"(e)=>{\n                    page =e,\n                    init()\n                }\"></paging>\n      <!--分页的组件-->\n    </div>\n  </div>\n</template>\n\n<script>\nimport pagination from '@/components/pagination/pagination'\nimport Viewer from '@/utils/Viewer'\nexport default {\n  components: { pagination },\n  data () {\n    return {\n      token: window.sessionStorage.getItem('bbytoken'),\n      page: 1,//当前页\n      pageCount: 1,\n      tableData: [],\n      ImgVisible: false,\n      ImgList: [],\n      throughLoading: [],\n      rejectedLoading: [],\n\n\n    }\n  },\n  methods: {\n\n    async init () {\n      try {\n        let res = await this.$axios.post('admin/OilExamine/oilExtension', { token: this.token, page: this.page, status: 0 })\n        if (res.data.code == 1) {\n          this.tableData = res.data.data.list\n          this.pageCount = res.data.data.rows;\n        } else {\n          this.tableData = []\n        }\n      } catch (err) {\n        throw (err)\n      }\n    },\n    //图片详情\n    ImgDetails (item) {\n      this.ImgVisible = true\n      this.ImgList = item.image\n      this.$nextTick(() => {\n        const img = this.$refs.Img;\n        Viewer(img)\n      })\n    },\n    //通过审核\n    through (item, index) {\n      this.$confirm('此操作将通过审核, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n        center: true\n      }).then(async () => {\n        try {\n\n          this.throughLoading[index] = true\n          const res = await this.$axios.post('admin/OilExamine/oilThrough', { token: this.token, id: item.id, tour_name: item.oil_shop_name, phone: item.leader_phone })\n          this.throughLoading[index] = false\n          if (res.data.code == 1) {\n            this.$message({ message: res.data.msg, type: \"success\" })\n            this.init()\n          } else {\n            this.$message.error(res.data.msg)\n          }\n        } catch (err) {\n          this.throughLoading[index] = false\n          throw (err)\n        }\n      }).catch(() => { });\n    },\n    //驳回\n    rejected (item, index) {\n\n      this.$prompt('请输入驳回理由', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        inputPattern: /\\S/,\n        inputErrorMessage: '请输入驳回理由'\n      }).then(async ({ value }) => {\n        try {\n\n          this.rejectedLoading[index] = true\n          const res = await this.$axios.post('admin/OilExamine/oilDismissal', { token: this.token, id: item.id, reason: value, phone: item.leader_phone, tour_name: item.oil_shop_name })\n          this.rejectedLoading[index] = false\n          if (res.data.code == 1) {\n            this.$message({ message: res.data.msg, type: \"success\" })\n            this.init()\n          } else {\n            this.$message.error(res.data.msg)\n          }\n        } catch (err) {\n          this.rejectedLoading[index] = false\n          throw (err)\n        }\n      }).catch(() => { });\n    },\n  },\n  mounted () {\n    this.init()\n  }\n}\n</script>\n\n<style scoped>\n.ellipsis {\n  width: 100px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  margin: 0 auto;\n  text-align: center;\n}\n.details >>> img {\n  width: 100% !important;\n  height: 100px !important;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/OilStation/promote/unaudited.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\n        \"el-table\",\n        { staticStyle: { width: \"100%\" }, attrs: { data: _vm.tableData } },\n        [\n          _c(\"el-table-column\", {\n            attrs: { prop: \"oil_shop_name\", label: \"油站名称\", align: \"center\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { prop: \"oil_leader\", label: \"负责人\", align: \"center\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: {\n              prop: \"leader_phone\",\n              label: \"负责人电话\",\n              align: \"center\"\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { prop: \"title\", label: \"推广标题\", align: \"center\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { label: \"推广图片\", align: \"center\" },\n            scopedSlots: _vm._u([\n              {\n                key: \"default\",\n                fn: function(scope) {\n                  return [\n                    _c(\n                      \"el-button\",\n                      {\n                        attrs: { type: \"text\" },\n                        on: {\n                          click: function($event) {\n                            return _vm.ImgDetails(scope.row)\n                          }\n                        }\n                      },\n                      [_vm._v(\"详情\")]\n                    )\n                  ]\n                }\n              }\n            ])\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { prop: \"mem_price\", label: \"会员价\", align: \"center\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { prop: \"ori_price\", label: \"原价\", align: \"center\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { prop: \"person\", label: \"联系人\", align: \"center\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { prop: \"phone\", label: \"联系电话\", align: \"center\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { prop: \"phone\", label: \"联系电话\", align: \"center\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { label: \"详情\", align: \"center\" },\n            scopedSlots: _vm._u([\n              {\n                key: \"default\",\n                fn: function(scope) {\n                  return [\n                    _c(\n                      \"el-popover\",\n                      {\n                        attrs: {\n                          placement: \"top-start\",\n                          width: \"300\",\n                          trigger: \"click\"\n                        }\n                      },\n                      [\n                        _c(\n                          \"el-button\",\n                          {\n                            staticClass: \"ellipsis\",\n                            attrs: { slot: \"reference\", type: \"text\" },\n                            slot: \"reference\"\n                          },\n                          [_vm._v(\"详情\")]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\"div\", {\n                          staticClass: \"details\",\n                          domProps: { innerHTML: _vm._s(scope.row.details) }\n                        })\n                      ],\n                      1\n                    )\n                  ]\n                }\n              }\n            ])\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { label: \"申请时间\", prop: \"create_time\", align: \"center\" },\n            scopedSlots: _vm._u([\n              {\n                key: \"default\",\n                fn: function(scope) {\n                  return [\n                    _vm._v(\n                      \"\\n        \" + _vm._s(scope.row.create_time) + \"\\n      \"\n                    )\n                  ]\n                }\n              }\n            ])\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { label: \"操作\", align: \"center\", \"min-width\": \"150px\" },\n            scopedSlots: _vm._u([\n              {\n                key: \"default\",\n                fn: function(scope) {\n                  return [\n                    _c(\n                      \"el-button\",\n                      {\n                        attrs: {\n                          type: \"primary\",\n                          size: \"small\",\n                          loading: _vm.throughLoading[scope.$index]\n                        },\n                        on: {\n                          click: function($event) {\n                            return _vm.through(scope.row, scope.$index)\n                          }\n                        }\n                      },\n                      [_vm._v(\"通过\")]\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"el-button\",\n                      {\n                        attrs: {\n                          type: \"danger\",\n                          size: \"small\",\n                          loading: _vm.rejectedLoading[scope.$index]\n                        },\n                        on: {\n                          click: function($event) {\n                            return _vm.rejected(scope.row, scope.$index)\n                          }\n                        }\n                      },\n                      [_vm._v(\"驳回\")]\n                    )\n                  ]\n                }\n              }\n            ])\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"el-dialog\",\n        {\n          attrs: {\n            title: \"推广图片\",\n            center: \"\",\n            width: \"30%\",\n            visible: _vm.ImgVisible\n          },\n          on: {\n            \"update:visible\": function($event) {\n              _vm.ImgVisible = $event\n            }\n          }\n        },\n        [\n          _c(\n            \"div\",\n            { staticStyle: { \"text-align\": \"center\" } },\n            _vm._l(_vm.ImgList, function(item, index) {\n              return _c(\"img\", {\n                key: index,\n                ref: \"Img\",\n                refInFor: true,\n                staticStyle: { \"margin-right\": \"10px\" },\n                attrs: { src: item, width: \"100px\", height: \"100px\" }\n              })\n            }),\n            0\n          )\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"page_center\" },\n        [\n          _c(\"paging\", {\n            attrs: { \"page-count\": _vm.pageCount, page: _vm.page },\n            on: {\n              index: function(e) {\n                ;(_vm.page = e), _vm.init()\n              }\n            }\n          })\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-527167c9\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-527167c9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/OilStation/promote/unaudited.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-527167c9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./unaudited.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./unaudited.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./unaudited.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-527167c9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./unaudited.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-527167c9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/pages/OilStation/promote/unaudited.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-527167c9\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-527167c9\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/OilStation/promote/unaudited.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
webpackJsonp([113],{AVEq:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,'\n.content[data-v-4b4d9ac5] {\n  width: 100%;\n  margin-top: 100px;\n}\n.content > div[data-v-4b4d9ac5] {\n  width: 50%;\n  float: left;\n}\n.content[data-v-4b4d9ac5]:after {\n  display: block;\n  content: "";\n  clear: both;\n}\n.content > div[data-v-4b4d9ac5]:first-child {\n  text-align: center;\n}\n.border-right[data-v-4b4d9ac5] {\n  border-right: 1px dashed #04bbfc;\n}\n.border-left[data-v-4b4d9ac5] {\n  border-left: 1px dashed #04bbfc;\n}\n.content > div[data-v-4b4d9ac5]:last-child {\n  padding-left: 150px;\n}\n.content > div:first-child p[data-v-4b4d9ac5] {\n  margin-bottom: 50px;\n}\n.list[data-v-4b4d9ac5] {\n  font-size: 20px;\n}\n.list > li[data-v-4b4d9ac5] {\n  margin-bottom: 30px;\n}\n.list > li input[data-v-4b4d9ac5] {\n  border: none;\n\n  height: 23px;\n}\n.list > li div[data-v-4b4d9ac5] {\n  margin: 10px 0;\n  border-bottom: 1px solid #979797;\n  width: 30%;\n}\n.el_btn[data-v-4b4d9ac5] {\n  text-align: center;\n  margin-top: 150px;\n}\n.Reason[data-v-4b4d9ac5] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin-top: 30px;\n}\ntextarea[data-v-4b4d9ac5] {\n  resize: none;\n  width: 80%;\n  height: 150px;\n  margin-left: 10px;\n}\n',"",{version:3,sources:["F:/仲达集团/2020-3-18总后台管理系统/src/components/MunicipalAgent/src/components/MunicipalAgent/detailsPage.vue"],names:[],mappings:";AAoNA;EACA,YAAA;EACA,kBAAA;CACA;AAEA;EACA,WAAA;EACA,YAAA;CACA;AAEA;EACA,eAAA;EACA,YAAA;EACA,YAAA;CACA;AAEA;EACA,mBAAA;CACA;AAEA;EACA,iCAAA;CACA;AAEA;EACA,gCAAA;CACA;AAEA;EACA,oBAAA;CACA;AAEA;EACA,oBAAA;CACA;AAEA;EACA,gBAAA;CACA;AAEA;EACA,oBAAA;CACA;AAEA;EACA,aAAA;;EAEA,aAAA;CACA;AAEA;EACA,eAAA;EACA,iCAAA;EACA,WAAA;CACA;AAEA;EACA,mBAAA;EACA,kBAAA;CACA;AAEA;EACA,qBAAA;EAAA,qBAAA;EAAA,cAAA;EACA,iBAAA;CACA;AAEA;EACA,aAAA;EACA,WAAA;EACA,cAAA;EACA,kBAAA;CACA",file:"detailsPage.vue",sourcesContent:['<template>\n  <div>\n    <div class="content">\n      <div :class="Quota>0?\'\':\'border-right\'">\n        <div>\n          <p>支付凭证</p>\n          <p><img :src="detailsData.img"\n                 style="width: 300px;height: 400px;"></p>\n          <p>应缴金额：{{detailsData.price+\'元\'}}</p>\n        </div>\n      </div>\n      <div :class="Quota>0?\'border-left\':\'\'">\n        <ul class="list">\n          <li>市区代理名称:{{detailsData.company}}</li>\n          <li>联系电话:{{detailsData.phone}}</li>\n          <li>延迟罚款:\n            <div><input type="text"\n                     v-model="Delayedfines"></div>\n          </li>\n          <li>\n            市级代理利润:\n            <div><input type="text"\n                     readonly\n                     v-model=\'pro\'></div>\n          </li>\n          \x3c!-- <li>\n            运营商:\n            <div><input type="text" ></div>\n          </li>\n          <li>\n             服务经理:\n            <div><input type="text" ></div>\n          </li> --\x3e\n          <li>授信金额:\n            <div><input type="text"\n                     v-model="Quota"></div>\n          </li>\n        </ul>\n        <ul class="list"\n            v-show="Quota>0">\n          \x3c!-- <li>单位:\n            <div><input type="text" v-model="Company"></div>\n          </li> --\x3e\n          <li>联系人:\n            <div><input type="text"\n                     v-model="Contacts"></div>\n          </li>\n          <li>电话:\n            <div><input type="text"\n                     v-model="Telephone"></div>\n          </li>\n\n        </ul>\n        <ul class="list">\n          <li @click="region"><a href="javscript:;"\n               style="color:#04BBFC">区域:{{detailsData.regions}}</a></li>\n        </ul>\n      </div>\n\n    </div>\n    <div class="el_btn">\n      <el-button type="danger"\n                 style="margin-right: 300px;"\n                 round\n                 @click="Reject">驳回</el-button>\n      <el-button type="primary"\n                 round\n                 @click="adopt">通过</el-button>\n    </div>\n    <Reject-dialog :visible="centerDialogVisible"\n                   @preservation="preservation"\n                   @close="close"></Reject-dialog>\n    <Region-dialog title="区域个数"\n                   @regionClose="regionClose"\n                   :countyShow="false"\n                   :Province="Province"\n                   :regionVisible="regionDialogVisible"></Region-dialog>\n  </div>\n</template>\n<script>\nimport RejectDialog from "@/components/Dialog/RejectDialog"\nimport RegionDialog from \'@/components/Dialog/RegionDialog\'\nexport default {\n  data () {\n    return {\n      token: window.sessionStorage.getItem("bbytoken"),\n      centerDialogVisible: false,\n      detailsData: {},\n      Quota: "",\n      Divideinto: "",\n      Delayedfines: 500,\n      Company: "",\n      Contacts: "",\n      Telephone: "",\n      pro: 5, //市级代理利润\n      id: this.$route.query.gid, //每一条数据的id\n      Province: null,  //地区的数据\n      regionDialogVisible: false, //区域的弹出框,默认隐藏\n    }\n  },\n  components: {\n    RejectDialog\n  },\n  created () {\n    this.init()\n  },\n  methods: {\n    init () {\n      this.$axios.post("supply/areaList", { token: this.token, id: this.id }).then(res => {\n        if (res.data.code == 1) {\n          this.detailsData = {\n            company: res.data.data.company,\n            phone: res.data.data.phone,\n            price: res.data.data.price,\n            regions: res.data.data.regions,\n            img: res.data.data.voucher,\n            gid: res.data.data.gid\n          }\n        }\n\n      }).\n        catch(err => {\n\n        })\n    },\n    Reject () {\n      this.centerDialogVisible = true\n    },\n    preservation (reason, id) {\n\n      this.$axios.post("supply/reject", { token: this.token, id: id, reason: reason }).then(res => {\n        if (res.data.code == 1\n        ) {\n          var that = this\n\n          layer.msg(res.data.msg, { time: 2000 }, function () {\n            that.$router.push({ path: "/MunicipalAgent/increaseRegion/Reject", query: { id: that.$route.query.id } })\n          })\n        }\n      }).\n        catch(err => {\n\n        })\n    },\n    close () {\n      this.centerDialogVisible = false;\n    },\n    adopt () {\n      if (!this.Delayedfines) {\n        layer.msg("请输入延迟罚款")\n        return;\n      }\n      if (this.Quota) {\n        // if (!this.Company) {\n        //   layer.msg("请输入单位名称")\n        //   return;\n        // }\n        if (!this.Contacts) {\n          layer.msg("请输入联系人")\n          return;\n        }\n        if (!this.Telephone) {\n          layer.msg("请输入手机号")\n          return;\n        }\n      }\n\n      var obj = {\n        token: this.token,\n        gid: this.detailsData.gid,\n        id: this.$route.query.gid,\n        delay_fines: this.Delayedfines,\n        credit: this.Quota,\n        name: this.Contacts,\n        iphone: this.Telephone,\n        regions: this.detailsData.regions,\n        pro: this.pro\n      }\n      this.$axios.post("supply/areaPost", obj).then(res => {\n\n        if (res.data.code == 1) {\n          var that = this;\n          layer.msg(res.data.msg, function () {\n            that.$router.push({ path: "/MunicipalAgent/increaseRegion/Adopt", query: { id: that.$route.query.id } })\n          })\n        }\n      }).\n        catch(err => {\n          throw (err)\n        })\n    },\n    //点击区域查看地区\n    region () {\n      //请求详细地区的接口\n      this.$axios.post("supply/areaRegion", { token: this.token, id: this.id }).then(res => {\n        if (res.data.code == 1) {\n          this.regionDialogVisible = true\n          this.Province = res.data.data\n        } else {\n          this.regionDialogVisible = false;\n          layer.msg(res.data.msg, { time: 1000 })\n        }\n      }).catch(err => console.log(err))\n    },\n    //关闭地区弹出框\n    regionClose () {\n      this.regionDialogVisible = false\n    }\n  }\n}\n<\/script>\n<style scoped>\n.content {\n  width: 100%;\n  margin-top: 100px;\n}\n\n.content > div {\n  width: 50%;\n  float: left;\n}\n\n.content:after {\n  display: block;\n  content: "";\n  clear: both;\n}\n\n.content > div:first-child {\n  text-align: center;\n}\n\n.border-right {\n  border-right: 1px dashed #04bbfc;\n}\n\n.border-left {\n  border-left: 1px dashed #04bbfc;\n}\n\n.content > div:last-child {\n  padding-left: 150px;\n}\n\n.content > div:first-child p {\n  margin-bottom: 50px;\n}\n\n.list {\n  font-size: 20px;\n}\n\n.list > li {\n  margin-bottom: 30px;\n}\n\n.list > li input {\n  border: none;\n\n  height: 23px;\n}\n\n.list > li div {\n  margin: 10px 0;\n  border-bottom: 1px solid #979797;\n  width: 30%;\n}\n\n.el_btn {\n  text-align: center;\n  margin-top: 150px;\n}\n\n.Reason {\n  display: flex;\n  margin-top: 30px;\n}\n\ntextarea {\n  resize: none;\n  width: 80%;\n  height: 150px;\n  margin-left: 10px;\n}\n</style>\n'],sourceRoot:""}])},Un5T:function(n,t,e){var i=e("AVEq");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("rjj0")("4449763e",i,!1,{})},XH4R:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e("2tkk"),a=(e("Tb/d"),{data:function(){return{token:window.sessionStorage.getItem("bbytoken"),centerDialogVisible:!1,detailsData:{},Quota:"",Divideinto:"",Delayedfines:500,Company:"",Contacts:"",Telephone:"",pro:5,id:this.$route.query.gid,Province:null,regionDialogVisible:!1}},components:{RejectDialog:i.a},created:function(){this.init()},methods:{init:function(){var n=this;this.$axios.post("supply/areaList",{token:this.token,id:this.id}).then(function(t){1==t.data.code&&(n.detailsData={company:t.data.data.company,phone:t.data.data.phone,price:t.data.data.price,regions:t.data.data.regions,img:t.data.data.voucher,gid:t.data.data.gid})}).catch(function(n){})},Reject:function(){this.centerDialogVisible=!0},preservation:function(n,t){var e=this;this.$axios.post("supply/reject",{token:this.token,id:t,reason:n}).then(function(n){if(1==n.data.code){var t=e;layer.msg(n.data.msg,{time:2e3},function(){t.$router.push({path:"/MunicipalAgent/increaseRegion/Reject",query:{id:t.$route.query.id}})})}}).catch(function(n){})},close:function(){this.centerDialogVisible=!1},adopt:function(){var n=this;if(this.Delayedfines){if(this.Quota){if(!this.Contacts)return void layer.msg("请输入联系人");if(!this.Telephone)return void layer.msg("请输入手机号")}var t={token:this.token,gid:this.detailsData.gid,id:this.$route.query.gid,delay_fines:this.Delayedfines,credit:this.Quota,name:this.Contacts,iphone:this.Telephone,regions:this.detailsData.regions,pro:this.pro};this.$axios.post("supply/areaPost",t).then(function(t){if(1==t.data.code){var e=n;layer.msg(t.data.msg,function(){e.$router.push({path:"/MunicipalAgent/increaseRegion/Adopt",query:{id:e.$route.query.id}})})}}).catch(function(n){throw n})}else layer.msg("请输入延迟罚款")},region:function(){var n=this;this.$axios.post("supply/areaRegion",{token:this.token,id:this.id}).then(function(t){1==t.data.code?(n.regionDialogVisible=!0,n.Province=t.data.data):(n.regionDialogVisible=!1,layer.msg(t.data.msg,{time:1e3}))}).catch(function(n){return console.log(n)})},regionClose:function(){this.regionDialogVisible=!1}}}),o=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("div",{staticClass:"content"},[e("div",{class:n.Quota>0?"":"border-right"},[e("div",[e("p",[n._v("支付凭证")]),n._v(" "),e("p",[e("img",{staticStyle:{width:"300px",height:"400px"},attrs:{src:n.detailsData.img}})]),n._v(" "),e("p",[n._v("应缴金额："+n._s(n.detailsData.price+"元"))])])]),n._v(" "),e("div",{class:n.Quota>0?"border-left":""},[e("ul",{staticClass:"list"},[e("li",[n._v("市区代理名称:"+n._s(n.detailsData.company))]),n._v(" "),e("li",[n._v("联系电话:"+n._s(n.detailsData.phone))]),n._v(" "),e("li",[n._v("延迟罚款:\n          "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:n.Delayedfines,expression:"Delayedfines"}],attrs:{type:"text"},domProps:{value:n.Delayedfines},on:{input:function(t){t.target.composing||(n.Delayedfines=t.target.value)}}})])]),n._v(" "),e("li",[n._v("\n          市级代理利润:\n          "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:n.pro,expression:"pro"}],attrs:{type:"text",readonly:""},domProps:{value:n.pro},on:{input:function(t){t.target.composing||(n.pro=t.target.value)}}})])]),n._v(" "),e("li",[n._v("授信金额:\n          "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:n.Quota,expression:"Quota"}],attrs:{type:"text"},domProps:{value:n.Quota},on:{input:function(t){t.target.composing||(n.Quota=t.target.value)}}})])])]),n._v(" "),e("ul",{directives:[{name:"show",rawName:"v-show",value:n.Quota>0,expression:"Quota>0"}],staticClass:"list"},[e("li",[n._v("联系人:\n          "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:n.Contacts,expression:"Contacts"}],attrs:{type:"text"},domProps:{value:n.Contacts},on:{input:function(t){t.target.composing||(n.Contacts=t.target.value)}}})])]),n._v(" "),e("li",[n._v("电话:\n          "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:n.Telephone,expression:"Telephone"}],attrs:{type:"text"},domProps:{value:n.Telephone},on:{input:function(t){t.target.composing||(n.Telephone=t.target.value)}}})])])]),n._v(" "),e("ul",{staticClass:"list"},[e("li",{on:{click:n.region}},[e("a",{staticStyle:{color:"#04BBFC"},attrs:{href:"javscript:;"}},[n._v("区域:"+n._s(n.detailsData.regions))])])])])]),n._v(" "),e("div",{staticClass:"el_btn"},[e("el-button",{staticStyle:{"margin-right":"300px"},attrs:{type:"danger",round:""},on:{click:n.Reject}},[n._v("驳回")]),n._v(" "),e("el-button",{attrs:{type:"primary",round:""},on:{click:n.adopt}},[n._v("通过")])],1),n._v(" "),e("Reject-dialog",{attrs:{visible:n.centerDialogVisible},on:{preservation:n.preservation,close:n.close}}),n._v(" "),e("Region-dialog",{attrs:{title:"区域个数",countyShow:!1,Province:n.Province,regionVisible:n.regionDialogVisible},on:{regionClose:n.regionClose}})],1)};o._withStripped=!0;var s={render:o,staticRenderFns:[]},r=s;var l=!1;var d=e("VU/8")(a,r,!1,function(n){l||e("Un5T")},"data-v-4b4d9ac5",null);d.options.__file="src/components/MunicipalAgent/detailsPage.vue";t.default=d.exports}});
//# sourceMappingURL=113.5e7e37c1a4a07dcdbdca.js.map
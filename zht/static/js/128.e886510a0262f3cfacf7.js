webpackJsonp([128],{"+LhV":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("bOdI"),i=e.n(a),r=e("E7z3"),o={data:function(){var t;return t={list:[],token:window.sessionStorage.getItem("bbytoken"),page:1,totalpage:1,index:1,endpage:1,arr:[],n:1,pageCount:1,reason:"",id:"",authList:[],curId:0,seCurId:0,detailsDialogVisible:!1,detailsList:[],eachData:{}},i()(t,"reason",""),i()(t,"threeAuthList",[]),t},methods:{go:r.a.go,first:r.a.first,end:r.a.end,prev:r.a.prev,next:r.a.next,showpage:r.a.showpage,paging:function(t){this.page=t,this.init()},init:function(){var t=this;this.$axios.post("admin/ShopMateriel/lbList",{token:this.token,page:this.page,status:3}).then(function(n){1==n.data.code?(t.list=n.data.data.list,t.showpage(n.data.data),t.pageCount=n.data.data.rows):(t.list=[],layer.msg(n.data.msg))}).catch(function(t){return console.log(t)})}},created:function(){this.init()},mounted:function(){var t=this,n=this.$route.query.id;this.curId=n,this.$axios.post("admin/Auth/erAuth",{token:window.sessionStorage.getItem("bbytoken"),id:n}).then(function(n){if(1==n.data.code){for(var e=n.data.data,a=0;a<e.length;a++)if(e[a].son){"致敬老兵"==e[a].name&&(t.seCurId=e[a].id,t.threeAuthList=e[a].son);for(var i=0;i<e[a].son.length;i++)e[a].action!=e[a].son[i].action&&(e[a].action=e[a].son[0].action),"订单关闭列表"==e[a].son[i].name&&"物料审核"==e[a].name&&(t.thCurId=e[a].son[i].id)}t.authList=e}else t.$alert(n.data.msg,"提示",{type:"error"})}).catch(function(t){alert(t)})},watch:{index:function(){this.init()}}},s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("ctbHead",t._l(t.authList,function(n){return e("router-link",{key:n.id,class:t.seCurId==n.id?"cur":"",attrs:{to:{path:n.action,query:{id:t.curId}},"v-key":n.id}},[t._v(t._s(n.name)+"\n\t\t\t")])}),1),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"quote"},[t._m(0),t._v(" "),e("div",{staticClass:"quote-nav"},t._l(t.threeAuthList,function(n){return e("router-link",{key:n.id,class:t.thCurId==n.id?"cur":"",attrs:{to:{path:n.action,query:{id:t.curId}}}},[t._v(t._s(n.name))])}),1)]),t._v(" "),e("table",{staticClass:"table"},[t._m(1),t._v(" "),e("tbody",t._l(t.list,function(n){return e("tr",[e("td",{staticClass:"t-l"},[t._v(t._s(n.company))]),t._v(" "),e("td",[t._v(t._s(n.phone))]),t._v(" "),e("td",[t._v(t._s(n.leader))]),t._v(" "),e("td",[t._v(t._s(n.create_time))]),t._v(" "),e("td",[t._v(t._s(n.audit_time))])])}),0)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.pageCount&&t.pageCount>1,expression:"pageCount&&pageCount>1"}],staticClass:"page_center"},[e("paging",{attrs:{"page-count":t.pageCount,page:t.page},on:{index:t.paging}})],1)])],1)};s._withStripped=!0;var d={render:s,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"quote-ele"},[n("i"),this._v("物料审核")])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("thead",[e("tr",[e("th",[t._v("维修厂")]),t._v(" "),e("th",[t._v("联系电话")]),t._v(" "),e("th",[t._v("负责人")]),t._v(" "),e("th",[t._v("申请时间")]),t._v(" "),e("th",[t._v("订单关闭时间")])])])}]},A=d;var l=!1;var c=e("VU/8")(o,A,!1,function(t){l||e("EeMH")},"data-v-3339e484",null);c.options.__file="src/components/shoplist/veteranOrderClose.vue";n.default=c.exports},EeMH:function(t,n,e){var a=e("unQZ");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("rjj0")("53fd2f08",a,!1,{})},unQZ:function(t,n,e){(t.exports=e("FZ+f")(!0)).push([t.i,"\n.laybox[data-v-3339e484] {\n\ttext-align: center;\n\tpadding: 50px 68px 50px 36px;\n\tfont-size: 16px;\n\toverflow: hidden;\n}\n.laybox textarea[data-v-3339e484] {\n\toutline: none;\n\tresize: none;\n    width: 80%;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-flow: 1;\n            flex-flow: 1;\n\theight: 250px;\n\tborder: 1px dashed #04BBFC;\n\tmargin-bottom: 60px;\n\n\tborder-radius: 15px;\n}\n.laybox>p[data-v-3339e484]{\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-flow: 1;\n\t        flex-flow: 1;\n}\ndiv.bot button[data-v-3339e484] {\n\twidth: 110px;\n\theight: 36px;\n\tborder-radius: 18px;\n\t-webkit-box-shadow: 4px 0px 6px rgba(177, 42, 19, 0.2);\n\t        box-shadow: 4px 0px 6px rgba(177, 42, 19, 0.2);\n\tborder: none;\n\tcolor: white;\n}\nbutton.reject[data-v-3339e484] {\n\tbackground: rgba(237, 81, 55, 1);\n\tmargin-right: 30%;\n}\nbutton.pass[data-v-3339e484] {\n\tbackground-color: #20A0FF;\n}\n","",{version:3,sources:["F:/仲达集团/2020-3-18总后台管理系统/src/components/shoplist/src/components/shoplist/veteranOrderClose.vue"],names:[],mappings:";AA2JA;CACA,mBAAA;CACA,6BAAA;CACA,gBAAA;CACA,iBAAA;CACA;AAEA;CACA,cAAA;CACA,aAAA;IACA,WAAA;IACA,6BAAA;IAAA,8BAAA;QAAA,iBAAA;YAAA,aAAA;CACA,cAAA;CACA,2BAAA;CACA,oBAAA;;CAEA,oBAAA;CACA;AACA;CACA,qBAAA;CAAA,qBAAA;CAAA,cAAA;CACA,6BAAA;CAAA,8BAAA;KAAA,iBAAA;SAAA,aAAA;CAEA;AAEA;CACA,aAAA;CACA,aAAA;CACA,oBAAA;CACA,uDAAA;SAAA,+CAAA;CACA,aAAA;CACA,aAAA;CACA;AAEA;CACA,iCAAA;CACA,kBAAA;CACA;AAEA;CACA,0BAAA;CACA",file:"veteranOrderClose.vue",sourcesContent:['<template>\n\t<div>\n\t\t<ctbHead>\n\t\t\t<router-link :class="seCurId==item.id? \'cur\':\'\'" v-for="item in authList" :key="item.id" :to="{path:item.action,query:{id:curId}}" :v-key="item.id">{{item.name}}\n\t\t\t</router-link>\n\t\t</ctbHead>\n\t\t<div class="container">\n\t\t\t<div class="quote">\n\t\t\t\t<div class="quote-ele"><i></i>物料审核</div>\n\t\t\t\t<div class="quote-nav">\n\t\t\t\t\t<router-link :class="thCurId==item.id? \'cur\':\'\'" v-for="item in threeAuthList" :key="item.id" :to="{path:item.action,query:{id:curId}}">{{item.name}}</router-link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<table class="table">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>维修厂</th>\n\t\t\t\t\t\t<th>联系电话</th>\n\t\t\t\t\t\t<th>负责人</th>\n\t\t\t\t\t\t<th>申请时间</th>\n                        <th>订单关闭时间</th>\n\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr v-for="item in list">\n\t\t\t\t\t\t<td class="t-l">{{item.company}}</td>\n\t\t\t\t\t\t<td>{{item.phone}}</td>\n\t\t\t\t\t\t<td>{{item.leader}}</td>\n\t\t\t\t\t\t<td>{{item.create_time}}</td>\n                        <td>{{item.audit_time}}</td>\n\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\n\n\t\t\t\x3c!-- 分页 --\x3e\n\t\t\t<div class="page_center" v-show="pageCount&&pageCount>1">\n\t\t\t\t<paging :page-count="pageCount" :page="page" @index="paging"></paging>\n\t\t\t\t\x3c!--分页的组件--\x3e\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n</template>\n<script type="text/ecmascript-6">\n\timport page from \'../common.js\';\n\texport default {\n\t\tdata() {\n\t\t\t\treturn {\n\t\t\t\t\tlist: [],\n\t\t\t\t\ttoken: window.sessionStorage.getItem(\'bbytoken\'),\n\t\t\t\t\t//分页数据\n\t\t\t\t\tpage: 1, //显示的页码数\n\t\t\t\t\ttotalpage: 1, //总页数\n\t\t\t\t\tindex: 1, //点击的当前页，\n\t\t\t\t\tendpage: 1, //当前一组页码的最大值\n\t\t\t\t\tarr: [], //默认显示 1 2 3 4 5页\n\t\t\t\t\tn: 1, //当前点击的页码的位置\n\t\t\t\t\tpageCount: 1,\n\t\t\t\t\treason: \'\',\n\t\t\t\t\tid: \'\',\n\t\t\t\t\tauthList: [],\n\t\t\t\t\tcurId: 0,\n                    seCurId: 0,\n                    detailsDialogVisible:false,\n                    detailsList:[],\n                    eachData:{},\n                    reason:\'\',\n          threeAuthList: []\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tmethods: {\n\t\t\t\tgo: page.go,\n\t\t\t\tfirst: page.first,\n\t\t\t\tend: page.end,\n\t\t\t\tprev: page.prev,\n\t\t\t\tnext: page.next,\n\t\t\t\tshowpage: page.showpage,\n\t\t\t\tpaging(e) {\n\t\t\t\t\tthis.page = e;\n\t\t\t\t\tthis.init()\n\t\t\t\t},\n\t\t\t\tinit() {\n\t\t\t\t\tthis.$axios.post(\'admin/ShopMateriel/lbList\', {\n\t\t\t\t\t\t\ttoken: this.token,\n                            page: this.page,\n                            status:3\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(res.data.code == 1) {\n\t\t\t\t\t\t\t\tthis.list = res.data.data.list;\n\t\t\t\t\t\t\t\tthis.showpage(res.data.data);\n\t\t\t\t\t\t\t\tthis.pageCount = res.data.data.rows\n\t\t\t\t\t\t\t}else{\n                                this.list=[]\n\t\t\t\t\t\t\t\tlayer.msg(res.data.msg)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => console.log(err))\n\t\t\t\t},\n\t\t\t},\n\t\t\tcreated() {\n\t\t\t\tthis.init();\n\t\t\t},\n\t\t\tmounted() {\n\t\t\t\tvar id = this.$route.query.id;\n\t\t\t\tthis.curId = id;\n\t\t\t\tthis.$axios.post(\'admin/Auth/erAuth\', {\n\t\t\t\t\t\ttoken: window.sessionStorage.getItem(\'bbytoken\'),\n\t\t\t\t\t\tid: id\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(res.data.code == 1) {\n\t\t\t\t\t\t\tvar arr = res.data.data;\n\t\t\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {\n\t\t\t\t\t\t\t\tif(arr[i].son) {\n\t\t\t\t\t\t\t\t\tif(arr[i].name == \'致敬老兵\') {\n\t\t\t\t\t\t\t\t\t\tthis.seCurId = arr[i].id;\n\t\t\t\t\t\t\t\t\t\tthis.threeAuthList = arr[i].son;\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tfor(var j = 0; j < arr[i].son.length; j++) {\n\t\t\t\t\t\t\t\t\t\tif(arr[i].action != arr[i].son[j].action) {\n\t\t\t\t\t\t\t\t\t\t\tarr[i].action = arr[i].son[0].action;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif(arr[i].son[j].name == \'订单关闭列表\' && arr[i].name == \'物料审核\') {\n\t\t\t\t\t\t\t\t\t\t\tthis.thCurId = arr[i].son[j].id;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.authList = arr;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$alert(res.data.msg, \'提示\', {\n\t\t\t\t\t\t\t\ttype: \'error\'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\talert(err);\n\t\t\t\t\t})\n\t\t\t},\n\t\t\twatch: {\n\t\t\t\tindex() {\n\t\t\t\t\tthis.init();\n\t\t\t\t}\n\t\t\t}\n\t}\n<\/script>\n<style scoped>\n\t.laybox {\n\t\ttext-align: center;\n\t\tpadding: 50px 68px 50px 36px;\n\t\tfont-size: 16px;\n\t\toverflow: hidden;\n\t}\n\n\t.laybox textarea {\n\t\toutline: none;\n\t\tresize: none;\n\t    width: 80%;\n\t    flex-flow: 1;\n\t\theight: 250px;\n\t\tborder: 1px dashed #04BBFC;\n\t\tmargin-bottom: 60px;\n\n\t\tborder-radius: 15px;\n\t}\n\t.laybox>p{\n\t\tdisplay: flex;\n\t\tflex-flow: 1;\n\n\t}\n\n\tdiv.bot button {\n\t\twidth: 110px;\n\t\theight: 36px;\n\t\tborder-radius: 18px;\n\t\tbox-shadow: 4px 0px 6px rgba(177, 42, 19, 0.2);\n\t\tborder: none;\n\t\tcolor: white;\n\t}\n\n\tbutton.reject {\n\t\tbackground: rgba(237, 81, 55, 1);\n\t\tmargin-right: 30%;\n\t}\n\n\tbutton.pass {\n\t\tbackground-color: #20A0FF;\n\t}\n</style>\n'],sourceRoot:""}])}});
//# sourceMappingURL=128.e886510a0262f3cfacf7.js.map
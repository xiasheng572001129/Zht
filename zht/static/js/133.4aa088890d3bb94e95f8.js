webpackJsonp([133],{GxoR:function(n,a,t){var e=t("X/TQ");"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);t("rjj0")("3e86f84c",e,!1,{})},McLn:function(n,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e={data:function(){return{token:window.sessionStorage.getItem("bbytoken"),managerData:{},Earlystage:{}}},methods:{init:function(){var n=this;this.$axios.post("admin/SmSet/setList",{token:this.token}).then(function(a){if(1==a.data.code){var t=a.data.data;n.managerData=t[0],n.managerData.token=n.token,n.ChiefInspector=t[1],n.ChiefInspector.token=n.token}else n.managerData.token=n.token,n.ChiefInspector.token=n.token}).catch(function(n){return console.log(n)}),this.$axios.post("admin/SmSet/rationSm",{token:this.token}).then(function(a){1==a.data.code&&(n.Earlystage=a.data.data)})},Preservation:function(n){1==n&&this.modify_increase(this.managerData),2==n&&this.SetToConfigure(this.Earlystage)},modify_increase:function(n){this.$axios.post("admin/SmSet/set",n).then(function(n){n.data.code,layer.msg(n.data.msg,{time:1e3})}).catch(function(n){return console.log(n)})},SetToConfigure:function(n){var a=this;this.$axios.post("admin/SmSet/joinLast",{token:this.token,ration:n.ration}).then(function(n){layer.msg(n.data.msg),1==n.data.code&&a.init()}).catch(function(n){return console.log(err)})}},mounted:function(){this.init()}},i=function(){var n=this,a=n.$createElement,t=n._self._c||a;return t("div",{},[t("herderBar"),n._v(" "),t("div",{staticClass:"Setup"},[t("div",{staticClass:"manager"},[t("div",{staticClass:"title"},[n._v("服务经理奖励设置")]),n._v(" "),t("div",{staticClass:"Small_Setup"},[n._m(0),n._v(" "),t("div",{staticClass:"Setup_val"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.managerData.ubi_reward,expression:"managerData.ubi_reward"}],staticClass:"input",domProps:{value:n.managerData.ubi_reward},on:{input:function(a){a.target.composing||n.$set(n.managerData,"ubi_reward",a.target.value)}}}),n._v(" "),t("span",[n._v("元")])])]),n._v(" "),t("div",{staticClass:"Small_Setup"},[n._m(1),n._v(" "),t("div",{staticClass:"Setup_val"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.managerData.devel_reward,expression:"managerData.devel_reward"}],staticClass:"input",domProps:{value:n.managerData.devel_reward},on:{input:function(a){a.target.composing||n.$set(n.managerData,"devel_reward",a.target.value)}}}),n._v(" "),t("span",[n._v("元")])])]),n._v(" "),t("div",{staticClass:"Small_Setup"},[n._m(2),n._v(" "),t("div",{staticClass:"Setup_val"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.managerData.team_reward,expression:"managerData.team_reward"}],staticClass:"input",domProps:{value:n.managerData.team_reward},on:{input:function(a){a.target.composing||n.$set(n.managerData,"team_reward",a.target.value)}}}),n._v(" "),t("span",[n._v("元")])])]),n._v(" "),t("div",{staticClass:"Small_Setup"},[n._m(3),n._v(" "),t("div",{staticClass:"Setup_val"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.managerData.maid,expression:"managerData.maid"}],staticClass:"input",domProps:{value:n.managerData.maid},on:{input:function(a){a.target.composing||n.$set(n.managerData,"maid",a.target.value)}}}),n._v(" "),t("span",[n._v("%")])])]),n._v(" "),t("div",{staticClass:"Preservation"},[t("button",{on:{click:function(a){return n.Preservation(1)}}},[n._v("保存")])])]),n._v(" "),t("div",{staticClass:"manager"},[t("div",{staticClass:"title"},[n._v("期初配给设置")]),n._v(" "),t("div",{staticClass:"Small_Setup"},[n._m(4),n._v(" "),t("div",{staticClass:"Setup_val"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.Earlystage.ration,expression:"Earlystage.ration"}],staticClass:"input",domProps:{value:n.Earlystage.ration},on:{input:function(a){a.target.composing||n.$set(n.Earlystage,"ration",a.target.value)}}}),n._v(" "),t("span",[n._v("台")])])]),n._v(" "),t("div",{staticClass:"Preservation"},[t("button",{on:{click:function(a){return n.Preservation(2)}}},[n._v("保存")])])])])],1)};i._withStripped=!0;var s={render:i,staticRenderFns:[function(){var n=this.$createElement,a=this._self._c||n;return a("div",{},[a("div",[this._v("供应奖励设置")])])},function(){var n=this.$createElement,a=this._self._c||n;return a("div",{},[a("div",[this._v("开发奖励设置")]),this._v(" "),a("div",{staticClass:"col-FA644B"},[this._v("开发维修厂奖励金额")])])},function(){var n=this.$createElement,a=this._self._c||n;return a("div",{},[a("div",[this._v("开发运营商奖励设置")])])},function(){var n=this.$createElement,a=this._self._c||n;return a("div",{},[a("div",[this._v("管理奖励分成")])])},function(){var n=this.$createElement,a=this._self._c||n;return a("div",{},[a("div",[this._v("物料")])])}]},r=s;var o=!1;var A=t("VU/8")(e,r,!1,function(n){o||t("GxoR")},"data-v-2b2bfb3a",null);A.options.__file="src/pages/serviceManager/rewardSetup/rewardSetup.vue";a.default=A.exports},"X/TQ":function(n,a,t){(n.exports=t("FZ+f")(!0)).push([n.i,'\n.Setup[data-v-2b2bfb3a]{\n  height: 1000px;\n  background-color: #f5f5f5;\n}\n/* 服务经理奖励设置 */\n.manager[data-v-2b2bfb3a]{\n  background-color: #fff;\n  margin: 0 40px 10px 40px;\n}\n.manager>div[data-v-2b2bfb3a]{\n  margin-left: 40px;\n}\n.title[data-v-2b2bfb3a]{\n  padding: 20px 0;\n  border-bottom: 1px solid #E6E6EB\n}\n.Small_Setup[data-v-2b2bfb3a]:after{\n  display: block;\n  content: "";\n  clear: both;\n}\n.Small_Setup[data-v-2b2bfb3a]{\n  margin-top: 23px;\n}\n.Small_Setup>div[data-v-2b2bfb3a]:first-child{\n  width: 140px;\n}\n.Small_Setup>div[data-v-2b2bfb3a]{\n  float: left;\n  margin-right: 54px\n}\n.Setup_val[data-v-2b2bfb3a]{\n  position: relative;\n}\n.abs[data-v-2b2bfb3a]{\n  position:absolute;\n  right: -30px;\n  top: 10px\n}\n.input[data-v-2b2bfb3a]{\n  width: 150px;\n  height: 38px;\n  margin-right: 10px;\n  background:rgba(245,245,250,1);\n  border: 1px solid rgba(230,230,235,1);\n  text-align: center;\n}\n.taskNumber[data-v-2b2bfb3a]{\n  display: inline-block;\n  margin-right: 60px;\n}\n/* 保存 */\n.Preservation>button[data-v-2b2bfb3a]{\n  width: 120px;\n  height: 40px;\n  background-color: #1EA0FF;\n  color: #fff;\n  line-height: 40px;\n  margin: 50px 0 28px 0\n}\n/* 运营总监奖励设置 */\n.ChiefInspector[data-v-2b2bfb3a]{\n  background-color: #fff;\n  margin: 0 40px 10px 40px;\n}\n.ChiefInspector>div[data-v-2b2bfb3a]{\n  margin-left: 40px;\n}\n',"",{version:3,sources:["F:/仲达集团/2020-3-18总后台管理系统/src/pages/serviceManager/rewardSetup/src/pages/serviceManager/rewardSetup/rewardSetup.vue"],names:[],mappings:";AAwIA;EACA,eAAA;EACA,0BAAA;CACA;AACA,cAAA;AACA;EACA,uBAAA;EACA,yBAAA;CACA;AACA;EACA,kBAAA;CACA;AACA;EACA,gBAAA;EACA,gCAAA;CACA;AACA;EACA,eAAA;EACA,YAAA;EACA,YAAA;CACA;AACA;EACA,iBAAA;CACA;AACA;EACA,aAAA;CACA;AACA;EACA,YAAA;EACA,kBAAA;CACA;AACA;EACA,mBAAA;CAEA;AAEA;EACA,kBAAA;EACA,aAAA;EACA,SAAA;CACA;AACA;EACA,aAAA;EACA,aAAA;EACA,mBAAA;EACA,+BAAA;EACA,sCAAA;EACA,mBAAA;CACA;AACA;EACA,sBAAA;EACA,mBAAA;CACA;AACA,QAAA;AACA;EACA,aAAA;EACA,aAAA;EACA,0BAAA;EACA,YAAA;EACA,kBAAA;EACA,qBAAA;CACA;AACA,cAAA;AACA;EACA,uBAAA;EACA,yBAAA;CAEA;AACA;EACA,kBAAA;CACA",file:"rewardSetup.vue",sourcesContent:['<template lang="html">\n  <div class="">\n    <herderBar></herderBar>\n    <div class="Setup">\n      <div class="manager">\n        <div class="title">服务经理奖励设置</div>\n        <div class="Small_Setup">\n          <div class="">\n            <div>供应奖励设置</div>\n           \n          </div>\n          <div class="Setup_val">\n            <input class="input" v-model="managerData.ubi_reward"/>\n            <span >元</span>\n          </div>\n        </div>\n        <div class="Small_Setup">\n          <div class="">\n            <div>开发奖励设置</div>\n            <div class="col-FA644B">开发维修厂奖励金额</div>\n          </div>\n          <div class="Setup_val">\n            <input class="input" v-model="managerData.devel_reward"/>\n            <span >元</span>\n          </div>\n        </div>\n         <div class="Small_Setup">\n          <div class="">\n            <div>开发运营商奖励设置</div>\n          </div>\n          <div class="Setup_val">\n            <input class="input" v-model="managerData.team_reward"/>\n            <span >元</span>\n          </div>\n        </div>\n        <div class="Small_Setup">\n          <div class="">\n            <div>管理奖励分成</div>\n\n          </div>\n          <div class="Setup_val">\n            <input class="input" v-model="managerData.maid"/>\n            <span>%</span>\n          </div>\n        </div>\n      \n        <div class="Preservation">\n          <button @click="Preservation(1)">保存</button>\n        </div>\n      </div>\n     <div class="manager">\n        <div class="title">期初配给设置</div>\n        <div class="Small_Setup">\n          <div class="">\n            <div>物料</div>\n           \n          </div>\n          <div class="Setup_val">\n            <input class="input" v-model="Earlystage.ration"/>\n            <span >台</span>\n          </div>\n        </div>\n        <div class="Preservation">\n          <button @click="Preservation(2)">保存</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    data(){\n      return{\n        token:window.sessionStorage.getItem(\'bbytoken\'),\n        managerData:{},  //存放服务经理里面的数据\n        Earlystage:{}, //存放运营总监奖励里面的数据\n      }\n    },\n    methods:{\n      //初始化数据,奖励设置内容\n      init(){\n        this.$axios.post(\'admin/SmSet/setList\',{token:this.token}).then(res=>{  //奖励设置内容接口\n          if(res.data.code==1){\n          let data=res.data.data\n          this.managerData=data[0];\n          this.managerData[\'token\']=this.token;\n        \n          this.ChiefInspector=data[1]\n          this.ChiefInspector[\'token\']=this.token;\n        }else{\n          this.managerData[\'token\']=this.token;\n          this.ChiefInspector[\'token\']=this.token;\n        }\n       }).catch(err=>console.log(err))\n       /* 期初配给设置*/\n       this.$axios.post("admin/SmSet/rationSm",{token:this.token}).then(res=>{\n         if(res.data.code==1){\n             this.Earlystage=res.data.data\n         }\n       })\n      },\n     // 点击保存\n      Preservation(e){\n          \n          if(e==1)this.modify_increase(this.managerData);\n          if(e==2)this.SetToConfigure(this.Earlystage)\n      },\n     //奖励设置修改、增加\n      modify_increase(data){\n        this.$axios.post(\'admin/SmSet/set\',data).then(res=>{\n             if(res.data.code==1){\n                layer.msg(res.data.msg,{time:1000})\n             }else{\n                layer.msg(res.data.msg,{time:1000})\n              }\n        }).catch(err=>console.log(err))\n      },\n      /* 设置配给量 */\n      SetToConfigure(data){\n         this.$axios.post(\'admin/SmSet/joinLast\',{token:this.token,ration:data.ration}).then(res=>{\n                 layer.msg(res.data.msg)\n                 if(res.data.code==1){\n                    this.init()\n                 }\n         }).catch(er=>console.log(err))\n      }\n      \n    },\n    mounted(){\n      this.init()\n    }\n  }\n<\/script>\n\n<style lang="css" scoped="scoped">\n  .Setup{\n    height: 1000px;\n    background-color: #f5f5f5;\n  }\n  /* 服务经理奖励设置 */\n  .manager{\n    background-color: #fff;\n    margin: 0 40px 10px 40px;\n  }\n  .manager>div{\n    margin-left: 40px;\n  }\n  .title{\n    padding: 20px 0;\n    border-bottom: 1px solid #E6E6EB\n  }\n  .Small_Setup:after{\n    display: block;\n    content: "";\n    clear: both;\n  }\n  .Small_Setup{\n    margin-top: 23px;\n  }\n  .Small_Setup>div:first-child{\n    width: 140px;\n  }\n  .Small_Setup>div{\n    float: left;\n    margin-right: 54px\n  }\n  .Setup_val{\n    position: relative;\n\n  }\n\n  .abs{\n    position:absolute;\n    right: -30px;\n    top: 10px\n  }\n  .input{\n    width: 150px;\n    height: 38px;\n    margin-right: 10px;\n    background:rgba(245,245,250,1);\n    border: 1px solid rgba(230,230,235,1);\n    text-align: center;\n  }\n  .taskNumber{\n    display: inline-block;\n    margin-right: 60px;\n  }\n  /* 保存 */\n  .Preservation>button{\n    width: 120px;\n    height: 40px;\n    background-color: #1EA0FF;\n    color: #fff;\n    line-height: 40px;\n    margin: 50px 0 28px 0\n  }\n  /* 运营总监奖励设置 */\n  .ChiefInspector{\n    background-color: #fff;\n    margin: 0 40px 10px 40px;\n\n  }\n  .ChiefInspector>div{\n    margin-left: 40px;\n  }\n</style>\n'],sourceRoot:""}])}});
//# sourceMappingURL=133.4aa088890d3bb94e95f8.js.map
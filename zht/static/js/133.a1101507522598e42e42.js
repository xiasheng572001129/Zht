webpackJsonp([133],{iJWD:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n.search[data-v-1479a001] {\n  width: 100%;\n  overflow: hidden;\n}\n.search[data-v-1479a001] {\n  padding: 0px 0px 20px 50px;\n}\n.search[data-v-1479a001] .el-input {\n  width: 20%;\n}\n.search[data-v-1479a001] button {\n  padding: 11px 15px;\n}\n.head_pic[data-v-1479a001] {\n  text-align: center;\n}\n.head_pic > p[data-v-1479a001] {\n  padding: 5px 0;\n}\n.head_pic > img[data-v-1479a001] {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n}\n.details span[data-v-1479a001] {\n  display: inline-block;\n  width: 48%;\n  padding: 10px 0;\n}\n.details p > span[data-v-1479a001]:last-child {\n  text-align: right;\n}\n","",{version:3,sources:["E:/仲达集团/总后台管理系统/Zht-master/src/pages/supplier/productInfo/src/pages/supplier/productInfo/index.vue"],names:[],mappings:";AAyJA;EACA,YAAA;EACA,iBAAA;CACA;AACA;EACA,2BAAA;CACA;AACA;EACA,WAAA;CACA;AACA;EACA,mBAAA;CACA;AAEA;EACA,mBAAA;CACA;AACA;EACA,eAAA;CACA;AACA;EACA,YAAA;EACA,aAAA;EACA,mBAAA;CACA;AACA;EACA,sBAAA;EACA,WAAA;EACA,gBAAA;CACA;AACA;EACA,kBAAA;CACA",file:"index.vue",sourcesContent:['<template>\n  <div>\n    <ctbHead>\n      <router-link :class="seCurId==item.id? \'cur\':\'\'"\n                   v-for="item in authList"\n                   :key="item.id"\n                   :to="{path:item.action,query:{id:curId}}"\n                   :v-key="item.id">\n        {{item.name}}\n      </router-link>\n\n    </ctbHead>\n    <div class="container">\n      <div class="quote">\n        <div class="quote-ele"\n             style="float:left"><i></i>供应商-养护品信息 </div>\n      </div>\n      <div class="search">\n        <el-input placeholder="请输入供应商名称"\n                  v-model="sm_name" />\n        <el-button type="primary"\n                   @click="search">搜索</el-button>\n      </div>\n      <el-table :data=\'list\'>\n        <el-table-column label="供应商名称"\n                         align="center">\n          <template slot-scope="scope">\n            <el-button type="text"\n                       @click="DetailsVisible=true,details(scope.row)">{{scope.row.name}}</el-button>\n          </template>\n        </el-table-column>\n        <el-table-column label="城市"\n                         align="center"\n                         prop="city"></el-table-column>\n        <el-table-column label="产品名称"\n                         align="center"\n                         prop="goods_name"></el-table-column>\n        <el-table-column label="产品品牌"\n                         align="center"\n                         prop="goods_brand"></el-table-column>\n      </el-table>\n      \x3c!-- 供应商信息详情 --\x3e\n      <el-dialog title=\'供应商信息详情\'\n                 center\n                 :visible.sync="DetailsVisible"\n                 width="30%">\n        <div v-if=\'detailsList\'>\n          <div class="head_pic">\n            \x3c!-- <p>头像</p> --\x3e\n            <img :src="detailsList.head_pic">\n          </div>\n          <div class="details">\n            <p>\n              <span>供应商名称: </span>\n              <span>{{detailsList.name}}</span>\n            </p>\n            <p>\n              <span>电话: </span>\n              <span>{{detailsList.phone}}</span>\n            </p>\n\n          </div>\n        </div>\n      </el-dialog>\n      <div class="page_center"\n           v-show="pageCount&&pageCount>1">\n        <paging :page-count="pageCount"\n                :page="page"\n                @index="paging"></paging>\n        \x3c!--分页的组件--\x3e\n      </div>\n    </div>\n  </div>\n</template>\n<script type="text/ecmascript-6">\nimport Viewer from \'@/utils/Viewer\'\nexport default {\n  data () {\n    return {\n      list: [],\n      seCurId: \'\',\n      token: window.sessionStorage.getItem(\'bbytoken\'), //token令牌\n      authList: [],\n      page: 0,  //供应商列表当前页数\n      pageCount: 0, //供应商列表总页数\n      DetailsVisible: false,\n      sm_name: \'\',\n      detailsList: {}\n    }\n  },\n\n  methods: {\n    paging (e) {  //获取供应商列表当前页\n      this.page = e\n      this.init()\n    },\n    search () {  //搜索\n      this.init()\n    },\n    async init () {\n      try {\n        const res = await this.$axios.post(\'admin/SmList/getFreeIndexList\', { token: this.token, page: this.page, sm_name: this.sm_name })\n        this.list = res.data.data.list || []\n        this.pageCount = res.data.data.rows || 0\n      } catch (err) {\n        throw (err)\n      }\n    },\n    //供应商信息详情\n    async details (row) {\n      try {\n        const res = await this.$axios.post(\'admin/SmList/getSmUserInfo\', { token: this.token, sm_id: row.id })\n        this.detailsList = res.data.data\n      } catch (err) {\n        throw (err)\n      }\n    },\n\n\n    // 权限列表,当前所在权限页  \n    erAuth () {\n      var id = this.$route.query.id;\n      this.curId = id;\n      this.$axios.post(\'admin/Auth/erAuth\', {\n        token: window.sessionStorage.getItem(\'bbytoken\'),\n        id: id\n      }).then(res => {\n        if (res.data.code == 1) {\n          var arr = res.data.data || [];\n          this.authList = arr;\n          console.log(this.authList)\n        } else {\n          this.$alert(res.data.msg, \'提示\', {\n            type: \'error\'\n          });\n        }\n      })\n        .catch(err => {\n          alert(err);\n        })\n    }\n  },\n  created () {\n    this.erAuth()\n  },\n  mounted () {\n\n    this.init() //初始化数据  \n\n  },\n}\n<\/script>\n<style scoped>\n.search {\n  width: 100%;\n  overflow: hidden;\n}\n.search {\n  padding: 0px 0px 20px 50px;\n}\n.search >>> .el-input {\n  width: 20%;\n}\n.search >>> button {\n  padding: 11px 15px;\n}\n\n.head_pic {\n  text-align: center;\n}\n.head_pic > p {\n  padding: 5px 0;\n}\n.head_pic > img {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n}\n.details span {\n  display: inline-block;\n  width: 48%;\n  padding: 10px 0;\n}\n.details p > span:last-child {\n  text-align: right;\n}\n</style>'],sourceRoot:""}])},ooRz:function(n,t,e){var a=e("iJWD");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("2fa7a9a8",a,!1,{})},z9Tj:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("Xxa5"),i=e.n(a),s=e("exGp"),r=e.n(s),o=(e("gPgF"),{data:function(){return{list:[],seCurId:"",token:window.sessionStorage.getItem("bbytoken"),authList:[],page:0,pageCount:0,DetailsVisible:!1,sm_name:"",detailsList:{}}},methods:{paging:function(n){this.page=n,this.init()},search:function(){this.init()},init:function(){var n=this;return r()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.$axios.post("admin/SmList/getFreeIndexList",{token:n.token,page:n.page,sm_name:n.sm_name});case 3:e=t.sent,n.list=e.data.data.list||[],n.pageCount=e.data.data.rows||0,t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}},t,n,[[0,8]])}))()},details:function(n){var t=this;return r()(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.post("admin/SmList/getSmUserInfo",{token:t.token,sm_id:n.id});case 3:a=e.sent,t.detailsList=a.data.data,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},erAuth:function(){var n=this,t=this.$route.query.id;this.curId=t,this.$axios.post("admin/Auth/erAuth",{token:window.sessionStorage.getItem("bbytoken"),id:t}).then(function(t){if(1==t.data.code){var e=t.data.data||[];n.authList=e,console.log(n.authList)}else n.$alert(t.data.msg,"提示",{type:"error"})}).catch(function(n){alert(n)})}},created:function(){this.erAuth()},mounted:function(){this.init()}}),l=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("ctbHead",n._l(n.authList,function(t){return e("router-link",{key:t.id,class:n.seCurId==t.id?"cur":"",attrs:{to:{path:t.action,query:{id:n.curId}},"v-key":t.id}},[n._v("\n      "+n._s(t.name)+"\n    ")])}),1),n._v(" "),e("div",{staticClass:"container"},[n._m(0),n._v(" "),e("div",{staticClass:"search"},[e("el-input",{attrs:{placeholder:"请输入供应商名称"},model:{value:n.sm_name,callback:function(t){n.sm_name=t},expression:"sm_name"}}),n._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:n.search}},[n._v("搜索")])],1),n._v(" "),e("el-table",{attrs:{data:n.list}},[e("el-table-column",{attrs:{label:"供应商名称",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){n.DetailsVisible=!0,n.details(t.row)}}},[n._v(n._s(t.row.name))])]}}])}),n._v(" "),e("el-table-column",{attrs:{label:"城市",align:"center",prop:"city"}}),n._v(" "),e("el-table-column",{attrs:{label:"产品名称",align:"center",prop:"goods_name"}}),n._v(" "),e("el-table-column",{attrs:{label:"产品品牌",align:"center",prop:"goods_brand"}})],1),n._v(" "),e("el-dialog",{attrs:{title:"供应商信息详情",center:"",visible:n.DetailsVisible,width:"30%"},on:{"update:visible":function(t){n.DetailsVisible=t}}},[n.detailsList?e("div",[e("div",{staticClass:"head_pic"},[e("img",{attrs:{src:n.detailsList.head_pic}})]),n._v(" "),e("div",{staticClass:"details"},[e("p",[e("span",[n._v("供应商名称: ")]),n._v(" "),e("span",[n._v(n._s(n.detailsList.name))])]),n._v(" "),e("p",[e("span",[n._v("电话: ")]),n._v(" "),e("span",[n._v(n._s(n.detailsList.phone))])])])]):n._e()]),n._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:n.pageCount&&n.pageCount>1,expression:"pageCount&&pageCount>1"}],staticClass:"page_center"},[e("paging",{attrs:{"page-count":n.pageCount,page:n.page},on:{index:n.paging}})],1)],1)],1)};l._withStripped=!0;var d={render:l,staticRenderFns:[function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"quote"},[t("div",{staticClass:"quote-ele",staticStyle:{float:"left"}},[t("i"),this._v("供应商-养护品信息 ")])])}]},c=d;var p=!1;var u=e("VU/8")(o,c,!1,function(n){p||e("ooRz")},"data-v-1479a001",null);u.options.__file="src/pages/supplier/productInfo/index.vue";t.default=u.exports}});
//# sourceMappingURL=133.a1101507522598e42e42.js.map
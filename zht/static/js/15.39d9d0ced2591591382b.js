webpackJsonp([15],{CYfi:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("bOdI"),a=t.n(i),o={data:function(){var n;return n={token:window.sessionStorage.getItem("bbytoken"),page:1,pageCount:1,centerDialogVisible:!1,list:[]},a()(n,"centerDialogVisible",!1),a()(n,"adoptDialogVisible",!1),a()(n,"id",""),a()(n,"Id",""),a()(n,"radio",1),a()(n,"radio",2),a()(n,"materiel",!0),a()(n,"deposit",!0),n},components:{RejectDialog:t("2tkk").a},created:function(){this.init()},methods:{paging:function(n){this.page=n,this.init()},close:function(n){this.centerDialogVisible=!1},preservation:function(n){var e=this;n?this.$axios.post("supply/rejectPost",{token:this.token,id:this.id,reason:n}).then(function(n){if(1==n.data.code){var t=e;layer.msg(n.data.msg,{time:1e3},function(){t.$router.push({path:"/MunicipalAgent/cancel/cancel/Reject",query:{id:t.$route.query.id}}),t.close()})}}).catch(function(n){throw n}):layer.msg("请输入驳回理由")},init:function(){var n=this;this.$axios.post("supply/canApply",{token:this.token,page:this.page}).then(function(e){1==e.data.code?(n.list=e.data.data.list,n.pageCount=e.data.data.rows):layer.msg(e.data.msg,{time:500})}).catch(function(n){throw n})},details:function(){var n=this.$route.query.id;this.$router.push({path:"/MunicipalAgent/materiel/materiel/DetailsPage",query:{id:n,is:!0}})},hoverColor:function(n){n.currentTarget.className="hoveColor"},removeColor:function(n){n.currentTarget.className="primary"},See:function(n){this.id=n,this.centerDialogVisible=!0},adopt:function(n){this.adoptDialogVisible=!0,this.Id=n},confirm:function(){this.materiel&&this.deposit?(this.$refs.Mandatory.className="Color-999",this.adoptData()):this.$refs.Mandatory.className="Color-red"},adoptData:function(){var n=this;this.$axios.post("supply/adoptPost",{token:this.token,id:this.Id}).then(function(e){if(1==e.data.code){var t=n;layer.msg(e.data.msg,{time:1e3},function(){t.$router.push({path:"/MunicipalAgent/cancel/cancel/adopt",query:{id:t.$route.query.id}})})}}).catch(function(n){throw n})}}},r=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("table",{staticClass:"table"},[n._m(0),n._v(" "),t("tbody",n._l(n.list,function(e){return t("tr",{staticStyle:{height:"90px"}},[t("td",[t("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover"}},[t("a",{attrs:{slot:"reference",href:"javascript:;"},on:{mouseover:function(e){return n.hoverColor(e)},mouseleave:function(e){return n.removeColor(e)}},slot:"reference"},[n._v(n._s(e.company))]),n._v(" "),t("div",[t("p",[n._v("区域运营商个数："+n._s(e.com_detail.count))]),n._v(" "),t("p",[n._v("剩余金额："+n._s(e.com_detail.balance))])])])],1),n._v(" "),t("td",[n._v(n._s(e.phone))]),n._v(" "),t("td",[n._v(n._s(e.leader))]),n._v(" "),t("td",[t("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover"}},[t("a",{attrs:{slot:"reference",href:"javascript:;"},on:{mouseover:function(e){return n.hoverColor(e)},mouseleave:function(e){return n.removeColor(e)}},slot:"reference"},[n._v("查看")]),n._v(" "),t("div",[t("p",[n._v(n._s(e.reason))])])])],1),n._v(" "),t("td",[n._v("\n          "+n._s(e.create_time)+"\n        ")]),n._v(" "),t("td",[t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return n.See(e.id)}}},[n._v("驳回")])]),n._v(" "),t("td",[t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return n.adopt(e.id)}}},[n._v("确认")])])])}),0)]),n._v(" "),t("el-dialog",{attrs:{title:"通过",visible:n.adoptDialogVisible,width:"600",center:""},on:{"update:visible":function(e){n.adoptDialogVisible=e}}},[t("div",{staticClass:"adopt_dialog"},[t("div",[t("div",{ref:"Mandatory"},[n._v("两个必选项")]),n._v(" "),t("div",[t("label",[n._v("收回物料")]),n._v(" "),t("el-checkbox",{staticClass:"checkbox",model:{value:n.materiel,callback:function(e){n.materiel=e},expression:"materiel"}}),n._v(" "),t("label",[n._v("退还押金")]),n._v(" "),t("el-checkbox",{staticClass:"checkbox",model:{value:n.deposit,callback:function(e){n.deposit=e},expression:"deposit"}})],1),n._v(" "),t("div",{staticStyle:{"text-align":"center"}},[t("el-button",{attrs:{type:"primary",round:""},on:{click:n.confirm}},[n._v("确认")])],1)])])]),n._v(" "),t("Reject-dialog",{attrs:{visible:n.centerDialogVisible},on:{preservation:n.preservation,close:n.close}}),n._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:n.pageCount&&n.pageCount>1,expression:"pageCount&&pageCount>1"}],staticClass:"page_center"},[t("paging",{attrs:{"page-count":n.pageCount,page:n.page},on:{index:n.paging}})],1)],1)};r._withStripped=!0;var s={render:r,staticRenderFns:[function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("thead",[t("tr",[t("th",[n._v("市级代理")]),n._v(" "),t("th",[n._v("联系电话")]),n._v(" "),t("th",[n._v("负责人")]),n._v(" "),t("th",[n._v("取消理由")]),n._v(" "),t("th",[n._v("申请时间")]),n._v(" "),t("th",[n._v("驳回")]),n._v(" "),t("th",[n._v("通过")])])])}]},l=s;var c=!1;var d=t("VU/8")(o,l,!1,function(n){c||(t("L4Og"),t("od/S"))},"data-v-91ab8f56",null);d.options.__file="src/components/MunicipalAgent/cancel/Apply.vue";e.default=d.exports},L4Og:function(n,e,t){var i=t("ptzp");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);t("rjj0")("31022c5a",i,!1,{})},"od/S":function(n,e,t){var i=t("vlBE");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);t("rjj0")("1f3e7fbd",i,!1,{})},ptzp:function(n,e,t){(n.exports=t("FZ+f")(!0)).push([n.i,"\n.hoveColor[data-v-91ab8f56] {\n  opacity: 0.5;\n}\n.primary[data-v-91ab8f56] {\n  color: #04bbfc;\n}\n.Reason[data-v-91ab8f56] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin-top: 30px;\n}\n.Color-red[data-v-91ab8f56] {\n  color: red;\n}\n.Color-999[data-v-91ab8f56] {\n  color: #999999;\n}\ntextarea[data-v-91ab8f56] {\n  resize: none;\n  width: 80%;\n  height: 150px;\n  margin-left: 10px;\n}\n.adopt_dialog[data-v-91ab8f56] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  padding: 69px 0 69px 0;\n}\n.adopt_dialog > div > div[data-v-91ab8f56] {\n  margin-bottom: 9px;\n}\n.adopt_dialog > div > div > button[data-v-91ab8f56] {\n  margin-top: 60px;\n  padding: 10px 30px;\n}\n.checkbox[data-v-91ab8f56] {\n  margin: 0 8px;\n  border-radius: 50% !important;\n}\n","",{version:3,sources:["E:/仲达集团/总后台管理系统/Zht-master/src/components/MunicipalAgent/cancel/src/components/MunicipalAgent/cancel/Apply.vue"],names:[],mappings:";AA0OA;EACA,aAAA;CACA;AAEA;EACA,eAAA;CACA;AAEA;EACA,qBAAA;EAAA,qBAAA;EAAA,cAAA;EACA,iBAAA;CACA;AAEA;EACA,WAAA;CACA;AAEA;EACA,eAAA;CACA;AAEA;EACA,aAAA;EACA,WAAA;EACA,cAAA;EACA,kBAAA;CACA;AAEA;EACA,qBAAA;EAAA,qBAAA;EAAA,cAAA;EACA,0BAAA;MAAA,uBAAA;UAAA,oBAAA;EACA,yBAAA;MAAA,sBAAA;UAAA,wBAAA;EACA,uBAAA;CACA;AAEA;EACA,mBAAA;CACA;AAEA;EACA,iBAAA;EACA,mBAAA;CACA;AAEA;EACA,cAAA;EACA,8BAAA;CACA",file:"Apply.vue",sourcesContent:['<template>\n  <div>\n    <table class="table">\n      <thead>\n        <tr>\n          <th>市级代理</th>\n          <th>联系电话</th>\n          <th>负责人</th>\n          <th>取消理由</th>\n          <th>申请时间</th>\n          <th>驳回</th>\n          <th>通过</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for="item in list"\n            style="height: 90px;">\n\n          <td>\n            <el-popover placement="top-start"\n                        width="200"\n                        trigger="hover">\n              <a href="javascript:;"\n                 slot="reference"\n                 @mouseover="hoverColor($event)"\n                 @mouseleave="removeColor($event)">{{item.company}}</a>\n              <div>\n                <p>区域运营商个数：{{item.com_detail.count}}</p>\n                <p>剩余金额：{{item.com_detail.balance}}</p>\n              </div>\n\n            </el-popover>\n          </td>\n          <td>{{item.phone}}</td>\n          <td>{{item.leader}}</td>\n          <td>\n            <el-popover placement="top-start"\n                        width="200"\n                        trigger="hover">\n              <a href="javascript:;"\n                 slot="reference"\n                 @mouseover="hoverColor($event)"\n                 @mouseleave="removeColor($event)">查看</a>\n              <div>\n                <p>{{item.reason}}</p>\n              </div>\n            </el-popover>\n          </td>\n          <td>\n            {{item.create_time}}\n          </td>\n          <td>\n            <a href="javascript:;"\n               @click="See(item.id)">驳回</a>\n          </td>\n          <td>\n            <a href="javascript:;"\n               @click="adopt(item.id)">确认</a>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <el-dialog title="通过"\n               :visible.sync="adoptDialogVisible"\n               width="600"\n               center>\n      <div class="adopt_dialog">\n        <div>\n          <div ref="Mandatory">两个必选项</div>\n          <div>\n            <label>收回物料</label>\n            <el-checkbox v-model="materiel"\n                         class="checkbox"></el-checkbox>\n            <label>退还押金</label>\n            <el-checkbox v-model="deposit"\n                         class="checkbox"></el-checkbox>\n          </div>\n          <div style="text-align: center">\n            <el-button type="primary"\n                       round\n                       @click="confirm">确认</el-button>\n          </div>\n        </div>\n      </div>\n    </el-dialog>\n    <Reject-dialog :visible="centerDialogVisible"\n                   @preservation="preservation"\n                   @close="close"></Reject-dialog>\n    <div class="page_center"\n         v-show="pageCount&&pageCount>1">\n      <paging :page-count="pageCount"\n              :page="page"\n              @index="paging"></paging>\n      \x3c!--分页的组件--\x3e\n    </div>\n  </div>\n</template>\n<script>\nimport RejectDialog from "@/components/Dialog/RejectDialog"\nexport default {\n  data () {\n    return {\n      token: window.sessionStorage.getItem(\'bbytoken\'),\n      page: 1,\n      pageCount: 1,\n      centerDialogVisible: false,\n      list: [],\n      centerDialogVisible: false,\n      adoptDialogVisible: false,\n      id: "",\n      Id: "",\n      radio: 1,\n      radio: 2,\n      materiel: true,\n      deposit: true\n    }\n  },\n  components: {\n    RejectDialog\n  },\n  created () {\n    this.init()\n  },\n  methods: {\n    //控制分页的组件\n    paging (e) {\n      this.page = e;\n      this.init()\n    },\n    //关闭dialog的操作\n    close (Reason) {\n      this.centerDialogVisible = false;\n    },\n    //获取驳回理由\n    preservation (reason) {\n\n      if (reason) {\n        this.$axios.post("supply/rejectPost", {\n          token: this.token,\n          id: this.id,\n          reason: reason\n        }).then(res => {\n\n          if (res.data.code == 1) {\n            var that = this\n            layer.msg(res.data.msg, { time: 1000 }, function () {\n              that.$router.push({ path: "/MunicipalAgent/cancel/cancel/Reject", query: { id: that.$route.query.id } })\n              that.close()\n            })\n          }\n        }).\n          catch(err => {\n            throw (err)\n          })\n      } else {\n        layer.msg("请输入驳回理由")\n      }\n\n    },\n    init () {\n      this.$axios.post("supply/canApply", {\n        token: this.token,\n        page: this.page\n      }).then(res => {\n\n        if (res.data.code == 1) {\n          this.list = res.data.data.list\n          this.pageCount = res.data.data.rows;\n        } else {\n          layer.msg(res.data.msg, { time: 500 })\n        }\n      }).\n        catch(err => {\n          throw (err)\n        })\n    },\n    details () {\n      var id = this.$route.query.id;\n      this.$router.push({\n        path: "/MunicipalAgent/materiel/materiel/DetailsPage",\n        query: {\n          id: id,\n          is: true\n        }\n      })\n    },\n    hoverColor (e) {\n      e.currentTarget.className = "hoveColor"\n    },\n    removeColor (e) {\n      e.currentTarget.className = "primary"\n    },\n    See (id) {\n      this.id = id;\n      this.centerDialogVisible = true;\n    },\n    //点击通过\n    adopt (id) {\n\n      this.adoptDialogVisible = true\n      this.Id = id;\n    },\n    //是否确认通过\n    confirm () {\n      if (!this.materiel || !this.deposit) {\n        this.$refs.Mandatory.className = "Color-red"\n        return;\n      } else {\n        this.$refs.Mandatory.className = "Color-999"\n      }\n      this.adoptData()\n    },\n    //通过操作\n    adoptData () {\n      this.$axios.post("supply/adoptPost", {\n        token: this.token,\n        id: this.Id\n      }).then(res => {\n        if (res.data.code == 1) {\n          var that = this;\n          layer.msg(res.data.msg, { time: 1000 }, function () {\n            that.$router.push({ path: \'/MunicipalAgent/cancel/cancel/adopt\', query: { id: that.$route.query.id } })\n          })\n        }\n      }).\n        catch(err => {\n          throw (err)\n        })\n    }\n\n  }\n}\n<\/script>\n<style scoped>\n.hoveColor {\n  opacity: 0.5;\n}\n\n.primary {\n  color: #04bbfc;\n}\n\n.Reason {\n  display: flex;\n  margin-top: 30px;\n}\n\n.Color-red {\n  color: red;\n}\n\n.Color-999 {\n  color: #999999;\n}\n\ntextarea {\n  resize: none;\n  width: 80%;\n  height: 150px;\n  margin-left: 10px;\n}\n\n.adopt_dialog {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 69px 0 69px 0;\n}\n\n.adopt_dialog > div > div {\n  margin-bottom: 9px;\n}\n\n.adopt_dialog > div > div > button {\n  margin-top: 60px;\n  padding: 10px 30px;\n}\n\n.checkbox {\n  margin: 0 8px;\n  border-radius: 50% !important;\n}\n</style>\n<style>\n.adopt_dialog .el-checkbox__input.is-checked .el-checkbox__inner,\n.el-checkbox__input.is-indeterminate .el-checkbox__inner {\n  border-radius: 50%;\n}\n</style>\n'],sourceRoot:""}])},vlBE:function(n,e,t){(n.exports=t("FZ+f")(!0)).push([n.i,"\n.adopt_dialog .el-checkbox__input.is-checked .el-checkbox__inner,\n.el-checkbox__input.is-indeterminate .el-checkbox__inner {\n  border-radius: 50%;\n}\n","",{version:3,sources:["E:/仲达集团/总后台管理系统/Zht-master/src/components/MunicipalAgent/cancel/src/components/MunicipalAgent/cancel/Apply.vue"],names:[],mappings:";AA4RA;;EAEA,mBAAA;CACA",file:"Apply.vue",sourcesContent:['<template>\n  <div>\n    <table class="table">\n      <thead>\n        <tr>\n          <th>市级代理</th>\n          <th>联系电话</th>\n          <th>负责人</th>\n          <th>取消理由</th>\n          <th>申请时间</th>\n          <th>驳回</th>\n          <th>通过</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for="item in list"\n            style="height: 90px;">\n\n          <td>\n            <el-popover placement="top-start"\n                        width="200"\n                        trigger="hover">\n              <a href="javascript:;"\n                 slot="reference"\n                 @mouseover="hoverColor($event)"\n                 @mouseleave="removeColor($event)">{{item.company}}</a>\n              <div>\n                <p>区域运营商个数：{{item.com_detail.count}}</p>\n                <p>剩余金额：{{item.com_detail.balance}}</p>\n              </div>\n\n            </el-popover>\n          </td>\n          <td>{{item.phone}}</td>\n          <td>{{item.leader}}</td>\n          <td>\n            <el-popover placement="top-start"\n                        width="200"\n                        trigger="hover">\n              <a href="javascript:;"\n                 slot="reference"\n                 @mouseover="hoverColor($event)"\n                 @mouseleave="removeColor($event)">查看</a>\n              <div>\n                <p>{{item.reason}}</p>\n              </div>\n            </el-popover>\n          </td>\n          <td>\n            {{item.create_time}}\n          </td>\n          <td>\n            <a href="javascript:;"\n               @click="See(item.id)">驳回</a>\n          </td>\n          <td>\n            <a href="javascript:;"\n               @click="adopt(item.id)">确认</a>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <el-dialog title="通过"\n               :visible.sync="adoptDialogVisible"\n               width="600"\n               center>\n      <div class="adopt_dialog">\n        <div>\n          <div ref="Mandatory">两个必选项</div>\n          <div>\n            <label>收回物料</label>\n            <el-checkbox v-model="materiel"\n                         class="checkbox"></el-checkbox>\n            <label>退还押金</label>\n            <el-checkbox v-model="deposit"\n                         class="checkbox"></el-checkbox>\n          </div>\n          <div style="text-align: center">\n            <el-button type="primary"\n                       round\n                       @click="confirm">确认</el-button>\n          </div>\n        </div>\n      </div>\n    </el-dialog>\n    <Reject-dialog :visible="centerDialogVisible"\n                   @preservation="preservation"\n                   @close="close"></Reject-dialog>\n    <div class="page_center"\n         v-show="pageCount&&pageCount>1">\n      <paging :page-count="pageCount"\n              :page="page"\n              @index="paging"></paging>\n      \x3c!--分页的组件--\x3e\n    </div>\n  </div>\n</template>\n<script>\nimport RejectDialog from "@/components/Dialog/RejectDialog"\nexport default {\n  data () {\n    return {\n      token: window.sessionStorage.getItem(\'bbytoken\'),\n      page: 1,\n      pageCount: 1,\n      centerDialogVisible: false,\n      list: [],\n      centerDialogVisible: false,\n      adoptDialogVisible: false,\n      id: "",\n      Id: "",\n      radio: 1,\n      radio: 2,\n      materiel: true,\n      deposit: true\n    }\n  },\n  components: {\n    RejectDialog\n  },\n  created () {\n    this.init()\n  },\n  methods: {\n    //控制分页的组件\n    paging (e) {\n      this.page = e;\n      this.init()\n    },\n    //关闭dialog的操作\n    close (Reason) {\n      this.centerDialogVisible = false;\n    },\n    //获取驳回理由\n    preservation (reason) {\n\n      if (reason) {\n        this.$axios.post("supply/rejectPost", {\n          token: this.token,\n          id: this.id,\n          reason: reason\n        }).then(res => {\n\n          if (res.data.code == 1) {\n            var that = this\n            layer.msg(res.data.msg, { time: 1000 }, function () {\n              that.$router.push({ path: "/MunicipalAgent/cancel/cancel/Reject", query: { id: that.$route.query.id } })\n              that.close()\n            })\n          }\n        }).\n          catch(err => {\n            throw (err)\n          })\n      } else {\n        layer.msg("请输入驳回理由")\n      }\n\n    },\n    init () {\n      this.$axios.post("supply/canApply", {\n        token: this.token,\n        page: this.page\n      }).then(res => {\n\n        if (res.data.code == 1) {\n          this.list = res.data.data.list\n          this.pageCount = res.data.data.rows;\n        } else {\n          layer.msg(res.data.msg, { time: 500 })\n        }\n      }).\n        catch(err => {\n          throw (err)\n        })\n    },\n    details () {\n      var id = this.$route.query.id;\n      this.$router.push({\n        path: "/MunicipalAgent/materiel/materiel/DetailsPage",\n        query: {\n          id: id,\n          is: true\n        }\n      })\n    },\n    hoverColor (e) {\n      e.currentTarget.className = "hoveColor"\n    },\n    removeColor (e) {\n      e.currentTarget.className = "primary"\n    },\n    See (id) {\n      this.id = id;\n      this.centerDialogVisible = true;\n    },\n    //点击通过\n    adopt (id) {\n\n      this.adoptDialogVisible = true\n      this.Id = id;\n    },\n    //是否确认通过\n    confirm () {\n      if (!this.materiel || !this.deposit) {\n        this.$refs.Mandatory.className = "Color-red"\n        return;\n      } else {\n        this.$refs.Mandatory.className = "Color-999"\n      }\n      this.adoptData()\n    },\n    //通过操作\n    adoptData () {\n      this.$axios.post("supply/adoptPost", {\n        token: this.token,\n        id: this.Id\n      }).then(res => {\n        if (res.data.code == 1) {\n          var that = this;\n          layer.msg(res.data.msg, { time: 1000 }, function () {\n            that.$router.push({ path: \'/MunicipalAgent/cancel/cancel/adopt\', query: { id: that.$route.query.id } })\n          })\n        }\n      }).\n        catch(err => {\n          throw (err)\n        })\n    }\n\n  }\n}\n<\/script>\n<style scoped>\n.hoveColor {\n  opacity: 0.5;\n}\n\n.primary {\n  color: #04bbfc;\n}\n\n.Reason {\n  display: flex;\n  margin-top: 30px;\n}\n\n.Color-red {\n  color: red;\n}\n\n.Color-999 {\n  color: #999999;\n}\n\ntextarea {\n  resize: none;\n  width: 80%;\n  height: 150px;\n  margin-left: 10px;\n}\n\n.adopt_dialog {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 69px 0 69px 0;\n}\n\n.adopt_dialog > div > div {\n  margin-bottom: 9px;\n}\n\n.adopt_dialog > div > div > button {\n  margin-top: 60px;\n  padding: 10px 30px;\n}\n\n.checkbox {\n  margin: 0 8px;\n  border-radius: 50% !important;\n}\n</style>\n<style>\n.adopt_dialog .el-checkbox__input.is-checked .el-checkbox__inner,\n.el-checkbox__input.is-indeterminate .el-checkbox__inner {\n  border-radius: 50%;\n}\n</style>\n'],sourceRoot:""}])}});
//# sourceMappingURL=15.39d9d0ced2591591382b.js.map
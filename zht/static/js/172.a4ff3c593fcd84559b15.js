webpackJsonp([172],{"0Qe7":function(n,r,t){var e=t("g7i3");"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);t("rjj0")("6aaba552",e,!1,{})},eH6a:function(n,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e={data:function(){return{list:[],token:window.sessionStorage.getItem("bbytoken"),page:1,pageCount:1,authList:[],curId:0,threeAuthList:[],seCurId:0,thCurId:0}},methods:{paging:function(n){this.page=n,this.init()},init:function(){var n=this;this.$axios.post("admin/MainList/list",{token:this.token,page:this.page,ranker:5}).then(function(r){n.list=r.data.data.list||[],n.pageCount=r.data.data.rows||0}).catch(function(n){})},Auth:function(){var n=this,r=this.$route.query.id;this.curId=r,this.$axios.post("admin/Auth/erAuth",{token:window.sessionStorage.getItem("bbytoken"),id:r}).then(function(r){if(1==r.data.code){for(var t=r.data.data,e=0;e<t.length;e++)if("用户信息列表"==t[e].name&&(n.seCurId=t[e].id,t[e].son)){n.threeAuthList=t[e].son;for(var a=0;a<t[e].son.length;a++)t[e].action!=t[e].son[a].action&&(t[e].action=t[e].son[0].action),"仲达会员"==t[e].son[a].name&&"用户信息列表"==t[e].name&&(n.thCurId=t[e].son[a].id)}n.authList=t}else n.$alert(r.data.msg,"提示",{type:"error"})}).catch(function(n){alert(n)})}},mounted:function(){this.Auth(),this.init()}},a=function(){var n=this,r=n.$createElement,t=n._self._c||r;return t("div",[t("ctbHead",n._l(n.authList,function(r){return t("router-link",{key:r.id,class:n.seCurId==r.id?"cur":"",attrs:{to:{path:r.action,query:{id:n.curId}},"v-key":r.id}},[n._v("\n      "+n._s(r.name)+"\n    ")])}),1),n._v(" "),t("div",{staticClass:"container"},[t("div",{staticClass:"quote"},[n._m(0),n._v(" "),t("div",{staticClass:"quote-nav"},n._l(n.threeAuthList,function(r){return t("router-link",{key:r.id,class:n.thCurId==r.id?"cur":"",attrs:{to:{path:r.action,query:{id:n.curId}}}},[n._v("\n          "+n._s(r.name)+"\n        ")])}),1)]),n._v(" "),t("el-table",{attrs:{data:n.list}},[t("el-table-column",{attrs:{align:"center",label:"用户姓名",prop:"name"}}),n._v(" "),t("el-table-column",{attrs:{align:"center",label:"联系电话",prop:"phone"}}),n._v(" "),t("el-table-column",{attrs:{align:"center",label:"车牌号",prop:"plate"}}),n._v(" "),t("el-table-column",{attrs:{align:"center",label:"剩余卡次数/次",prop:"remain_times"}}),n._v(" "),t("el-table-column",{attrs:{align:"center",label:"类型",prop:"rankers"}})],1),n._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:n.pageCount&&n.pageCount>1,expression:"pageCount&&pageCount>1"}],staticClass:"page_center"},[t("paging",{attrs:{"page-count":n.pageCount,page:n.page},on:{index:n.paging}})],1)],1)],1)};a._withStripped=!0;var i={render:a,staticRenderFns:[function(){var n=this.$createElement,r=this._self._c||n;return r("div",{staticClass:"quote-ele"},[r("i"),this._v("用户信息列表-仲达会员")])}]},s=i;var o=!1;var l=t("VU/8")(e,s,!1,function(n){o||t("0Qe7")},"data-v-12b427a3",null);l.options.__file="src/pages/userInfoList/membersList.vue";r.default=l.exports},g7i3:function(n,r,t){(n.exports=t("FZ+f")(!0)).push([n.i,"\n.laybox li[data-v-12b427a3],\r\n.laybox1 li[data-v-12b427a3] {\r\n  margin: 20px 30px;\r\n  font-size: 16px;\n}\r\n","",{version:3,sources:["F:/仲达集团/2020-3-18总后台管理系统/src/pages/userInfoList/src/pages/userInfoList/membersList.vue"],names:[],mappings:";AAkIA;;EAEA,kBAAA;EACA,gBAAA;CACA",file:"membersList.vue",sourcesContent:['<template>\r\n  <div>\r\n    <ctbHead>\r\n      <router-link :class="seCurId==item.id? \'cur\':\'\'"\r\n                   v-for="item in authList"\r\n                   :key="item.id"\r\n                   :to="{path:item.action,query:{id:curId}}"\r\n                   :v-key="item.id">\r\n        {{item.name}}\r\n      </router-link>\r\n    </ctbHead>\r\n    <div class="container">\r\n      <div class="quote">\r\n        <div class="quote-ele"><i></i>用户信息列表-仲达会员</div>\r\n        <div class="quote-nav">\r\n          <router-link :class="thCurId==item.id? \'cur\':\'\'"\r\n                       v-for="item in threeAuthList"\r\n                       :key="item.id"\r\n                       :to="{path:item.action,query:{id:curId}}">\r\n            {{item.name}}\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n      <el-table :data="list">\r\n        <el-table-column align="center"\r\n                         label="用户姓名"\r\n                         prop="name"></el-table-column>\r\n        <el-table-column align="center"\r\n                         label="联系电话"\r\n                         prop="phone"></el-table-column>\r\n        <el-table-column align="center"\r\n                         label="车牌号"\r\n                         prop="plate"></el-table-column>\r\n        <el-table-column align="center"\r\n                         label="剩余卡次数/次"\r\n                         prop="remain_times"></el-table-column>\r\n        <el-table-column align="center"\r\n                         label="类型"\r\n                         prop="rankers"></el-table-column>\r\n      </el-table>\r\n      \x3c!-- 分页 --\x3e\r\n      <div class="page_center"\r\n           v-show="pageCount&&pageCount>1">\r\n        <paging :page-count="pageCount"\r\n                :page="page"\r\n                @index="paging"></paging>\r\n        \x3c!--分页的组件--\x3e\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n<script type="text/ecmascript-6">\r\nexport default {\r\n  data () {\r\n    return {\r\n      list: [],\r\n      token: window.sessionStorage.getItem(\'bbytoken\'),\r\n      page: 1, //显示的页码数\r\n      pageCount: 1,\r\n      authList: [],\r\n      curId: 0,\r\n      threeAuthList: [],\r\n      seCurId: 0,\r\n      thCurId: 0\r\n    }\r\n  },\r\n  methods: {\r\n    paging (e) {\r\n      this.page = e;\r\n      this.init()\r\n    },\r\n    init () {\r\n      this.$axios.post(\'admin/MainList/list\', {\r\n        token: this.token,\r\n        page: this.page,\r\n        ranker: 5\r\n      })\r\n        .then(res => {\r\n          this.list = res.data.data.list || [];\r\n          this.pageCount = res.data.data.rows || 0;\r\n        }).catch(err => { })\r\n    },\r\n\r\n    Auth () {  //权限\r\n      var id = this.$route.query.id;\r\n      this.curId = id;\r\n      this.$axios.post(\'admin/Auth/erAuth\', {\r\n        token: window.sessionStorage.getItem(\'bbytoken\'),\r\n        id: id\r\n      })\r\n        .then(res => {\r\n          if (res.data.code == 1) {\r\n            var arr = res.data.data;\r\n            for (var i = 0; i < arr.length; i++) {\r\n              if (arr[i].name == \'用户信息列表\') {\r\n                this.seCurId = arr[i].id;\r\n                if (arr[i].son) {\r\n                  this.threeAuthList = arr[i].son;\r\n                  for (var j = 0; j < arr[i].son.length; j++) {\r\n                    if (arr[i].action != arr[i].son[j].action) {\r\n                      arr[i].action = arr[i].son[0].action;\r\n                    }\r\n                    if (arr[i].son[j].name == \'仲达会员\' && arr[i].name == \'用户信息列表\') {\r\n                      this.thCurId = arr[i].son[j].id;\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            this.authList = arr;\r\n          } else {\r\n            this.$alert(res.data.msg, \'提示\', {\r\n              type: \'error\'\r\n            });\r\n          }\r\n        })\r\n        .catch(err => {\r\n          alert(err);\r\n        })\r\n    },\r\n  },\r\n\r\n  mounted () {\r\n    this.Auth()\r\n    this.init()\r\n  },\r\n}\r\n<\/script>\r\n<style scoped>\r\n.laybox li,\r\n.laybox1 li {\r\n  margin: 20px 30px;\r\n  font-size: 16px;\r\n}\r\n</style>\r\n'],sourceRoot:""}])}});
//# sourceMappingURL=172.a4ff3c593fcd84559b15.js.map
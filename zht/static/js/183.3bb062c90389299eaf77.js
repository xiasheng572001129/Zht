webpackJsonp([183],{"0JNP":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("Xxa5"),a=e.n(i),s=e("exGp"),r=e.n(s),o={data:function(){return{page:1,pageCount:1,list:[],token:window.sessionStorage.getItem("bbytoken"),numlist:[],authList:[],curId:0,threeAuthList:[],seCurId:0,thCurId:0,materielData:[],region:0,regionInfo:[],detailsVisible:!1,arealist:[]}},methods:{paging:function(t){this.page=t,this.init()},init:function(){var t=this;this.$axios.post("admin/AgentAuditList/index",{token:this.token,page:this.page,status:1}).then(function(n){n.data.data.list&&(t.list=n.data.data.list),t.pageCount=n.data.data.rows}).catch(function(t){})},details:function(t){var n=this;return r()(a.a.mark(function e(){var i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.$axios.post("admin/AgentAuditList/showArea",{token:n.token,aid:t.aid,id:t.id});case 3:i=e.sent,n.arealist=i.data.data,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,n,[[0,7]])}))()}},mounted:function(){var t=this,n=this.$route.query.id;this.curId=n,this.$axios.post("admin/Auth/erAuth",{token:window.sessionStorage.getItem("bbytoken"),id:n}).then(function(n){if(1==n.data.code){for(var e=n.data.data,i=0;i<e.length;i++)if(e[i].son){"注册审核"==e[i].name&&(t.seCurId=e[i].id,t.threeAuthList=e[i].son);for(var a=0;a<e[i].son.length;a++)e[i].action!=e[i].son[a].action&&(e[i].action=e[i].son[0].action),"已审核"==e[i].son[a].name&&"注册审核"==e[i].name&&(t.thCurId=e[i].son[a].id)}t.authList=e}else t.$alert(n.data.msg,"提示",{type:"error"})}).catch(function(t){alert(t)})},created:function(){this.init()},watch:{index:function(){this.init()}}},l=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("ctbHead",t._l(t.authList,function(n){return e("router-link",{key:n.id,class:t.seCurId==n.id?"cur":"",attrs:{to:{path:n.action,query:{id:t.curId}},"v-key":n.id}},[t._v("\n      "+t._s(n.name)+"\n    ")])}),1),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"quote"},[t._m(0),t._v(" "),e("div",{staticClass:"quote-nav"},t._l(t.threeAuthList,function(n){return e("router-link",{key:n.id,class:t.thCurId==n.id?"cur":"",attrs:{to:{path:n.action,query:{id:t.curId}}}},[t._v("\n          "+t._s(n.name)+"\n        ")])}),1)]),t._v(" "),e("el-table",{attrs:{data:t.list}},[e("el-table-column",{attrs:{prop:"company",label:"配送中心名称",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"phone",label:"联系电话",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"leader",label:"负责人",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{label:"地区个数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){t.detailsVisible=!0,t.details(n.row)}}},[t._v(t._s(n.row.regions))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"申请时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return[t._v("\n          "+t._s(t._f("datetime")(n.row.audit_time))+"\n        ")]}}])})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.list&&t.list.length>0,expression:" list && list.length>0"}],class:t.list.length<=7?"page-nav":"page_center"},[e("paging",{attrs:{"page-count":t.pageCount,page:t.page},on:{index:t.paging}})],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"地区详情",visible:t.detailsVisible,center:""},on:{"update:visible":function(n){t.detailsVisible=n}}},[t.arealist?e("div",{staticClass:"details"},[e("div",[t._v("省 : "+t._s(t.arealist.proName))]),t._v(" "),e("div",[t._v("市 : "+t._s(t.arealist.cityName))]),t._v(" "),e("div",[t._v("\n        区/县 :\n        "),t._l(t.arealist.countyName,function(n,i){return e("span",{key:i},[t._v(t._s(n)+"、")])})],2)]):t._e()])],1)};l._withStripped=!0;var d={render:l,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"quote-ele"},[n("i"),this._v("配送中心-注册审核-已审核")])}]},c=d;var u=!1;var p=e("VU/8")(o,c,!1,function(t){u||e("v/vg")},"data-v-058b56d8",null);p.options.__file="src/components/registerAudit/pass.vue";n.default=p.exports},THTC:function(t,n,e){(t.exports=e("FZ+f")(!0)).push([t.i,"\n.regionDetail[data-v-058b56d8] .el-dialog__title {\n  font-size: 22px;\n}\n.regionDetail[data-v-058b56d8] .el-dialog__body {\n  padding: 0px 25px 30px;\n  border-top: solid 2px #eee;\n}\n","",{version:3,sources:["F:/仲达集团/2020-3-18总后台管理系统/src/components/registerAudit/src/components/registerAudit/pass.vue"],names:[],mappings:";AAmLA;EACA,gBAAA;CACA;AACA;EACA,uBAAA;EACA,2BAAA;CACA",file:"pass.vue",sourcesContent:['<template>\n  <div>\n    <ctbHead>\n      <router-link :class="seCurId==item.id? \'cur\':\'\'"\n                   v-for="item in authList"\n                   :key="item.id"\n                   :to="{path:item.action,query:{id:curId}}"\n                   :v-key="item.id">\n        {{item.name}}\n      </router-link>\n    </ctbHead>\n    <div class="container">\n      <div class="quote">\n        <div class="quote-ele"><i></i>配送中心-注册审核-已审核</div>\n        <div class="quote-nav">\n          <router-link :class="thCurId==item.id? \'cur\':\'\'"\n                       v-for="item in threeAuthList"\n                       :key="item.id"\n                       :to="{path:item.action,query:{id:curId}}">\n            {{item.name}}\n          </router-link>\n        </div>\n      </div>\n      <el-table :data="list">\n        <el-table-column prop="company"\n                         label="配送中心名称"\n                         align="center">\n        </el-table-column>\n        <el-table-column prop="phone"\n                         label="联系电话"\n                         align="center">\n        </el-table-column>\n        <el-table-column prop="leader"\n                         label="负责人"\n                         align="center">\n        </el-table-column>\n        <el-table-column label="地区个数"\n                         align="center">\n          <template slot-scope="scope">\n            <el-button type="text"\n                       @click="detailsVisible=true,details(scope.row)">{{scope.row.regions}}</el-button>\n          </template>\n        </el-table-column>\n        <el-table-column label="申请时间"\n                         align="center">\n          <template slot-scope="scope">\n            {{scope.row.audit_time | datetime}}\n          </template>\n        </el-table-column>\n\n      </el-table>\n      \x3c!-- 分页 --\x3e\n      <div :class="list.length<=7?\'page-nav\':\'page_center\'"\n           v-show=" list && list.length>0">\n        <paging :page-count="pageCount"\n                :page="page"\n                @index="paging"></paging>\n        \x3c!--分页的组件--\x3e\n      </div>\n    </div>\n\n    <el-dialog title="地区详情"\n               :visible.sync="detailsVisible"\n               center>\n      <div v-if="arealist"\n           class="details">\n        <div>省 : {{arealist.proName}}</div>\n        <div>市 : {{arealist.cityName}}</div>\n        <div>\n          区/县 :\n          <span v-for="(item,index) in arealist.countyName"\n                :key="index">{{item}}、</span>\n        </div>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n<script type="text/ecmascript-6">\n\nexport default {\n  data () {\n    return {\n      //分页数据\n      page: 1, //显示的页码数\n      pageCount: 1,\n\n      list: [],\n      token: window.sessionStorage.getItem(\'bbytoken\'),\n      numlist: [],\n      authList: [],\n      curId: 0,\n      threeAuthList: [],\n      seCurId: 0,\n      thCurId: 0,\n      materielData: [],\n      region: 0,\n      regionInfo: [],\n      detailsVisible: false,\n      arealist: []\n    }\n\n  },\n  methods: {\n\n    paging (e) {\n      this.page = e;\n      this.init();\n    },\n    init: function () {\n      this.$axios.post(\'admin/AgentAuditList/index\', { token: this.token, page: this.page, status: 1 })\n        .then(res => {\n\n          if (res.data.data.list)\n            this.list = res.data.data.list;\n\n\n\n          this.pageCount = res.data.data.rows;\n        })\n        .catch(err => { })\n    },\n    async details (row) {\n      try {\n        const res = await this.$axios.post(\'admin/AgentAuditList/showArea\', { token: this.token, aid: row.aid, id: row.id })\n        this.arealist = res.data.data\n\n      } catch (error) {\n        throw (error)\n      }\n    },\n  },\n  mounted () {\n    var id = this.$route.query.id;\n    this.curId = id;\n    this.$axios.post(\'admin/Auth/erAuth\', {\n      token: window.sessionStorage.getItem(\'bbytoken\'),\n      id: id\n    })\n      .then(res => {\n\n        if (res.data.code == 1) {\n          var arr = res.data.data;\n          for (var i = 0; i < arr.length; i++) {\n            if (arr[i].son) {\n              if (arr[i].name == \'注册审核\') {\n                this.seCurId = arr[i].id;\n                this.threeAuthList = arr[i].son;\n              }\n              for (var j = 0; j < arr[i].son.length; j++) {\n                if (arr[i].action != arr[i].son[j].action) {\n                  arr[i].action = arr[i].son[0].action;\n                }\n                if (arr[i].son[j].name == \'已审核\' && arr[i].name == \'注册审核\') {\n                  this.thCurId = arr[i].son[j].id;\n                }\n              }\n            }\n          }\n          this.authList = arr;\n        } else {\n          this.$alert(res.data.msg, \'提示\', { type: \'error\' });\n        }\n      })\n      .catch(err => {\n        alert(err);\n      })\n  },\n  created () {\n    this.init();\n  },\n  watch: {\n    index: function () {\n      this.init();\n    }\n  }\n}\n<\/script>\n<style scoped>\n.regionDetail >>> .el-dialog__title {\n  font-size: 22px;\n}\n.regionDetail >>> .el-dialog__body {\n  padding: 0px 25px 30px;\n  border-top: solid 2px #eee;\n}\n</style>\n'],sourceRoot:""}])},"v/vg":function(t,n,e){var i=e("THTC");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("04ad612d",i,!1,{})}});
//# sourceMappingURL=183.3bb062c90389299eaf77.js.map
webpackJsonp([23],{"0OVd":function(n,t,e){var i=e("eVk9");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("rjj0")("33b8cb78",i,!1,{})},SjBG:function(n,t,e){var i=e("pD3s");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("rjj0")("c4834a74",i,!1,{})},TCXq:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});e("E7z3");var i={data:function(){return{list:[],token:window.sessionStorage.getItem("bbytoken"),obj:{},reason:"",reg_reason:"",aid:"",page:1,totalpage:1,pageCount:1,index:1,endpage:1,arr:[],n:1,authList:[],curId:0,threeAuthList:[],seCurId:0,thCurId:0,company:"",modifyDialogVisible:!1,DialogState:1,currentID:0,addState:1,form:{token:window.sessionStorage.getItem("bbytoken"),ser_name:""}}},created:function(){this.init()},methods:{paging:function(n){this.page=n,this.init()},init:function(){var n=this;this.$axios.post("admin/SystemSetup/serItem",{token:this.token,page:this.page}).then(function(t){1==t.data.code?(n.list=t.data.data.list,n.pageCount=t.data.data.rows):n.list=[]}).catch(function(n){})},addService:function(){var n=this;this.$axios.post("admin/SystemSetup/addSer",this.form).then(function(t){1==t.data.code?layer.msg(t.data.msg,{time:1500},function(){n.modifyDialogVisible=!1,n.init(),n.form.ser_name="",n.form.id=""}):layer.msg(t.data.msg,{time:1500})}).catch(function(n){return console.log(n)})},modify:function(n,t){this.form={id:n,ser_name:t,token:this.token}},del:function(n,t,e){var i=this;this.$confirm("此服务项下产品有"+t+"个,您确定删除吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$axios.post("admin/SystemSetup/serdel ",{token:i.token,id:n,ser_name:e}).then(function(n){1==n.data.code?layer.msg(n.data.msg,{time:1e3},function(){i.init()}):layer.msg(n.data.msg,{time:1e3})}).catch(function(n){return console.log(n)})}).catch(function(){})}},mounted:function(){var n=this,t=this.$route.query.id;this.curId=t,this.$axios.post("admin/Auth/erAuth",{token:window.sessionStorage.getItem("bbytoken"),id:t}).then(function(t){if(1==t.data.code){for(var e=t.data.data,i=0;i<e.length;i++)if("半价服务"==e[i].name){n.seCurId=e[i].id,n.threeAuthList=e[i].son;for(var a=0;a<e[i].son.length;a++)"服务项列表"==e[i].son[a].name&&(n.thCurId=e[i].son[a].id)}n.authList=e}else n.$alert(t.data.msg,"提示",{type:"error"})}).catch(function(n){alert(n)})}},a=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("ctbHead",n._l(n.authList,function(t){return e("router-link",{key:t.id,class:n.seCurId==t.id?"cur":"",attrs:{to:{path:t.action,query:{id:n.curId}},"v-key":t.id}},[n._v("\n      "+n._s(t.name)+"\n    ")])}),1),n._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"quote"},[e("div",{staticClass:"quote-ele"},[e("i"),n._v(" "),e("span",[n._v("会员特权服务项")]),n._v(" "),e("el-button",{staticClass:"add",attrs:{type:"primary"},on:{click:function(t){n.modifyDialogVisible=!0,n.addState=1}}},[n._v("添加")])],1),n._v(" "),e("div",{staticClass:"quote-nav"},n._l(n.threeAuthList,function(t){return e("router-link",{key:t.id,class:n.thCurId==t.id?"cur":"",attrs:{to:{path:t.action,query:{id:n.curId}}}},[n._v("\n          "+n._s(t.name)+"\n        ")])}),1)]),n._v(" "),e("div",[e("table",{staticClass:"table serviceTab"},[n._m(0),n._v(" "),n._l(n.list,function(t){return e("tr",[e("td",[n._v(n._s(t.id))]),n._v(" "),e("td",[n._v(n._s(t.ser_name))]),n._v(" "),e("td",[n._v(n._s(t.pro_num))]),n._v(" "),e("td",[n._v(n._s(t.create_time))]),n._v(" "),e("td",[e("a",{staticClass:"col-0ACD00",attrs:{href:"javascript:;"},on:{click:function(e){n.addState=2,n.modifyDialogVisible=!0,n.modify(t.id,t.ser_name)}}},[n._v("修改")]),n._v(" "),e("a",{staticClass:"col-FA644B",attrs:{href:"javascript:;"},on:{click:function(e){return n.del(t.id,t.pro_num,t.ser_name)}}},[n._v("删除")])])])})],2)]),n._v(" "),e("el-dialog",{staticClass:"modifyDialog",attrs:{title:1==n.addState?"添加":"修改",visible:n.modifyDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){n.modifyDialogVisible=t}}},[e("div",[e("el-form",{ref:"form",attrs:{model:n.form,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"服务项名称 : "}},[e("el-input",{model:{value:n.form.ser_name,callback:function(t){n.$set(n.form,"ser_name",t)},expression:"form.ser_name"}})],1)],1)],1),n._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:n.addService}},[n._v(n._s(1==n.addState?"添加":"修改"))])],1)]),n._v(" "),e("div",{staticClass:"page_center"},[e("paging",{attrs:{"page-count":n.pageCount,page:n.page},on:{index:n.paging}})],1)],1)],1)};a._withStripped=!0;var r={render:a,staticRenderFns:[function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("tr",[e("th",[n._v("ID")]),n._v(" "),e("th",[n._v("服务项名称")]),n._v(" "),e("th",[n._v("产品个数")]),n._v(" "),e("th",[n._v("创建时间")]),n._v(" "),e("th",[n._v("操作")])])}]},s=r;var o=!1;var d=e("VU/8")(i,s,!1,function(n){o||(e("0OVd"),e("SjBG"))},"data-v-7965bf3e",null);d.options.__file="src/components/Serviceitem/Serviceitem.vue";t.default=d.exports},eVk9:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n.demo-table-expand[data-v-7965bf3e] {\n  font-size: 0;\n}\n.demo-table-expand label[data-v-7965bf3e] {\n  width: 90px;\n  color: #99a9bf;\n}\n.addbtn[data-v-7965bf3e] {\n  float: right;\n  margin-right: 100px;\n  margin-top: 20px;\n}\n.serviceTab th[data-v-7965bf3e] {\n  width: 20%;\n}\n.serviceTab a[data-v-7965bf3e] {\n  margin-left: 10px;\n}\n.div[data-v-7965bf3e] {\n  word-wrap: break-word;\n  word-break: normal;\n}\n.add[data-v-7965bf3e] {\n  float: right;\n  margin-top: 20px;\n  margin-right: 50px;\n}\n","",{version:3,sources:["E:/仲达集团/总后台管理系统/Zht-master/src/components/Serviceitem/src/components/Serviceitem/Serviceitem.vue"],names:[],mappings:";AA+NA;EACA,aAAA;CACA;AACA;EACA,YAAA;EACA,eAAA;CACA;AAEA;EACA,aAAA;EACA,oBAAA;EACA,iBAAA;CACA;AACA;EACA,WAAA;CACA;AACA;EACA,kBAAA;CACA;AACA;EACA,sBAAA;EACA,mBAAA;CACA;AACA;EACA,aAAA;EACA,iBAAA;EACA,mBAAA;CACA",file:"Serviceitem.vue",sourcesContent:['<template>\n  <div>\n    <ctbHead>\n      <router-link :class="seCurId==item.id? \'cur\':\'\'"\n                   v-for="item in authList"\n                   :key="item.id"\n                   :to="{path:item.action,query:{id:curId}}"\n                   :v-key="item.id">\n        {{item.name}}\n      </router-link>\n    </ctbHead>\n    <div class="container">\n      <div class="quote">\n        <div class="quote-ele">\n          <i></i>\n          <span>会员特权服务项</span>\n          <el-button class=\'add\'\n                     type="primary"\n                     @click="modifyDialogVisible=true,addState=1">添加</el-button>\n        </div>\n        <div class="quote-nav">\n          <router-link :class="thCurId==item.id? \'cur\':\'\'"\n                       v-for="item in threeAuthList"\n                       :key="item.id"\n                       :to="{path:item.action,query:{id:curId}}">\n            {{item.name}}\n          </router-link>\n        </div>\n      </div>\n      <div>\n        <table class=\'table serviceTab\'>\n          <tr>\n            <th>ID</th>\n            <th>服务项名称</th>\n            <th>产品个数</th>\n            <th>创建时间</th>\n            <th>操作</th>\n          </tr>\n          <tr v-for="item in list">\n            <td>{{item.id}}</td>\n            <td>{{item.ser_name}}</td>\n            <td>{{item.pro_num}}</td>\n            <td>{{item.create_time}}</td>\n            <td>\n              <a href="javascript:;"\n                 @click=\'addState=2,modifyDialogVisible=true,modify(item.id,item.ser_name)\'\n                 class=\'col-0ACD00\'>修改</a>\n              <a href="javascript:;"\n                 @click="del(item.id,item.pro_num,item.ser_name)"\n                 class=\'col-FA644B\'>删除</a>\n            </td>\n          </tr>\n        </table>\n      </div>\n      <el-dialog :title="addState==1?\'添加\':\'修改\'"\n                 class=\'modifyDialog\'\n                 :visible.sync="modifyDialogVisible"\n                 width="30%"\n                 center>\n        <div>\n          <el-form ref="form"\n                   :model="form"\n                   label-width="100px">\n            <el-form-item label="服务项名称 : ">\n              <el-input v-model="form.ser_name"></el-input>\n            </el-form-item>\n          </el-form>\n        </div>\n        <span slot="footer"\n              class="dialog-footer">\n          <el-button @click="addService"\n                     type="primary">{{addState==1?\'添加\':\'修改\'}}</el-button>\n        </span>\n      </el-dialog>\n      \x3c!-- 分页 --\x3e\n      <div class="page_center">\n        <paging :page-count="pageCount"\n                :page="page"\n                @index="paging"></paging>\n      </div>\n    </div>\n  </div>\n</template>\n<script type="text/ecmascript-6">\nimport page from \'../common.js\';\nexport default {\n  data () {\n    return {\n      list: [],\n      token: window.sessionStorage.getItem(\'bbytoken\'),\n      obj: {},\n      reason: \'\',\n      reg_reason: \'\',\n      aid: \'\',\n      //分页数据\n      page: 1, //显示的页码数\n      totalpage: 1, //总页数\n      pageCount: 1,\n      index: 1, //点击的当前页，\n      endpage: 1,//当前一组页码的最大值\n      arr: [], //默认显示 1 2 3 4 5页\n      n: 1, //当前点击的页码的位置\n      authList: [],\n      curId: 0,\n      threeAuthList: [],\n      seCurId: 0,\n      thCurId: 0,\n      company: \'\', //输入的公司名称\n      modifyDialogVisible: false,  //修改弹框状态\n      DialogState: 1, //控制弹框的状态\n      currentID: 0,//当前列表id\n      addState: 1,\n      form: {\n        token: window.sessionStorage.getItem(\'bbytoken\'),\n        ser_name: \'\'\n      }\n    }\n  },\n\n  created () {\n    this.init();\n  },\n  methods: {\n    paging (e) {\n      this.page = e;\n      this.init()\n    },\n    init () {\n      this.$axios.post(\'admin/SystemSetup/serItem\', { token: this.token, page: this.page })\n        .then(res => {\n\n          if (res.data.code == 1) {\n            this.list = res.data.data.list\n            this.pageCount = res.data.data.rows;\n          } else {\n            this.list = []\n          }\n\n        }).catch(err => { })\n    },\n    addService () { //添加修改服务项\n      this.$axios.post(\'admin/SystemSetup/addSer\', this.form).then(res => {\n        if (res.data.code == 1) {\n          layer.msg(res.data.msg, { time: 1500 }, (() => {\n            this.modifyDialogVisible = false\n            this.init()\n            this.form.ser_name = \'\'\n            this.form.id = \'\'\n          }))\n        } else {\n          layer.msg(res.data.msg, { time: 1500 })\n        }\n      }).catch(err => console.log(err))\n    },\n    //修改服务项\n    modify (id, ser_name) {\n\n      this.form = {\n        id: id,\n        ser_name: ser_name,\n        token: this.token\n      }\n    },\n    del (id, pro_num, ser_name) { //删除服务项\n      this.$confirm(`此服务项下产品有${pro_num}个,您确定删除吗?`, {\n        confirmButtonText: \'确定\',\n        cancelButtonText: \'取消\',\n        type: \'warning\'\n      }).then(() => {\n\n        this.$axios.post(\'admin/SystemSetup/serdel \', { token: this.token, id: id, ser_name: ser_name }).then(res => {\n          if (res.data.code == 1) {\n            layer.msg(res.data.msg, { time: 1000 }, (() => {\n              this.init()\n            }))\n          } else {\n            layer.msg(res.data.msg, { time: 1000 })\n          }\n        }).catch(err => console.log(err))\n      }).catch(() => {\n\n      })\n    },\n\n  },\n  mounted () {\n\n\n    var id = this.$route.query.id;\n    this.curId = id;\n    this.$axios.post(\'admin/Auth/erAuth\', {\n      token: window.sessionStorage.getItem(\'bbytoken\'),\n      id: id\n    })\n      .then(res => {\n\n        if (res.data.code == 1) {\n          var arr = res.data.data;\n          for (var i = 0; i < arr.length; i++) {\n            if (arr[i].name == \'半价服务\') {\n              this.seCurId = arr[i].id;\n              this.threeAuthList = arr[i].son;\n\n              for (var j = 0; j < arr[i].son.length; j++) {\n\n                if (arr[i].son[j].name == "服务项列表") {\n                  this.thCurId = arr[i].son[j].id\n                }\n              }\n            }\n          }\n          this.authList = arr;\n        } else {\n          this.$alert(res.data.msg, \'提示\', { type: \'error\' });\n        }\n      })\n      .catch(err => {\n        alert(err);\n      })\n  },\n}\n<\/script>\n<style scoped>\n.demo-table-expand {\n  font-size: 0;\n}\n.demo-table-expand label {\n  width: 90px;\n  color: #99a9bf;\n}\n\n.addbtn {\n  float: right;\n  margin-right: 100px;\n  margin-top: 20px;\n}\n.serviceTab th {\n  width: 20%;\n}\n.serviceTab a {\n  margin-left: 10px;\n}\n.div {\n  word-wrap: break-word;\n  word-break: normal;\n}\n.add {\n  float: right;\n  margin-top: 20px;\n  margin-right: 50px;\n}\n</style>\n<style>\n.modifyDialog .el-dialog__header {\n  border-bottom: 1px solid rgba(230, 230, 235, 1);\n  padding-bottom: 20px;\n}\n.el-table th {\n  text-align: center;\n}\n.el-table__expanded-cell {\n  padding: 0 !important;\n  border-bottom: none;\n}\n</style>\n'],sourceRoot:""}])},pD3s:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n.modifyDialog .el-dialog__header {\n  border-bottom: 1px solid rgba(230, 230, 235, 1);\n  padding-bottom: 20px;\n}\n.el-table th {\n  text-align: center;\n}\n.el-table__expanded-cell {\n  padding: 0 !important;\n  border-bottom: none;\n}\n","",{version:3,sources:["E:/仲达集团/总后台管理系统/Zht-master/src/components/Serviceitem/src/components/Serviceitem/Serviceitem.vue"],names:[],mappings:";AA6PA;EACA,gDAAA;EACA,qBAAA;CACA;AACA;EACA,mBAAA;CACA;AACA;EACA,sBAAA;EACA,oBAAA;CACA",file:"Serviceitem.vue",sourcesContent:['<template>\n  <div>\n    <ctbHead>\n      <router-link :class="seCurId==item.id? \'cur\':\'\'"\n                   v-for="item in authList"\n                   :key="item.id"\n                   :to="{path:item.action,query:{id:curId}}"\n                   :v-key="item.id">\n        {{item.name}}\n      </router-link>\n    </ctbHead>\n    <div class="container">\n      <div class="quote">\n        <div class="quote-ele">\n          <i></i>\n          <span>会员特权服务项</span>\n          <el-button class=\'add\'\n                     type="primary"\n                     @click="modifyDialogVisible=true,addState=1">添加</el-button>\n        </div>\n        <div class="quote-nav">\n          <router-link :class="thCurId==item.id? \'cur\':\'\'"\n                       v-for="item in threeAuthList"\n                       :key="item.id"\n                       :to="{path:item.action,query:{id:curId}}">\n            {{item.name}}\n          </router-link>\n        </div>\n      </div>\n      <div>\n        <table class=\'table serviceTab\'>\n          <tr>\n            <th>ID</th>\n            <th>服务项名称</th>\n            <th>产品个数</th>\n            <th>创建时间</th>\n            <th>操作</th>\n          </tr>\n          <tr v-for="item in list">\n            <td>{{item.id}}</td>\n            <td>{{item.ser_name}}</td>\n            <td>{{item.pro_num}}</td>\n            <td>{{item.create_time}}</td>\n            <td>\n              <a href="javascript:;"\n                 @click=\'addState=2,modifyDialogVisible=true,modify(item.id,item.ser_name)\'\n                 class=\'col-0ACD00\'>修改</a>\n              <a href="javascript:;"\n                 @click="del(item.id,item.pro_num,item.ser_name)"\n                 class=\'col-FA644B\'>删除</a>\n            </td>\n          </tr>\n        </table>\n      </div>\n      <el-dialog :title="addState==1?\'添加\':\'修改\'"\n                 class=\'modifyDialog\'\n                 :visible.sync="modifyDialogVisible"\n                 width="30%"\n                 center>\n        <div>\n          <el-form ref="form"\n                   :model="form"\n                   label-width="100px">\n            <el-form-item label="服务项名称 : ">\n              <el-input v-model="form.ser_name"></el-input>\n            </el-form-item>\n          </el-form>\n        </div>\n        <span slot="footer"\n              class="dialog-footer">\n          <el-button @click="addService"\n                     type="primary">{{addState==1?\'添加\':\'修改\'}}</el-button>\n        </span>\n      </el-dialog>\n      \x3c!-- 分页 --\x3e\n      <div class="page_center">\n        <paging :page-count="pageCount"\n                :page="page"\n                @index="paging"></paging>\n      </div>\n    </div>\n  </div>\n</template>\n<script type="text/ecmascript-6">\nimport page from \'../common.js\';\nexport default {\n  data () {\n    return {\n      list: [],\n      token: window.sessionStorage.getItem(\'bbytoken\'),\n      obj: {},\n      reason: \'\',\n      reg_reason: \'\',\n      aid: \'\',\n      //分页数据\n      page: 1, //显示的页码数\n      totalpage: 1, //总页数\n      pageCount: 1,\n      index: 1, //点击的当前页，\n      endpage: 1,//当前一组页码的最大值\n      arr: [], //默认显示 1 2 3 4 5页\n      n: 1, //当前点击的页码的位置\n      authList: [],\n      curId: 0,\n      threeAuthList: [],\n      seCurId: 0,\n      thCurId: 0,\n      company: \'\', //输入的公司名称\n      modifyDialogVisible: false,  //修改弹框状态\n      DialogState: 1, //控制弹框的状态\n      currentID: 0,//当前列表id\n      addState: 1,\n      form: {\n        token: window.sessionStorage.getItem(\'bbytoken\'),\n        ser_name: \'\'\n      }\n    }\n  },\n\n  created () {\n    this.init();\n  },\n  methods: {\n    paging (e) {\n      this.page = e;\n      this.init()\n    },\n    init () {\n      this.$axios.post(\'admin/SystemSetup/serItem\', { token: this.token, page: this.page })\n        .then(res => {\n\n          if (res.data.code == 1) {\n            this.list = res.data.data.list\n            this.pageCount = res.data.data.rows;\n          } else {\n            this.list = []\n          }\n\n        }).catch(err => { })\n    },\n    addService () { //添加修改服务项\n      this.$axios.post(\'admin/SystemSetup/addSer\', this.form).then(res => {\n        if (res.data.code == 1) {\n          layer.msg(res.data.msg, { time: 1500 }, (() => {\n            this.modifyDialogVisible = false\n            this.init()\n            this.form.ser_name = \'\'\n            this.form.id = \'\'\n          }))\n        } else {\n          layer.msg(res.data.msg, { time: 1500 })\n        }\n      }).catch(err => console.log(err))\n    },\n    //修改服务项\n    modify (id, ser_name) {\n\n      this.form = {\n        id: id,\n        ser_name: ser_name,\n        token: this.token\n      }\n    },\n    del (id, pro_num, ser_name) { //删除服务项\n      this.$confirm(`此服务项下产品有${pro_num}个,您确定删除吗?`, {\n        confirmButtonText: \'确定\',\n        cancelButtonText: \'取消\',\n        type: \'warning\'\n      }).then(() => {\n\n        this.$axios.post(\'admin/SystemSetup/serdel \', { token: this.token, id: id, ser_name: ser_name }).then(res => {\n          if (res.data.code == 1) {\n            layer.msg(res.data.msg, { time: 1000 }, (() => {\n              this.init()\n            }))\n          } else {\n            layer.msg(res.data.msg, { time: 1000 })\n          }\n        }).catch(err => console.log(err))\n      }).catch(() => {\n\n      })\n    },\n\n  },\n  mounted () {\n\n\n    var id = this.$route.query.id;\n    this.curId = id;\n    this.$axios.post(\'admin/Auth/erAuth\', {\n      token: window.sessionStorage.getItem(\'bbytoken\'),\n      id: id\n    })\n      .then(res => {\n\n        if (res.data.code == 1) {\n          var arr = res.data.data;\n          for (var i = 0; i < arr.length; i++) {\n            if (arr[i].name == \'半价服务\') {\n              this.seCurId = arr[i].id;\n              this.threeAuthList = arr[i].son;\n\n              for (var j = 0; j < arr[i].son.length; j++) {\n\n                if (arr[i].son[j].name == "服务项列表") {\n                  this.thCurId = arr[i].son[j].id\n                }\n              }\n            }\n          }\n          this.authList = arr;\n        } else {\n          this.$alert(res.data.msg, \'提示\', { type: \'error\' });\n        }\n      })\n      .catch(err => {\n        alert(err);\n      })\n  },\n}\n<\/script>\n<style scoped>\n.demo-table-expand {\n  font-size: 0;\n}\n.demo-table-expand label {\n  width: 90px;\n  color: #99a9bf;\n}\n\n.addbtn {\n  float: right;\n  margin-right: 100px;\n  margin-top: 20px;\n}\n.serviceTab th {\n  width: 20%;\n}\n.serviceTab a {\n  margin-left: 10px;\n}\n.div {\n  word-wrap: break-word;\n  word-break: normal;\n}\n.add {\n  float: right;\n  margin-top: 20px;\n  margin-right: 50px;\n}\n</style>\n<style>\n.modifyDialog .el-dialog__header {\n  border-bottom: 1px solid rgba(230, 230, 235, 1);\n  padding-bottom: 20px;\n}\n.el-table th {\n  text-align: center;\n}\n.el-table__expanded-cell {\n  padding: 0 !important;\n  border-bottom: none;\n}\n</style>\n'],sourceRoot:""}])}});
//# sourceMappingURL=23.53a0d3a69488b09637d1.js.map
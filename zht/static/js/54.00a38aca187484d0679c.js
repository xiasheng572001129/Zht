webpackJsonp([54],{I3Hc:function(n,e,t){(n.exports=t("FZ+f")(!0)).push([n.i,'\n.photo[data-v-fff89702] {\r\n  width: 50px;\r\n  height: 50px;\r\n  vertical-align: middle;\n}\n.search[data-v-fff89702] {\r\n  margin: 20px 50px;\n}\n.main[data-v-fff89702] {\r\n  padding: 0 50px;\n}\n.main[data-v-fff89702]:after {\r\n  display: block;\r\n  content: "";\r\n  clear: both;\n}\n.main > div[data-v-fff89702] {\r\n  float: left;\n}\n.main_item[data-v-fff89702] {\r\n  width: 70%;\n}\n.main_item .el-checkbox[data-v-fff89702] {\r\n  line-height: 50px;\n}\n.main_item .el-col-1[data-v-fff89702] {\r\n  width: 2%;\n}\n.main_item .el-col-offset-1[data-v-fff89702] {\r\n  margin-left: 2%;\n}\n.main_item .el-col[data-v-fff89702] {\r\n  text-align: center;\n}\n.main_item-title[data-v-fff89702] {\r\n  text-align: center;\n}\n.main_area[data-v-fff89702] {\r\n  width: 15%;\n}\n.main_city[data-v-fff89702] {\r\n  margin: 10px 0;\r\n  font-size: 16px;\r\n  cursor: pointer;\n}\n.main_confirm[data-v-fff89702] {\r\n  float: right;\r\n  margin-top: 20px;\n}\n.activeClass[data-v-fff89702] {\r\n  color: #04bbfc;\n}\n.clear-border[data-v-fff89702] {\r\n  border-bottom: 1px solid #ccc;\n}\n.clear-border[data-v-fff89702] input {\r\n  border: none !important;\n}\n.addChannel[data-v-fff89702] {\r\n  margin-left: 20px;\n}\r\n',"",{version:3,sources:["F:/仲达集团/2020-3-18总后台管理系统/src/pages/freeMaintenance/src/pages/freeMaintenance/offlineGet.vue"],names:[],mappings:";AA4TA;EACA,YAAA;EACA,aAAA;EACA,uBAAA;CACA;AACA;EACA,kBAAA;CACA;AACA;EACA,gBAAA;CACA;AACA;EACA,eAAA;EACA,YAAA;EACA,YAAA;CACA;AACA;EACA,YAAA;CACA;AACA;EACA,WAAA;CACA;AACA;EACA,kBAAA;CACA;AACA;EACA,UAAA;CACA;AACA;EACA,gBAAA;CACA;AACA;EACA,mBAAA;CACA;AACA;EACA,mBAAA;CACA;AACA;EACA,WAAA;CACA;AACA;EACA,eAAA;EACA,gBAAA;EACA,gBAAA;CACA;AACA;EACA,aAAA;EACA,iBAAA;CACA;AACA;EACA,eAAA;CACA;AACA;EACA,8BAAA;CACA;AAEA;EACA,wBAAA;CACA;AACA;EACA,kBAAA;CACA",file:"offlineGet.vue",sourcesContent:['<template>\r\n  <div>\r\n    <ctbHead>\r\n      <router-link :class="seCurId==item.id? \'cur\':\'\'"\r\n                   v-for="item in authList"\r\n                   :key="item.id"\r\n                   :to="{path:item.action,query:{id:curId}}"\r\n                   :v-key="item.id">\r\n        {{item.name}}\r\n      </router-link>\r\n    </ctbHead>\r\n    <div class="container">\r\n      <div class="quote">\r\n        <div class="quote-ele">\r\n          <i></i>系统设置-保险公司设置-线下领取\r\n        </div>\r\n        <div class="quote-nav">\r\n          <router-link :class="thCurId==item.id? \'cur\':\'\'"\r\n                       v-for="item in threeAuthList"\r\n                       :key="item.id"\r\n                       :to="{path:item.action,query:{id:curId}}">\r\n            {{item.name}}\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n      <div class="search">\r\n        <el-date-picker type="month"\r\n                        placeholder="选择月份"\r\n                        v-model="month"\r\n                        @change="()=>{page=1,init()}"\r\n                        value-format="yyyy-MM-dd">\r\n        </el-date-picker>\r\n        <el-button type="primary"\r\n                   class="addChannel"\r\n                   @click="addChannelVisible=true,status=0">添加保险公司</el-button>\r\n\r\n      </div>\r\n      <el-table :data="list">\r\n        <el-table-column label="保险公司图片"\r\n                         align=\'center\'>\r\n          <template slot-scope="scope">\r\n            <img :src="scope.row.photo"\r\n                 class="photo" />\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label="保险公司"\r\n                         align="center">\r\n          <template slot-scope="scope">\r\n            {{scope.row.company}}\r\n\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label="总卡数"\r\n                         align="center">\r\n          <template slot-scope="scope">\r\n            {{scope.row.total_num}}张\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label="消耗数量"\r\n                         align="center">\r\n          <template slot-scope="scope">\r\n            {{scope.row.consume_total}}张\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label="剩余数量"\r\n                         align="center">\r\n          <template slot-scope="scope">\r\n            {{scope.row.sur_num}}张\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label="操作"\r\n                         align="center">\r\n          <template slot-scope="scope">\r\n            <el-button type="danger"\r\n                       size="small"\r\n                       @click="remove(scope.row)">删除</el-button>\r\n            <el-button type="primary"\r\n                       size="small"\r\n                       @click="status=1,Modify(scope.row)">修改</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-dialog :title="status==0 ? \'添加保险公司\' : \'修改保险公司\'"\r\n                 center\r\n                 :visible.sync="addChannelVisible"\r\n                 width="30%"\r\n                 @close=\'()=>$refs.channelForm.resetFields()\'>\r\n        <el-form label-width="120px"\r\n                 style="width:80%"\r\n                 :model="channelList"\r\n                 :rules="channelRules"\r\n                 ref="channelForm">\r\n          <el-form-item label="保险公司名称"\r\n                        prop="name">\r\n            <el-input placeholder="请输入保险公司名称"\r\n                      v-model="channelList.name"\r\n                      :disabled="status==1" />\r\n          </el-form-item>\r\n          <el-form-item label="卡数量"\r\n                        prop="num">\r\n            <el-input placeholder="请输入卡数量"\r\n                      v-model="channelList.num"\r\n                      :disabled="true" />\r\n          </el-form-item>\r\n          <el-form-item label="图片:"\r\n                        prop="photo">\r\n            <el-upload :action=\'baseURL+"admin/Prize/cbImg"\'\r\n                       :data="{token:token}"\r\n                       name=\'img\'\r\n                       list-type="picture-card"\r\n                       :limit=\'1\'\r\n                       :file-list=\'channelList.photo ? [{url:channelList.photo}] : []\'\r\n                       :on-success="handleAvatarSuccess"\r\n                       :on-remove="handleRemove">\r\n              <i class="el-icon-plus"></i>\r\n            </el-upload>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type="primary"\r\n                       @click="status==0 ? addChannel() : ModifyImg()"\r\n                       :loading="channelLoaading">{{status==0 ? \'添加\' : \'修改\'}}</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-dialog>\r\n      \x3c!-- 分页 --\x3e\r\n      <div class="page_center"\r\n           v-show="pageCount&&pageCount>1">\r\n        <paging :page-count="pageCount"\r\n                :page="page"\r\n                @index="(e)=>page=e"></paging>\r\n        \x3c!--分页的组件--\x3e\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script type="text/ecmascript-6">\r\nimport { getPro, GET_City } from \'@/utils\'\r\nimport qs from \'qs\'\r\nimport obj from \'../../components/common\'\r\nexport default {\r\n  data () {\r\n    return {\r\n      seCurId: \'\',\r\n      threeAuthList: [],\r\n      list: [],\r\n      token: window.sessionStorage.getItem(\'bbytoken\'),\r\n      page: 0,\r\n      pageCount: 0,\r\n      authList: [],\r\n      list: [], //保险公司列表\r\n      provinceList: [], //省列表\r\n      currentProvince: \'\',//当前选中的省\r\n      cityList: [], //市列表\r\n      currentCity: \'\', //当前选中的市\r\n      addChannelVisible: false, //添加渠道弹框显示状态\r\n      channelList: {  //添加保险公司数据\r\n        name: \'\', //渠道名称\r\n        num: \'500\', //卡数量\r\n        photo: \'\',  //保险公司图片\r\n      },\r\n      channelRules: { //添加保险公司form规则验证\r\n        name: { required: true, message: \'请输入渠道名称\', trigger: \'blur\' },\r\n        num: { required: true, message: \'请输入添加的卡数量\', trigger: \'blur\' },\r\n        photo: { required: true, message: \'请上传保险公司图片\', trigger: \'blur\' },\r\n      },\r\n      channelLoaading: false, //添加保险公司loading\r\n      acitivIndex: 0,\r\n      checkedCompany: [],  //当前勾选的保险公司\r\n      status: 0,   //0 是添加保险公司 1是修改保险公司\r\n      month: \'\', //月份\r\n    }\r\n  },\r\n  computed: {\r\n    CheckedChannel () {    //选中的渠道\r\n      let CheckedChannel = []\r\n      this.list.forEach(item => {\r\n        if (item.checked) {\r\n          let data = []\r\n          CheckedChannel.push({ channel_id: item.id, num: item.sur_num })\r\n        }\r\n      })\r\n      return CheckedChannel\r\n    },\r\n    dateTime () {\r\n      const dateTime = new Date(this.month)\r\n      const year = dateTime.getFullYear()\r\n      const month = dateTime.getMonth() + 1\r\n      return this.month ? `${year}-${month}` : \'\'\r\n    }\r\n  },\r\n  methods: {\r\n    async init () {\r\n      try {\r\n        const res = await this.$axios.post(\'admin/ChannelSetCity/downList\', { token: this.token, page: this.page, month: this.dateTime })\r\n        this.list = res.data.data.list || []\r\n        this.pageCount = res.data.data.rows || 0\r\n      } catch (error) {\r\n        throw (error)\r\n      }\r\n\r\n    },\r\n    addChannel () {  //添加保险公司\r\n      this.$refs.channelForm.validate(async valid => {\r\n        if (valid) {\r\n          try {\r\n            let id = this.cityList[this.acitivIndex] && this.cityList[this.acitivIndex].id\r\n            this.channelLoaading = true\r\n            const res = await this.$axios.post(\'admin/ChannelSetCity/channelAdd\', Object.assign(this.channelList, { token: this.token, types: 1 }))\r\n            this.channelLoaading = false\r\n            if (res.data.code == 1) {\r\n              this.$message({ message: res.data.msg, type: "success" })\r\n              this.addChannelVisible = false\r\n              this.init()\r\n            } else {\r\n              this.$message.error(res.data.msg)\r\n            }\r\n          } catch (error) {\r\n            this.channelLoaading = false\r\n            throw (error)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    handleAvatarSuccess (res) {  //上传保险公司图片\r\n      this.channelList = Object.assign({}, this.channelList, { photo: res })\r\n    },\r\n    handleRemove () {  //删除保险公司图片\r\n      this.channelList.photo = \'\'\r\n    },\r\n    Modify (item) {  //修改保险公司图片\r\n      this.addChannelVisible = true\r\n      this.$nextTick(() => {\r\n        this.channelList = Object.assign(this.channelList, item, { name: item.company })\r\n      })\r\n    },\r\n    async ModifyImg () {  //修改\r\n      try {\r\n        this.channelLoaading = true\r\n        const res = await this.$axios.post(\'admin/ChannelSetCity/updImg\', { token: this.token, channel_id: this.channelList.id, photo: this.channelList.photo })\r\n        this.channelLoaading = false\r\n        if (res.data.code == 1) {\r\n          this.$message({ message: res.data.msg, type: "success" })\r\n          this.addChannelVisible = false\r\n          this.init()\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      } catch (error) {\r\n        this.channelLoaading = false\r\n        throw (error)\r\n      }\r\n    },\r\n    remove (item) {  //删除保险公司\r\n      this.$confirm(\'此操作将删除该保险公司, 是否继续?\', \'提示\', {\r\n        confirmButtonText: \'确定\',\r\n        cancelButtonText: \'取消\',\r\n        type: \'warning\'\r\n      }).then(async () => {\r\n        try {\r\n          const res = await this.$axios.post(\'admin/ChannelSetCity/setStatus\', { token: this.token, channel_id: item.id, types: 1 })\r\n          if (res.data.msg) {\r\n            this.$message({ message: res.data.msg, type: "success" })\r\n            this.init()\r\n          } else {\r\n            this.$message.error(res.data.msg)\r\n          }\r\n        } catch (error) {\r\n          throw (error)\r\n        }\r\n      }).catch(() => { });\r\n    },\r\n    erAuth () {  //权限匹配\r\n      var id = this.$route.query.id;\r\n      this.curId = id;\r\n      this.$axios.post(\'admin/Auth/erAuth\', {\r\n        token: window.sessionStorage.getItem(\'bbytoken\'),\r\n        id: id\r\n      })\r\n        .then(res => {\r\n          if (res.data.code == 1) {\r\n            var arr = res.data.data;\r\n            for (var i = 0; i < arr.length; i++) {\r\n              if (arr[i].son) {\r\n                if (arr[i].name == \'保险公司设置\') {\r\n                  this.seCurId = arr[i].id;\r\n                  this.threeAuthList = arr[i].son;\r\n                }\r\n                for (var j = 0; j < arr[i].son.length; j++) {\r\n                  if (arr[i].action != arr[i].son[j].action) {\r\n                    arr[i].action = arr[i].son[0].action;\r\n                  }\r\n                  if (arr[i].son[j].name == \'线下领取\' && arr[i].name == \'保险公司设置\') {\r\n                    this.thCurId = arr[i].son[j].id;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            this.authList = arr;\r\n          } else {\r\n            this.$alert(res.data.msg, \'提示\', { type: \'error\' });\r\n          }\r\n        })\r\n        .catch(err => {\r\n          alert(err);\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.erAuth();\r\n    this.init()\r\n\r\n  },\r\n}\r\n<\/script>\r\n<style scoped>\r\n.photo {\r\n  width: 50px;\r\n  height: 50px;\r\n  vertical-align: middle;\r\n}\r\n.search {\r\n  margin: 20px 50px;\r\n}\r\n.main {\r\n  padding: 0 50px;\r\n}\r\n.main:after {\r\n  display: block;\r\n  content: "";\r\n  clear: both;\r\n}\r\n.main > div {\r\n  float: left;\r\n}\r\n.main_item {\r\n  width: 70%;\r\n}\r\n.main_item .el-checkbox {\r\n  line-height: 50px;\r\n}\r\n.main_item .el-col-1 {\r\n  width: 2%;\r\n}\r\n.main_item .el-col-offset-1 {\r\n  margin-left: 2%;\r\n}\r\n.main_item .el-col {\r\n  text-align: center;\r\n}\r\n.main_item-title {\r\n  text-align: center;\r\n}\r\n.main_area {\r\n  width: 15%;\r\n}\r\n.main_city {\r\n  margin: 10px 0;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n}\r\n.main_confirm {\r\n  float: right;\r\n  margin-top: 20px;\r\n}\r\n.activeClass {\r\n  color: #04bbfc;\r\n}\r\n.clear-border {\r\n  border-bottom: 1px solid #ccc;\r\n}\r\n\r\n.clear-border >>> input {\r\n  border: none !important;\r\n}\r\n.addChannel {\r\n  margin-left: 20px;\r\n}\r\n</style>\r\n'],sourceRoot:""}])},NtkP:function(n,e,t){var r=t("I3Hc");"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);t("rjj0")("1618aeaa",r,!1,{})},i5Rz:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("woOf"),a=t.n(r),i=t("Xxa5"),s=t.n(i),o=t("exGp"),l=t.n(o),c=t("bOdI"),d=t.n(c),h=(t("0xDb"),t("mw3O"),t("E7z3"),{data:function(){var n;return n={seCurId:"",threeAuthList:[],list:[],token:window.sessionStorage.getItem("bbytoken"),page:0,pageCount:0,authList:[]},d()(n,"list",[]),d()(n,"provinceList",[]),d()(n,"currentProvince",""),d()(n,"cityList",[]),d()(n,"currentCity",""),d()(n,"addChannelVisible",!1),d()(n,"channelList",{name:"",num:"500",photo:""}),d()(n,"channelRules",{name:{required:!0,message:"请输入渠道名称",trigger:"blur"},num:{required:!0,message:"请输入添加的卡数量",trigger:"blur"},photo:{required:!0,message:"请上传保险公司图片",trigger:"blur"}}),d()(n,"channelLoaading",!1),d()(n,"acitivIndex",0),d()(n,"checkedCompany",[]),d()(n,"status",0),d()(n,"month",""),n},computed:{CheckedChannel:function(){var n=[];return this.list.forEach(function(e){if(e.checked){n.push({channel_id:e.id,num:e.sur_num})}}),n},dateTime:function(){var n=new Date(this.month),e=n.getFullYear(),t=n.getMonth()+1;return this.month?e+"-"+t:""}},methods:{init:function(){var n=this;return l()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.$axios.post("admin/ChannelSetCity/downList",{token:n.token,page:n.page,month:n.dateTime});case 3:t=e.sent,n.list=t.data.data.list||[],n.pageCount=t.data.data.rows||0,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,n,[[0,8]])}))()},addChannel:function(){var n,e=this;this.$refs.channelForm.validate((n=l()(s.a.mark(function n(t){var r;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=15;break}return n.prev=1,e.cityList[e.acitivIndex]&&e.cityList[e.acitivIndex].id,e.channelLoaading=!0,n.next=6,e.$axios.post("admin/ChannelSetCity/channelAdd",a()(e.channelList,{token:e.token,types:1}));case 6:r=n.sent,e.channelLoaading=!1,1==r.data.code?(e.$message({message:r.data.msg,type:"success"}),e.addChannelVisible=!1,e.init()):e.$message.error(r.data.msg),n.next=15;break;case 11:throw n.prev=11,n.t0=n.catch(1),e.channelLoaading=!1,n.t0;case 15:case"end":return n.stop()}},n,e,[[1,11]])})),function(e){return n.apply(this,arguments)}))},handleAvatarSuccess:function(n){this.channelList=a()({},this.channelList,{photo:n})},handleRemove:function(){this.channelList.photo=""},Modify:function(n){var e=this;this.addChannelVisible=!0,this.$nextTick(function(){e.channelList=a()(e.channelList,n,{name:n.company})})},ModifyImg:function(){var n=this;return l()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.channelLoaading=!0,e.next=4,n.$axios.post("admin/ChannelSetCity/updImg",{token:n.token,channel_id:n.channelList.id,photo:n.channelList.photo});case 4:t=e.sent,n.channelLoaading=!1,1==t.data.code?(n.$message({message:t.data.msg,type:"success"}),n.addChannelVisible=!1,n.init()):n.$message.error(t.data.msg),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),n.channelLoaading=!1,e.t0;case 13:case"end":return e.stop()}},e,n,[[0,9]])}))()},remove:function(n){var e=this;this.$confirm("此操作将删除该保险公司, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(l()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.post("admin/ChannelSetCity/setStatus",{token:e.token,channel_id:n.id,types:1});case 3:(r=t.sent).data.msg?(e.$message({message:r.data.msg,type:"success"}),e.init()):e.$message.error(r.data.msg),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}},t,e,[[0,7]])}))).catch(function(){})},erAuth:function(){var n=this,e=this.$route.query.id;this.curId=e,this.$axios.post("admin/Auth/erAuth",{token:window.sessionStorage.getItem("bbytoken"),id:e}).then(function(e){if(1==e.data.code){for(var t=e.data.data,r=0;r<t.length;r++)if(t[r].son){"保险公司设置"==t[r].name&&(n.seCurId=t[r].id,n.threeAuthList=t[r].son);for(var a=0;a<t[r].son.length;a++)t[r].action!=t[r].son[a].action&&(t[r].action=t[r].son[0].action),"线下领取"==t[r].son[a].name&&"保险公司设置"==t[r].name&&(n.thCurId=t[r].son[a].id)}n.authList=t}else n.$alert(e.data.msg,"提示",{type:"error"})}).catch(function(n){alert(n)})}},mounted:function(){this.erAuth(),this.init()}}),m=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("ctbHead",n._l(n.authList,function(e){return t("router-link",{key:e.id,class:n.seCurId==e.id?"cur":"",attrs:{to:{path:e.action,query:{id:n.curId}},"v-key":e.id}},[n._v("\n      "+n._s(e.name)+"\n    ")])}),1),n._v(" "),t("div",{staticClass:"container"},[t("div",{staticClass:"quote"},[n._m(0),n._v(" "),t("div",{staticClass:"quote-nav"},n._l(n.threeAuthList,function(e){return t("router-link",{key:e.id,class:n.thCurId==e.id?"cur":"",attrs:{to:{path:e.action,query:{id:n.curId}}}},[n._v("\n          "+n._s(e.name)+"\n        ")])}),1)]),n._v(" "),t("div",{staticClass:"search"},[t("el-date-picker",{attrs:{type:"month",placeholder:"选择月份","value-format":"yyyy-MM-dd"},on:{change:function(){n.page=1,n.init()}},model:{value:n.month,callback:function(e){n.month=e},expression:"month"}}),n._v(" "),t("el-button",{staticClass:"addChannel",attrs:{type:"primary"},on:{click:function(e){n.addChannelVisible=!0,n.status=0}}},[n._v("添加保险公司")])],1),n._v(" "),t("el-table",{attrs:{data:n.list}},[t("el-table-column",{attrs:{label:"保险公司图片",align:"center"},scopedSlots:n._u([{key:"default",fn:function(n){return[t("img",{staticClass:"photo",attrs:{src:n.row.photo}})]}}])}),n._v(" "),t("el-table-column",{attrs:{label:"保险公司",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v("\n          "+n._s(e.row.company)+"\n\n        ")]}}])}),n._v(" "),t("el-table-column",{attrs:{label:"总卡数",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v("\n          "+n._s(e.row.total_num)+"张\n        ")]}}])}),n._v(" "),t("el-table-column",{attrs:{label:"消耗数量",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v("\n          "+n._s(e.row.consume_total)+"张\n        ")]}}])}),n._v(" "),t("el-table-column",{attrs:{label:"剩余数量",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v("\n          "+n._s(e.row.sur_num)+"张\n        ")]}}])}),n._v(" "),t("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return n.remove(e.row)}}},[n._v("删除")]),n._v(" "),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){n.status=1,n.Modify(e.row)}}},[n._v("修改")])]}}])})],1),n._v(" "),t("el-dialog",{attrs:{title:0==n.status?"添加保险公司":"修改保险公司",center:"",visible:n.addChannelVisible,width:"30%"},on:{"update:visible":function(e){n.addChannelVisible=e},close:function(){return n.$refs.channelForm.resetFields()}}},[t("el-form",{ref:"channelForm",staticStyle:{width:"80%"},attrs:{"label-width":"120px",model:n.channelList,rules:n.channelRules}},[t("el-form-item",{attrs:{label:"保险公司名称",prop:"name"}},[t("el-input",{attrs:{placeholder:"请输入保险公司名称",disabled:1==n.status},model:{value:n.channelList.name,callback:function(e){n.$set(n.channelList,"name",e)},expression:"channelList.name"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"卡数量",prop:"num"}},[t("el-input",{attrs:{placeholder:"请输入卡数量",disabled:!0},model:{value:n.channelList.num,callback:function(e){n.$set(n.channelList,"num",e)},expression:"channelList.num"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"图片:",prop:"photo"}},[t("el-upload",{attrs:{action:n.baseURL+"admin/Prize/cbImg",data:{token:n.token},name:"img","list-type":"picture-card",limit:1,"file-list":n.channelList.photo?[{url:n.channelList.photo}]:[],"on-success":n.handleAvatarSuccess,"on-remove":n.handleRemove}},[t("i",{staticClass:"el-icon-plus"})])],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:n.channelLoaading},on:{click:function(e){0==n.status?n.addChannel():n.ModifyImg()}}},[n._v(n._s(0==n.status?"添加":"修改"))])],1)],1)],1),n._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:n.pageCount&&n.pageCount>1,expression:"pageCount&&pageCount>1"}],staticClass:"page_center"},[t("paging",{attrs:{"page-count":n.pageCount,page:n.page},on:{index:function(e){return n.page=e}}})],1)],1)],1)};m._withStripped=!0;var u={render:m,staticRenderFns:[function(){var n=this.$createElement,e=this._self._c||n;return e("div",{staticClass:"quote-ele"},[e("i"),this._v("系统设置-保险公司设置-线下领取\n      ")])}]},p=u;var f=!1;var A=t("VU/8")(h,p,!1,function(n){f||t("NtkP")},"data-v-fff89702",null);A.options.__file="src/pages/freeMaintenance/offlineGet.vue";e.default=A.exports}});
//# sourceMappingURL=54.00a38aca187484d0679c.js.map
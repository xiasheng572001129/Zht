{"version":3,"sources":["webpack:///./src/components/shoplist/region.vue?34b4","webpack:///./src/components/shoplist/region.vue?d059","webpack:///src/components/shoplist/region.vue","webpack:///./src/components/shoplist/region.vue?7d5c","webpack:///./src/components/shoplist/region.vue"],"names":["module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","content","locals","region","data","list","authList","seCurId","token","window","sessionStorage","getItem","provinceList","cityList","provinceId","cityId","cityData","currentPage","rows","methods","ProvinceDate","_this2","this","$axios","get","then","res","prolist","catch","err","alert","handleProChange","_this3","post","id","citylist","handleCityChange","_this4","city","page","citydata","isModifyState","val","_this5","_this","$confirm","confirmButtonText","cancelButtonText","type","$message","message","handleCurrentPage","_this6","Auth","_this7","$route","query","curId","code","arr","length","name","son","j","action","$alert","msg","mounted","render","_vm","_h","$createElement","_c","_self","_l","item","key","class","attrs","to","path","_v","_s","staticClass","placeholder","on","change","model","value","callback","$$v","expression","label","align","staticStyle","width","prop","scopedSlots","_u","fn","scope","row","open_status","disabled","size","click","$event","_e","background","layout","total","current-page","update:currentPage","update:current-page","current-change","_withStripped","esExports","staticRenderFns","shoplist_region","disposed","Component","normalizeComponent","ssrContext","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/63.4fbd6ca8eae37df0f88d.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.quote[data-v-bced4922] {\\n  margin: 30px 0;\\n}\\n.selectCity[data-v-bced4922] {\\n  margin: 20px 0 0 20px;\\n}\\n.myPage[data-v-bced4922] {\\n  text-align: center;\\n  margin: 20px 0;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"E:/仲达集团/总后台管理系统/Zht-master/src/components/shoplist/src/components/shoplist/region.vue\"],\"names\":[],\"mappings\":\";AAiQA;EACA,eAAA;CACA;AACA;EACA,sBAAA;CACA;AACA;EACA,mBAAA;EACA,eAAA;CACA\",\"file\":\"region.vue\",\"sourcesContent\":[\"<template>\\n  <div>\\n    <ctbHead>\\n      <router-link :class=\\\"seCurId==item.id? 'cur':''\\\"\\n                   v-for=\\\"item in authList\\\"\\n                   :key=\\\"item.id\\\"\\n                   :to=\\\"{path:item.action,query:{id:curId}}\\\">{{item.name}}\\n      </router-link>\\n    </ctbHead>\\n    <div class=\\\"container\\\">\\n      <div class=\\\"selectCity\\\">\\n        <span>选择省: </span>\\n        <el-select v-model=\\\"provinceId\\\"\\n                   placeholder=\\\"请选择所在省\\\"\\n                   @change=\\\"handleProChange\\\">\\n          <el-option v-for=\\\"item in provinceList\\\"\\n                     :key=\\\"item.id\\\"\\n                     :name=\\\"item.name\\\"\\n                     :value=\\\"item.id\\\"\\n                     :label=\\\"item.name\\\">\\n          </el-option>\\n        </el-select>\\n        <span>选择市: </span>\\n        <el-select v-model=\\\"cityId\\\"\\n                   placeholder=\\\"请选择所在市\\\"\\n                   @change=\\\"handleCityChange\\\">\\n          <el-option v-for=\\\"item in cityList\\\"\\n                     :key=\\\"item.id\\\"\\n                     :name=\\\"item.name\\\"\\n                     :value=\\\"item.id\\\"\\n                     :label=\\\"item.name\\\">\\n          </el-option>\\n        </el-select>\\n      </div>\\n      <div class=\\\"cityData\\\"\\n           align=\\\"center\\\">\\n        <el-table :data=\\\"cityData\\\"\\n                  style=\\\"width: 100%\\\">\\n          <el-table-column align=\\\"center\\\"\\n                           prop=\\\"name\\\"\\n                           label=\\\"县级名称\\\">\\n          </el-table-column>\\n          <el-table-column align=\\\"center\\\"\\n                           prop=\\\"complete\\\"\\n                           label=\\\"数量\\\">\\n          </el-table-column>\\n          <el-table-column align=\\\"center\\\"\\n                           prop=\\\"completed\\\"\\n                           label=\\\"已开发数量\\\">\\n          </el-table-column>\\n          <el-table-column align=\\\"center\\\"\\n                           prop=\\\"open_status\\\"\\n                           label=\\\"是否开放\\\">\\n            <template slot-scope=\\\"scope\\\">\\n              <el-button type=\\\"default\\\"\\n                         disabled=\\\"disabled\\\"\\n                         v-if=\\\"scope.row.open_status==1\\\">\\n                已开放\\n              </el-button>\\n              <el-button @click=\\\"isModifyState(scope.row.id)\\\"\\n                         type=\\\"primary\\\"\\n                         size=\\\"small\\\"\\n                         v-else-if=\\\"scope.row.open_status==2\\\">\\n                未开放\\n              </el-button>\\n              <el-button type=\\\"default\\\"\\n                         disabled=\\\"disabled\\\"\\n                         size=\\\"small\\\"\\n                         v-else-if=\\\"scope.row.open_status==3\\\">\\n                数量未达到上限\\n              </el-button>\\n            </template>\\n          </el-table-column>\\n        </el-table>\\n      </div>\\n      <el-pagination background\\n                     layout=\\\"prev, pager, next\\\"\\n                     :total=\\\"rows\\\"\\n                     class=\\\"myPage\\\"\\n                     :current-page.sync=\\\"currentPage\\\"\\n                     @current-change=\\\"handleCurrentPage\\\">\\n      </el-pagination>\\n    </div>\\n  </div>\\n</template>\\n<script type=\\\"text/ecmascript-6\\\">\\n\\nexport default {\\n  data () {\\n    return {\\n      list: [],\\n      authList: [],\\n      seCurId: '',\\n      token: window.sessionStorage.getItem('bbytoken'),\\n      provinceList: [],  //省数据\\n      cityList: [],\\t\\t\\t//市数据\\n      provinceId: '',    //选中的省ID\\n      cityId: '',\\t\\t\\t\\t//选中的市ID\\n      cityData: [],      //列表\\n      currentPage: 1,    //当前页\\n      rows: 100\\t\\t\\t\\t\\t//默认页数\\n    }\\n  },\\n  methods: {\\n\\n    // 省接口 agent/reg/regPro\\n\\n    // id市接口  agent/reg/regCity \\n\\n    ProvinceDate () {  //省数据\\n      this.$axios.get('agent/reg/regPro')\\n        .then(res => {\\n          var prolist = res.data;\\n          if (prolist) {\\n            this.provinceList = prolist\\n          }\\n        })\\n        .catch(err => {\\n          alert(err + \\\"省数据获取失败\\\")\\n        })\\n    },\\n    handleProChange () {\\n      var _this = this\\n      this.$axios.post('agent/reg/regCity', {\\n        id: _this.provinceId\\n      })\\n        .then(res => {\\n          var citylist = res.data;\\n          this.cityList = citylist\\n        })\\n        .catch(err => {\\n          alert(err + \\\"市数据获取失败\\\")\\n        })\\n    },\\n\\n    handleCityChange () {\\n      this.$axios.post('admin/ShopRegionNum/index', {\\n        token: window.sessionStorage.getItem('bbytoken'),\\n        city: this.cityId,\\n        page: this.currentPage\\n      })\\n        .then((res) => {\\n          var citydata = res.data.data.list;\\n          this.rows = res.data.data.rows * 10\\n          if (citydata) {\\n            this.cityData = citydata;\\n          }\\n        })\\n        .catch((err) => {\\n          alert(err + \\\"cityData获取失败\\\")\\n        })\\n    },\\n\\n    isModifyState (val) {\\n      var _this = this\\n      this.$confirm('确定修改开放状态吗?', '提示', {\\n        confirmButtonText: '确定',\\n        cancelButtonText: '取消',\\n        type: 'warning'\\n      }).then(() => {\\n        this.$axios.post('admin/ShopRegionNum/openStatus', {\\n          token: window.sessionStorage.getItem('bbytoken'),\\n          id: val\\n        })\\n          .then((res) => {\\n            _this.$axios.post('admin/ShopRegionNum/index', {\\n              token: window.sessionStorage.getItem('bbytoken'),\\n              city: _this.cityId,\\n              page: _this.currentPage\\n            })\\n              .then((res) => {\\n                var citydata = res.data.data.list;\\n                if (citydata) {\\n                  _this.cityData = citydata;\\n                }\\n              })\\n              .catch((err) => {\\n                alert(err + \\\"cityData获取失败\\\")\\n              })\\n            this.$message({\\n              type: 'success',\\n              message: '修改成功!'\\n            });\\n          })\\n          .catch((err) => {\\n            this.$message({\\n              type: 'info',\\n              message: '修改失败'\\n            });\\n          })\\n      }).catch(() => {\\n        this.$message({\\n          type: 'info',\\n          message: '取消修改'\\n        });\\n      });\\n    },\\n\\n    handleCurrentPage () {  //分页处理\\n      this.$axios.post('admin/ShopRegionNum/index', {\\n        token: window.sessionStorage.getItem('bbytoken'),\\n        city: this.cityId,\\n        page: this.currentPage\\n      })\\n        .then((res) => {\\n          var citydata = res.data.data.list;\\n          if (citydata) {\\n            this.cityData = citydata;\\n          }\\n        })\\n        .catch((err) => {\\n          alert(err + \\\"cityData获取失败\\\")\\n        })\\n    },\\n\\n    Auth () { //权限\\n      var id = this.$route.query.id;\\n      this.curId = id;\\n      this.$axios.post('admin/Auth/erAuth', {\\n        token: window.sessionStorage.getItem('bbytoken'),\\n        id: id\\n      })\\n        .then(res => {\\n          if (res.data.code == 1) {\\n            var arr = res.data.data;\\n            for (var i = 0; i < arr.length; i++) {\\n              if (arr[i].name == '地区数量') {\\n                this.seCurId = arr[i].id;\\n              }\\n              if (arr[i].son) {\\n                for (var j = 0; j < arr[i].son.length; j++) {\\n                  if (arr[i].action != arr[i].son[j].action) {\\n                    arr[i].action = arr[i].son[0].action;\\n                  }\\n                }\\n              }\\n            }\\n            this.authList = arr;\\n          } else {\\n            this.$alert(res.data.msg, '提示', {\\n              type: 'error'\\n            });\\n          }\\n        })\\n        .catch(err => {\\n          alert(err);\\n        })\\n    }\\n  },\\n  mounted () {\\n    this.Auth()\\n    this.ProvinceDate()\\n  },\\n\\n}\\n</script>\\n<style scoped>\\n.quote {\\n  margin: 30px 0;\\n}\\n.selectCity {\\n  margin: 20px 0 0 20px;\\n}\\n.myPage {\\n  text-align: center;\\n  margin: 20px 0;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-bced4922\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/shoplist/region.vue\n// module id = BXX1\n// module chunks = 63","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bced4922\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./region.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"546b29f2\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bced4922\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./region.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bced4922\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./region.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-bced4922\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/shoplist/region.vue\n// module id = Ef4Q\n// module chunks = 63","<template>\n  <div>\n    <ctbHead>\n      <router-link :class=\"seCurId==item.id? 'cur':''\"\n                   v-for=\"item in authList\"\n                   :key=\"item.id\"\n                   :to=\"{path:item.action,query:{id:curId}}\">{{item.name}}\n      </router-link>\n    </ctbHead>\n    <div class=\"container\">\n      <div class=\"selectCity\">\n        <span>选择省: </span>\n        <el-select v-model=\"provinceId\"\n                   placeholder=\"请选择所在省\"\n                   @change=\"handleProChange\">\n          <el-option v-for=\"item in provinceList\"\n                     :key=\"item.id\"\n                     :name=\"item.name\"\n                     :value=\"item.id\"\n                     :label=\"item.name\">\n          </el-option>\n        </el-select>\n        <span>选择市: </span>\n        <el-select v-model=\"cityId\"\n                   placeholder=\"请选择所在市\"\n                   @change=\"handleCityChange\">\n          <el-option v-for=\"item in cityList\"\n                     :key=\"item.id\"\n                     :name=\"item.name\"\n                     :value=\"item.id\"\n                     :label=\"item.name\">\n          </el-option>\n        </el-select>\n      </div>\n      <div class=\"cityData\"\n           align=\"center\">\n        <el-table :data=\"cityData\"\n                  style=\"width: 100%\">\n          <el-table-column align=\"center\"\n                           prop=\"name\"\n                           label=\"县级名称\">\n          </el-table-column>\n          <el-table-column align=\"center\"\n                           prop=\"complete\"\n                           label=\"数量\">\n          </el-table-column>\n          <el-table-column align=\"center\"\n                           prop=\"completed\"\n                           label=\"已开发数量\">\n          </el-table-column>\n          <el-table-column align=\"center\"\n                           prop=\"open_status\"\n                           label=\"是否开放\">\n            <template slot-scope=\"scope\">\n              <el-button type=\"default\"\n                         disabled=\"disabled\"\n                         v-if=\"scope.row.open_status==1\">\n                已开放\n              </el-button>\n              <el-button @click=\"isModifyState(scope.row.id)\"\n                         type=\"primary\"\n                         size=\"small\"\n                         v-else-if=\"scope.row.open_status==2\">\n                未开放\n              </el-button>\n              <el-button type=\"default\"\n                         disabled=\"disabled\"\n                         size=\"small\"\n                         v-else-if=\"scope.row.open_status==3\">\n                数量未达到上限\n              </el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n      <el-pagination background\n                     layout=\"prev, pager, next\"\n                     :total=\"rows\"\n                     class=\"myPage\"\n                     :current-page.sync=\"currentPage\"\n                     @current-change=\"handleCurrentPage\">\n      </el-pagination>\n    </div>\n  </div>\n</template>\n<script type=\"text/ecmascript-6\">\n\nexport default {\n  data () {\n    return {\n      list: [],\n      authList: [],\n      seCurId: '',\n      token: window.sessionStorage.getItem('bbytoken'),\n      provinceList: [],  //省数据\n      cityList: [],\t\t\t//市数据\n      provinceId: '',    //选中的省ID\n      cityId: '',\t\t\t\t//选中的市ID\n      cityData: [],      //列表\n      currentPage: 1,    //当前页\n      rows: 100\t\t\t\t\t//默认页数\n    }\n  },\n  methods: {\n\n    // 省接口 agent/reg/regPro\n\n    // id市接口  agent/reg/regCity \n\n    ProvinceDate () {  //省数据\n      this.$axios.get('agent/reg/regPro')\n        .then(res => {\n          var prolist = res.data;\n          if (prolist) {\n            this.provinceList = prolist\n          }\n        })\n        .catch(err => {\n          alert(err + \"省数据获取失败\")\n        })\n    },\n    handleProChange () {\n      var _this = this\n      this.$axios.post('agent/reg/regCity', {\n        id: _this.provinceId\n      })\n        .then(res => {\n          var citylist = res.data;\n          this.cityList = citylist\n        })\n        .catch(err => {\n          alert(err + \"市数据获取失败\")\n        })\n    },\n\n    handleCityChange () {\n      this.$axios.post('admin/ShopRegionNum/index', {\n        token: window.sessionStorage.getItem('bbytoken'),\n        city: this.cityId,\n        page: this.currentPage\n      })\n        .then((res) => {\n          var citydata = res.data.data.list;\n          this.rows = res.data.data.rows * 10\n          if (citydata) {\n            this.cityData = citydata;\n          }\n        })\n        .catch((err) => {\n          alert(err + \"cityData获取失败\")\n        })\n    },\n\n    isModifyState (val) {\n      var _this = this\n      this.$confirm('确定修改开放状态吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$axios.post('admin/ShopRegionNum/openStatus', {\n          token: window.sessionStorage.getItem('bbytoken'),\n          id: val\n        })\n          .then((res) => {\n            _this.$axios.post('admin/ShopRegionNum/index', {\n              token: window.sessionStorage.getItem('bbytoken'),\n              city: _this.cityId,\n              page: _this.currentPage\n            })\n              .then((res) => {\n                var citydata = res.data.data.list;\n                if (citydata) {\n                  _this.cityData = citydata;\n                }\n              })\n              .catch((err) => {\n                alert(err + \"cityData获取失败\")\n              })\n            this.$message({\n              type: 'success',\n              message: '修改成功!'\n            });\n          })\n          .catch((err) => {\n            this.$message({\n              type: 'info',\n              message: '修改失败'\n            });\n          })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '取消修改'\n        });\n      });\n    },\n\n    handleCurrentPage () {  //分页处理\n      this.$axios.post('admin/ShopRegionNum/index', {\n        token: window.sessionStorage.getItem('bbytoken'),\n        city: this.cityId,\n        page: this.currentPage\n      })\n        .then((res) => {\n          var citydata = res.data.data.list;\n          if (citydata) {\n            this.cityData = citydata;\n          }\n        })\n        .catch((err) => {\n          alert(err + \"cityData获取失败\")\n        })\n    },\n\n    Auth () { //权限\n      var id = this.$route.query.id;\n      this.curId = id;\n      this.$axios.post('admin/Auth/erAuth', {\n        token: window.sessionStorage.getItem('bbytoken'),\n        id: id\n      })\n        .then(res => {\n          if (res.data.code == 1) {\n            var arr = res.data.data;\n            for (var i = 0; i < arr.length; i++) {\n              if (arr[i].name == '地区数量') {\n                this.seCurId = arr[i].id;\n              }\n              if (arr[i].son) {\n                for (var j = 0; j < arr[i].son.length; j++) {\n                  if (arr[i].action != arr[i].son[j].action) {\n                    arr[i].action = arr[i].son[0].action;\n                  }\n                }\n              }\n            }\n            this.authList = arr;\n          } else {\n            this.$alert(res.data.msg, '提示', {\n              type: 'error'\n            });\n          }\n        })\n        .catch(err => {\n          alert(err);\n        })\n    }\n  },\n  mounted () {\n    this.Auth()\n    this.ProvinceDate()\n  },\n\n}\n</script>\n<style scoped>\n.quote {\n  margin: 30px 0;\n}\n.selectCity {\n  margin: 20px 0 0 20px;\n}\n.myPage {\n  text-align: center;\n  margin: 20px 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/shoplist/region.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\n        \"ctbHead\",\n        _vm._l(_vm.authList, function(item) {\n          return _c(\n            \"router-link\",\n            {\n              key: item.id,\n              class: _vm.seCurId == item.id ? \"cur\" : \"\",\n              attrs: { to: { path: item.action, query: { id: _vm.curId } } }\n            },\n            [_vm._v(_vm._s(item.name) + \"\\n    \")]\n          )\n        }),\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"container\" },\n        [\n          _c(\n            \"div\",\n            { staticClass: \"selectCity\" },\n            [\n              _c(\"span\", [_vm._v(\"选择省: \")]),\n              _vm._v(\" \"),\n              _c(\n                \"el-select\",\n                {\n                  attrs: { placeholder: \"请选择所在省\" },\n                  on: { change: _vm.handleProChange },\n                  model: {\n                    value: _vm.provinceId,\n                    callback: function($$v) {\n                      _vm.provinceId = $$v\n                    },\n                    expression: \"provinceId\"\n                  }\n                },\n                _vm._l(_vm.provinceList, function(item) {\n                  return _c(\"el-option\", {\n                    key: item.id,\n                    attrs: { name: item.name, value: item.id, label: item.name }\n                  })\n                }),\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\"span\", [_vm._v(\"选择市: \")]),\n              _vm._v(\" \"),\n              _c(\n                \"el-select\",\n                {\n                  attrs: { placeholder: \"请选择所在市\" },\n                  on: { change: _vm.handleCityChange },\n                  model: {\n                    value: _vm.cityId,\n                    callback: function($$v) {\n                      _vm.cityId = $$v\n                    },\n                    expression: \"cityId\"\n                  }\n                },\n                _vm._l(_vm.cityList, function(item) {\n                  return _c(\"el-option\", {\n                    key: item.id,\n                    attrs: { name: item.name, value: item.id, label: item.name }\n                  })\n                }),\n                1\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"cityData\", attrs: { align: \"center\" } },\n            [\n              _c(\n                \"el-table\",\n                {\n                  staticStyle: { width: \"100%\" },\n                  attrs: { data: _vm.cityData }\n                },\n                [\n                  _c(\"el-table-column\", {\n                    attrs: { align: \"center\", prop: \"name\", label: \"县级名称\" }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"el-table-column\", {\n                    attrs: { align: \"center\", prop: \"complete\", label: \"数量\" }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"el-table-column\", {\n                    attrs: {\n                      align: \"center\",\n                      prop: \"completed\",\n                      label: \"已开发数量\"\n                    }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"el-table-column\", {\n                    attrs: {\n                      align: \"center\",\n                      prop: \"open_status\",\n                      label: \"是否开放\"\n                    },\n                    scopedSlots: _vm._u([\n                      {\n                        key: \"default\",\n                        fn: function(scope) {\n                          return [\n                            scope.row.open_status == 1\n                              ? _c(\n                                  \"el-button\",\n                                  {\n                                    attrs: {\n                                      type: \"default\",\n                                      disabled: \"disabled\"\n                                    }\n                                  },\n                                  [\n                                    _vm._v(\n                                      \"\\n              已开放\\n            \"\n                                    )\n                                  ]\n                                )\n                              : scope.row.open_status == 2\n                              ? _c(\n                                  \"el-button\",\n                                  {\n                                    attrs: { type: \"primary\", size: \"small\" },\n                                    on: {\n                                      click: function($event) {\n                                        return _vm.isModifyState(scope.row.id)\n                                      }\n                                    }\n                                  },\n                                  [\n                                    _vm._v(\n                                      \"\\n              未开放\\n            \"\n                                    )\n                                  ]\n                                )\n                              : scope.row.open_status == 3\n                              ? _c(\n                                  \"el-button\",\n                                  {\n                                    attrs: {\n                                      type: \"default\",\n                                      disabled: \"disabled\",\n                                      size: \"small\"\n                                    }\n                                  },\n                                  [\n                                    _vm._v(\n                                      \"\\n              数量未达到上限\\n            \"\n                                    )\n                                  ]\n                                )\n                              : _vm._e()\n                          ]\n                        }\n                      }\n                    ])\n                  })\n                ],\n                1\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"el-pagination\", {\n            staticClass: \"myPage\",\n            attrs: {\n              background: \"\",\n              layout: \"prev, pager, next\",\n              total: _vm.rows,\n              \"current-page\": _vm.currentPage\n            },\n            on: {\n              \"update:currentPage\": function($event) {\n                _vm.currentPage = $event\n              },\n              \"update:current-page\": function($event) {\n                _vm.currentPage = $event\n              },\n              \"current-change\": _vm.handleCurrentPage\n            }\n          })\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-bced4922\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bced4922\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/shoplist/region.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bced4922\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./region.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./region.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./region.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bced4922\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./region.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bced4922\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/components/shoplist/region.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-bced4922\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-bced4922\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/shoplist/region.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
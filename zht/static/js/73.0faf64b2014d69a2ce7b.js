webpackJsonp([73],{"9NrQ":function(n,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=r("Xxa5"),a=r.n(e),i=r("exGp"),l=r.n(i),A=(r("gPgF"),r("0xDb"),r("E7z3")),o={data:function(){return{list:[],token:window.sessionStorage.getItem("bbytoken"),page:1,pageCount:1,thCurId:"",seCurId:"",authList:[],threeAuthList:[],detailsList:[],detailsVisible:!1,detailsPage:1,detailsCount:1,currentData:{}}},methods:{GetCity:A.a.getCity,GetCounty:A.a.getCounty,paging:function(n){this.page=n,this.init()},detailsPaging:function(n){this.detailsPage=n,this.details(this.currentData)},init:function(){var n=this;this.$axios.post("admin/UserAudit/cardList",{token:this.token,page:this.page}).then(function(t){n.list=t.data.data.list,n.pageCount=t.data.data.rows}).catch(function(n){})},details:function(n){var t=this;return l()(a.a.mark(function r(){var e;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t.detailsVisible=!0,t.currentData=n,r.next=5,t.$axios.post("admin/UserAudit/cardDetail",{token:t.token,id:n.id,page:t.detailsPage});case 5:e=r.sent,t.detailsList=e.data.data.list||[],t.detailsCount=e.data.data.rows||0,r.next=13;break;case 10:throw r.prev=10,r.t0=r.catch(0),r.t0;case 13:case"end":return r.stop()}},r,t,[[0,10]])}))()},Auth:function(){var n=this,t=this.$route.query.id;this.curId=t,this.$axios.post("admin/Auth/erAuth",{token:window.sessionStorage.getItem("bbytoken"),id:t}).then(function(t){if(1==t.data.code){for(var r=t.data.data,e=0;e<r.length;e++)r[e].son&&"渠道发卡"==r[e].name&&(n.seCurId=r[e].id,n.threeAuthList=r[e].son);n.authList=r}else n.$alert(t.data.msg,"提示",{type:"error"})}).catch(function(n){alert(n)})}},mounted:function(){this.Auth(),this.init()}},s=function(){var n=this,t=n.$createElement,r=n._self._c||t;return r("div",[r("ctbHead",n._l(n.authList,function(t){return r("router-link",{key:t.id,class:n.seCurId==t.id?"cur":"",attrs:{to:{path:t.action,query:{id:n.curId}},"v-key":t.id}},[n._v("\n      "+n._s(t.name)+"\n    ")])}),1),n._v(" "),r("div",{staticClass:"container"},[r("div",{staticClass:"quote"},[n._m(0),n._v(" "),r("div",{staticClass:"quote-nav"},n._l(n.threeAuthList,function(t){return r("router-link",{key:t.id,class:n.thCurId==t.id?"cur":"",attrs:{to:{path:t.action,query:{id:n.curId}}}},[n._v("\n          "+n._s(t.name)+"\n        ")])}),1)]),n._v(" "),r("el-table",{attrs:{data:n.list,"tooltip-effect":"dark"}},[r("el-table-column",{attrs:{label:"渠道名称",align:"center",prop:"company"}}),n._v(" "),r("el-table-column",{attrs:{prop:"num",label:"发卡数量",align:"center"}}),n._v(" "),r("el-table-column",{attrs:{align:"center",label:"地区"},scopedSlots:n._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{placement:"bottom",width:"400",trigger:"click"}},[r("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[n._v("详情")]),n._v(" "),r("div",{staticClass:"areaDetails"},[r("h4",{staticStyle:{"text-align":"center"}},[n._v("地区详情")]),n._v(" "),t.row.province?r("div",[r("span",{staticStyle:{loat:"left",width:"80%"}},n._l(t.row.province,function(t,e){return r("div",{key:e,staticClass:"area"},[r("p",{staticClass:"province"},[n._v(" "+n._s(t.province_name))]),n._v(" "),r("p",{staticClass:"city"},[n._v(n._s(t.city_name?t.city_name.join("、"):""))])])}),0)]):r("div",{staticStyle:{"text-align":"center","line-height":"100px","font-size":"18px"}},[n._v("\n                无\n              ")])])],1)]}}])}),n._v(" "),r("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:n._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text"},on:{click:function(r){return n.details(t.row)}}},[n._v("详情")])]}}])})],1),n._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:n.list&&n.list.length>0,expression:"list && list.length>0"}],class:n.list&&n.list.length<=7?"page-nav":"page_center"},[r("paging",{attrs:{"page-count":n.pageCount,page:n.page},on:{index:n.paging}})],1)],1),n._v(" "),r("el-dialog",{attrs:{center:"",title:"详情",visible:n.detailsVisible,width:"65%"},on:{"update:visible":function(t){n.detailsVisible=t}}},[r("el-table",{attrs:{data:n.detailsList}},[r("el-table-column",{attrs:{align:"center",label:"用户名称",prop:"user_name"}}),n._v(" "),r("el-table-column",{attrs:{align:"center",label:"用户电话",prop:"phone"}}),n._v(" "),r("el-table-column",{attrs:{align:"center",label:"维修厂名称",prop:"company"}}),n._v(" "),r("el-table-column",{attrs:{align:"center",label:"维修厂电话",prop:"shop_phone"}}),n._v(" "),r("el-table-column",{attrs:{align:"center",label:"车辆品牌",prop:"car_name"}}),n._v(" "),r("el-table-column",{attrs:{align:"center",label:"车辆类型",prop:"type"}}),n._v(" "),r("el-table-column",{attrs:{align:"center",label:"排量",prop:"series"}}),n._v(" "),r("el-table-column",{attrs:{align:"center",label:"车牌号",prop:"plate"}}),n._v(" "),r("el-table-column",{attrs:{align:"center",label:"参与时间",prop:"sale_time"}})],1),n._v(" "),r("div",{staticClass:"page_center"},[r("paging",{attrs:{"page-count":n.detailsCount,page:n.detailsPage},on:{index:n.detailsPaging}})],1)],1)],1)};s._withStripped=!0;var d={render:s,staticRenderFns:[function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"quote-ele"},[t("i"),this._v("审核-渠道发卡")])}]},p=d;var c=!1;var u=r("VU/8")(o,p,!1,function(n){c||r("UOvh")},"data-v-90e8ba64",null);u.options.__file="src/pages/audit/channelIssuing/index.vue";t.default=u.exports},UOvh:function(n,t,r){var e=r("YB1g");"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);r("rjj0")("176cd07e",e,!1,{})},YB1g:function(n,t,r){(n.exports=r("FZ+f")(!0)).push([n.i,'\n.ellipsis[data-v-90e8ba64] {\r\n  width: 100px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 2;\r\n  margin: 0 auto;\r\n  text-align: center;\n}\n.areaDetails[data-v-90e8ba64] {\r\n  max-height: 300px;\r\n  min-height: 100px;\r\n  overflow: auto;\n}\n.areaDetails .area[data-v-90e8ba64] {\r\n  padding: 10px 0;\r\n  border-bottom: 1px solid #cccccc;\n}\n.areaDetails .province[data-v-90e8ba64] {\r\n  font-size: 15px;\r\n  font-weight: 600;\n}\n.search[data-v-90e8ba64] {\r\n  width: 15%;\r\n  margin-right: 10px;\n}\n.region[data-v-90e8ba64] {\r\n  width: 10%;\r\n  margin: 0 10px;\n}\n.img[data-v-90e8ba64] {\r\n  width: 70px;\r\n  height: 70px;\n}\n.images[data-v-90e8ba64] {\r\n  width: 100px;\r\n  height: 100px;\r\n  margin-right: 10px;\r\n  vertical-align: top;\n}\n.laybox2 ul[data-v-90e8ba64] {\r\n  margin: 33px auto;\r\n  border-bottom: 1px dashed #04bbfc;\n}\n.laybox2[data-v-90e8ba64] {\r\n  padding: 60px;\r\n  font-size: 16px;\n}\n.laybox2 li[data-v-90e8ba64] {\r\n  width: 300px;\r\n  text-align: left;\r\n  margin: 33px auto;\n}\n.t-c[data-v-90e8ba64]:after {\r\n  content: "";\r\n  display: block;\r\n  height: 0;\r\n  clear: both;\n}\n.bot > div[data-v-90e8ba64] {\r\n  position: relative;\n}\ndiv.bot[data-v-90e8ba64] {\r\n  margin: 45px auto 35px auto;\r\n  height: 100px;\n}\ndiv.bot span[data-v-90e8ba64] {\r\n  display: inline-block;\r\n  width: 20%;\n}\ndiv.bot input[data-v-90e8ba64] {\r\n  display: inline-block;\r\n  width: 55%;\r\n  outline: none;\r\n  border: none;\r\n  border-bottom: 1px solid #aaa;\n}\ndiv.bot button[data-v-90e8ba64] {\r\n  width: 110px;\r\n  height: 36px;\r\n  margin-left: -55px;\r\n  position: absolute;\r\n  border-radius: 18px;\r\n  -webkit-box-shadow: 4px 0px 6px rgba(177, 42, 19, 0.2);\r\n          box-shadow: 4px 0px 6px rgba(177, 42, 19, 0.2);\r\n  border: none;\r\n  color: #fff;\r\n  left: 50%;\r\n  top: 60px;\n}\nbutton.reject[data-v-90e8ba64] {\r\n  background: rgba(237, 81, 55, 1);\r\n  margin-right: 30%;\n}\nbutton.pass[data-v-90e8ba64] {\r\n  background-color: #20a0ff;\n}\n.left[data-v-90e8ba64] {\r\n  float: left;\r\n  width: 50%;\n}\n.right[data-v-90e8ba64] {\r\n  float: right;\r\n  width: 50%;\n}\n.nowrap[data-v-90e8ba64] {\r\n  width: 120px !important;\r\n  text-align: center;\r\n  white-space: nowrap; /*规定文本不换行**/\r\n  text-overflow: ellipsis; /**显示省略符号来代表被修剪的文本。*/\r\n  overflow: hidden;\r\n  margin: 0 auto;\n}\n.regionDetail[data-v-90e8ba64] .el-dialog__title {\r\n  font-size: 22px;\n}\n.regionDetail[data-v-90e8ba64] .el-dialog__body {\r\n  padding: 0px 25px 30px;\r\n  border-top: solid 2px #eee;\n}\r\n',"",{version:3,sources:["F:/仲达集团/2020-3-18总后台管理系统/src/pages/audit/channelIssuing/src/pages/audit/channelIssuing/index.vue"],names:[],mappings:";AA6OA;EACA,aAAA;EACA,iBAAA;EACA,wBAAA;EACA,qBAAA;EACA,6BAAA;EACA,sBAAA;EACA,eAAA;EACA,mBAAA;CACA;AACA;EACA,kBAAA;EACA,kBAAA;EACA,eAAA;CACA;AACA;EACA,gBAAA;EACA,iCAAA;CACA;AACA;EACA,gBAAA;EACA,iBAAA;CACA;AACA;EACA,WAAA;EACA,mBAAA;CACA;AACA;EACA,WAAA;EACA,eAAA;CACA;AACA;EACA,YAAA;EACA,aAAA;CACA;AACA;EACA,aAAA;EACA,cAAA;EACA,mBAAA;EACA,oBAAA;CACA;AACA;EACA,kBAAA;EACA,kCAAA;CACA;AAEA;EACA,cAAA;EACA,gBAAA;CACA;AAEA;EACA,aAAA;EACA,iBAAA;EACA,kBAAA;CACA;AAEA;EACA,YAAA;EACA,eAAA;EACA,UAAA;EACA,YAAA;CACA;AAEA;EACA,mBAAA;CACA;AAEA;EACA,4BAAA;EACA,cAAA;CACA;AAEA;EACA,sBAAA;EACA,WAAA;CACA;AAEA;EACA,sBAAA;EACA,WAAA;EACA,cAAA;EACA,aAAA;EACA,8BAAA;CACA;AAEA;EACA,aAAA;EACA,aAAA;EACA,mBAAA;EACA,mBAAA;EACA,oBAAA;EACA,uDAAA;UAAA,+CAAA;EACA,aAAA;EACA,YAAA;EACA,UAAA;EACA,UAAA;CACA;AAEA;EACA,iCAAA;EACA,kBAAA;CACA;AAEA;EACA,0BAAA;CACA;AAEA;EACA,YAAA;EACA,WAAA;CACA;AACA;EACA,aAAA;EACA,WAAA;CACA;AACA;EACA,wBAAA;EACA,mBAAA;EACA,oBAAA,CAAA,YAAA;EACA,wBAAA,CAAA,qBAAA;EACA,iBAAA;EACA,eAAA;CACA;AACA;EACA,gBAAA;CACA;AACA;EACA,uBAAA;EACA,2BAAA;CACA",file:"index.vue",sourcesContent:['<template>\r\n  <div>\r\n    <ctbHead>\r\n      <router-link :class="seCurId==item.id? \'cur\':\'\'"\r\n                   v-for="item in authList"\r\n                   :key="item.id"\r\n                   :to="{path:item.action,query:{id:curId}}"\r\n                   :v-key="item.id">\r\n        {{item.name}}\r\n      </router-link>\r\n    </ctbHead>\r\n    <div class="container">\r\n      <div class="quote">\r\n        <div class="quote-ele"><i></i>审核-渠道发卡</div>\r\n        <div class="quote-nav">\r\n          <router-link :class="thCurId==item.id? \'cur\':\'\'"\r\n                       v-for="item in threeAuthList"\r\n                       :key="item.id"\r\n                       :to="{path:item.action,query:{id:curId}}">\r\n            {{item.name}}\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n\r\n      <el-table :data="list"\r\n                tooltip-effect="dark">\r\n\r\n        <el-table-column label="渠道名称"\r\n                         align="center"\r\n                         prop="company">\r\n\r\n        </el-table-column>\r\n        <el-table-column prop="num"\r\n                         label="发卡数量"\r\n                         align="center"></el-table-column>\r\n        <el-table-column align="center"\r\n                         label="地区">\r\n          <template slot-scope="scope">\r\n            <el-popover placement="bottom"\r\n                        width="400"\r\n                        trigger="click">\r\n              <el-button type="text"\r\n                         slot="reference">详情</el-button>\r\n              <div class="areaDetails">\r\n                <h4 style="text-align:center">地区详情</h4>\r\n                <div v-if="scope.row.province">\r\n                  <span style="loat:left;width:80%;">\r\n                    <div v-for="(item,index) in scope.row.province"\r\n                         :key="index"\r\n                         class="area">\r\n                      <p class="province"> {{item.province_name}}</p>\r\n                      <p class="city">{{item.city_name ? item.city_name.join(\'、\') : \'\'}}</p>\r\n                    </div>\r\n                  </span>\r\n                </div>\r\n                <div v-else\r\n                     style="text-align:center;line-height:100px;font-size:18px">\r\n                  无\r\n                </div>\r\n              </div>\r\n\r\n            </el-popover>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column align="center"\r\n                         label="操作">\r\n          <template slot-scope="scope">\r\n            <el-button type="text"\r\n                       @click="details(scope.row)">详情</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      \x3c!-- 分页 --\x3e\r\n      <div :class="list && list.length<=7?\'page-nav\':\'page_center\'"\r\n           v-show="list && list.length>0">\r\n        <paging :page-count="pageCount"\r\n                :page="page"\r\n                @index="paging"></paging>\r\n        \x3c!--分页的组件--\x3e\r\n      </div>\r\n    </div>\r\n    <el-dialog center\r\n               title="详情"\r\n               :visible.sync="detailsVisible"\r\n               width="65%">\r\n      <el-table :data="detailsList">\r\n        <el-table-column align="center"\r\n                         label="用户名称"\r\n                         prop="user_name">\r\n\r\n        </el-table-column>\r\n\r\n        <el-table-column align="center"\r\n                         label="用户电话"\r\n                         prop="phone">\r\n\r\n        </el-table-column>\r\n        <el-table-column align="center"\r\n                         label="维修厂名称"\r\n                         prop="company">\r\n\r\n        </el-table-column>\r\n        <el-table-column align="center"\r\n                         label="维修厂电话"\r\n                         prop="shop_phone">\r\n\r\n        </el-table-column>\r\n        <el-table-column align="center"\r\n                         label="车辆品牌"\r\n                         prop="car_name">\r\n\r\n        </el-table-column>\r\n        <el-table-column align="center"\r\n                         label="车辆类型"\r\n                         prop="type">\r\n\r\n        </el-table-column>\r\n        <el-table-column align="center"\r\n                         label="排量"\r\n                         prop="series">\r\n\r\n        </el-table-column>\r\n        <el-table-column align="center"\r\n                         label="车牌号"\r\n                         prop="plate">\r\n\r\n        </el-table-column>\r\n        <el-table-column align="center"\r\n                         label="参与时间"\r\n                         prop="sale_time">\r\n\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class="page_center">\r\n        <paging :page-count="detailsCount"\r\n                :page="detailsPage"\r\n                @index="detailsPaging"></paging>\r\n        \x3c!--分页的组件--\x3e\r\n      </div>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n<script type="text/ecmascript-6">\r\nimport Viewer from \'@/utils/Viewer\'\r\nimport { getPro } from \'@/utils\'\r\nimport region from \'@/components/common\'\r\nexport default {\r\n  data () {\r\n    return {\r\n      list: [],\r\n      token: window.sessionStorage.getItem(\'bbytoken\'),\r\n      page: 1,\r\n      pageCount: 1,\r\n      thCurId: \'\',\r\n      seCurId: "",\r\n      authList: [],\r\n      threeAuthList: [],\r\n      detailsList: [],\r\n      detailsVisible: false,\r\n      detailsPage: 1,\r\n      detailsCount: 1,\r\n      currentData: {}\r\n    }\r\n  },\r\n\r\n\r\n  methods: {\r\n    GetCity: region.getCity,\r\n    GetCounty: region.getCounty,\r\n    paging (e) {\r\n      this.page = e;\r\n      this.init()\r\n    },\r\n    detailsPaging (e) {\r\n      this.detailsPage = e;\r\n      this.details(this.currentData)\r\n    },\r\n\r\n    init () {  //渠道发卡列表\r\n      this.$axios.post(\'admin/UserAudit/cardList\', { token: this.token, page: this.page, })\r\n        .then(res => {\r\n          this.list = res.data.data.list;\r\n          this.pageCount = res.data.data.rows;\r\n        }).catch(err => { })\r\n    },\r\n\r\n    async details (item) {  //渠道发卡详情\r\n      try {\r\n        this.detailsVisible = true\r\n        this.currentData = item\r\n        const res = await this.$axios.post(\'admin/UserAudit/cardDetail\', { token: this.token, id: item.id, page: this.detailsPage })\r\n        this.detailsList = res.data.data.list || []\r\n        this.detailsCount = res.data.data.rows || 0\r\n      } catch (error) {\r\n        throw (error)\r\n      }\r\n    },\r\n\r\n    Auth () {\r\n      var id = this.$route.query.id;\r\n      this.curId = id;\r\n      this.$axios.post(\'admin/Auth/erAuth\', {\r\n        token: window.sessionStorage.getItem(\'bbytoken\'),\r\n        id: id\r\n      })\r\n        .then(res => {\r\n\r\n          if (res.data.code == 1) {\r\n            var arr = res.data.data;\r\n            for (var i = 0; i < arr.length; i++) {\r\n              if (arr[i].son) {\r\n                if (arr[i].name == \'渠道发卡\') {\r\n                  this.seCurId = arr[i].id;\r\n                  this.threeAuthList = arr[i].son;\r\n                }\r\n              }\r\n            }\r\n            this.authList = arr;\r\n          } else {\r\n            this.$alert(res.data.msg, \'提示\', { type: \'error\' });\r\n          }\r\n        })\r\n        .catch(err => {\r\n          alert(err);\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.Auth()\r\n    this.init();\r\n\r\n  },\r\n}\r\n<\/script>\r\n<style scoped>\r\n.ellipsis {\r\n  width: 100px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 2;\r\n  margin: 0 auto;\r\n  text-align: center;\r\n}\r\n.areaDetails {\r\n  max-height: 300px;\r\n  min-height: 100px;\r\n  overflow: auto;\r\n}\r\n.areaDetails .area {\r\n  padding: 10px 0;\r\n  border-bottom: 1px solid #cccccc;\r\n}\r\n.areaDetails .province {\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n}\r\n.search {\r\n  width: 15%;\r\n  margin-right: 10px;\r\n}\r\n.region {\r\n  width: 10%;\r\n  margin: 0 10px;\r\n}\r\n.img {\r\n  width: 70px;\r\n  height: 70px;\r\n}\r\n.images {\r\n  width: 100px;\r\n  height: 100px;\r\n  margin-right: 10px;\r\n  vertical-align: top;\r\n}\r\n.laybox2 ul {\r\n  margin: 33px auto;\r\n  border-bottom: 1px dashed #04bbfc;\r\n}\r\n\r\n.laybox2 {\r\n  padding: 60px;\r\n  font-size: 16px;\r\n}\r\n\r\n.laybox2 li {\r\n  width: 300px;\r\n  text-align: left;\r\n  margin: 33px auto;\r\n}\r\n\r\n.t-c:after {\r\n  content: "";\r\n  display: block;\r\n  height: 0;\r\n  clear: both;\r\n}\r\n\r\n.bot > div {\r\n  position: relative;\r\n}\r\n\r\ndiv.bot {\r\n  margin: 45px auto 35px auto;\r\n  height: 100px;\r\n}\r\n\r\ndiv.bot span {\r\n  display: inline-block;\r\n  width: 20%;\r\n}\r\n\r\ndiv.bot input {\r\n  display: inline-block;\r\n  width: 55%;\r\n  outline: none;\r\n  border: none;\r\n  border-bottom: 1px solid #aaa;\r\n}\r\n\r\ndiv.bot button {\r\n  width: 110px;\r\n  height: 36px;\r\n  margin-left: -55px;\r\n  position: absolute;\r\n  border-radius: 18px;\r\n  box-shadow: 4px 0px 6px rgba(177, 42, 19, 0.2);\r\n  border: none;\r\n  color: #fff;\r\n  left: 50%;\r\n  top: 60px;\r\n}\r\n\r\nbutton.reject {\r\n  background: rgba(237, 81, 55, 1);\r\n  margin-right: 30%;\r\n}\r\n\r\nbutton.pass {\r\n  background-color: #20a0ff;\r\n}\r\n\r\n.left {\r\n  float: left;\r\n  width: 50%;\r\n}\r\n.right {\r\n  float: right;\r\n  width: 50%;\r\n}\r\n.nowrap {\r\n  width: 120px !important;\r\n  text-align: center;\r\n  white-space: nowrap; /*规定文本不换行**/\r\n  text-overflow: ellipsis; /**显示省略符号来代表被修剪的文本。*/\r\n  overflow: hidden;\r\n  margin: 0 auto;\r\n}\r\n.regionDetail >>> .el-dialog__title {\r\n  font-size: 22px;\r\n}\r\n.regionDetail >>> .el-dialog__body {\r\n  padding: 0px 25px 30px;\r\n  border-top: solid 2px #eee;\r\n}\r\n</style>\r\n'],sourceRoot:""}])}});
//# sourceMappingURL=73.0faf64b2014d69a2ce7b.js.map
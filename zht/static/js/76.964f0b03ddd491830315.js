webpackJsonp([76],{V2PP:function(t,n,e){var i=e("rFwj");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("0cd92782",i,!1,{})},bYWb:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e("E7z3");var i={data:function(){return{list:[],token:window.sessionStorage.getItem("bbytoken"),page:1,pageCount:1,authList:[],curId:0,seCurId:0,threeAuthList:"",regionVisible:!1,Province:[],frequency:0}},components:{RegionDialog:e("Tb/d").a},methods:{paging:function(t){this.page=t,this.init()},init:function(){var t=this;this.$axios.post("admin/SystemSetup/agentDetail",{page:this.page,token:this.token}).then(function(n){1==n.data.code&&(t.list=n.data.data.list,t.pageCount=n.data.data.rows)}).catch(function(t){return console.log(t)})},region:function(t){var n=this;this.$axios.post("admin/AgentList/regionList",{token:this.token,aid:t}).then(function(t){1==t.data.code&&(t.data.data instanceof Array||t.data.data instanceof Object?(n.regionVisible=!0,n.Province=t.data.data):layer.msg(t.data.data,{time:1e3}))}).catch(function(t){return console.log(t)})},regionClose:function(){this.regionVisible=!1},modify:function(t,n){var e=t.target.valueAsNumber;this.$axios.post("admin/SystemSetup/setFree",{token:this.token,aid:n,free_times:e}).then(function(t){1==t.data.code&&layer.msg(t.data.msg)}).catch(function(t){return console.log(t)})}},mounted:function(){var t=this;this.init();var n=this.$route.query.id;this.curId=n,this.$axios.post("admin/Auth/erAuth",{token:window.sessionStorage.getItem("bbytoken"),id:n}).then(function(n){if(1==n.data.code){for(var e=n.data.data,i=0;i<e.length;i++)"能量值"==e[i].name&&(t.seCurId=e[i].id);t.authList=e}else t.$alert(n.data.msg,"提示",{type:"error"})}).catch(function(t){alert(t)})}},a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("ctbHead",t._l(t.authList,function(n){return e("router-link",{key:n.id,class:t.seCurId==n.id?"cur":"",attrs:{to:{path:n.action,query:{id:t.curId}},"v-key":n.id}},[t._v("\n\t\t\t\t"+t._s(n.name)+"\n\t\t\t")])}),1),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"quote"},[t._m(0),t._v(" "),e("table",[t._m(1),t._v(" "),e("tbody",t._l(t.list,function(n){return e("tr",[e("td",[t._v(t._s(n.company))]),t._v(" "),e("td",[t._v(t._s(n.leader))]),t._v(" "),e("td",[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.region(n.aid)}}},[t._v(t._s(n.regions))])]),t._v(" "),e("td",{},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.free_times,expression:"item.free_times"}],staticStyle:{width:"100px",margin:"0 auto"},attrs:{type:"number"},domProps:{value:n.free_times},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.modify(e,n.aid)},input:function(e){e.target.composing||t.$set(n,"free_times",e.target.value)}}})])])}),0)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.pageCount&&t.pageCount>1,expression:"pageCount&&pageCount>1"}],staticClass:"page_center"},[e("paging",{attrs:{"page-count":t.pageCount,page:t.page},on:{index:t.paging}})],1),t._v(" "),e("RegionDialog",{attrs:{regionVisible:t.regionVisible,Province:t.Province},on:{regionClose:t.regionClose}})],1)])],1)};a._withStripped=!0;var o={render:a,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"quote-ele"},[n("i"),this._v("能量值\n            "),n("span",{staticClass:"Tips"},[this._v("*填写免费体验数之后,按Enter进行修改")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("thead",[n("tr",[n("th",[this._v("运营商名称")]),this._v(" "),n("th",[this._v("负责人")]),this._v(" "),n("th",[this._v("地区个数")]),this._v(" "),n("th",[this._v("免费体验数")])])])}]},r=o;var s=!1;var d=e("VU/8")(i,r,!1,function(t){s||e("V2PP")},"data-v-7f6d6487",null);d.options.__file="src/components/systemSet/EnergyValue/EnergyValue.vue";n.default=d.exports},rFwj:function(t,n,e){(t.exports=e("FZ+f")(!0)).push([t.i,"\n.head[data-v-7f6d6487] {\n\t\tz-index: 80;\n}\ntable tr td[data-v-7f6d6487] {\n\t\tpadding: 0;\n\t\twidth: 20%;\n}\ntable th[data-v-7f6d6487] {\n\t\tbackground-color: #fff;\n}\ntd[data-v-7f6d6487] {\n\t\theight: 50px;\n}\n.poimg[data-v-7f6d6487] {\n\t\tmax-width: 150px;\n\t\tmax-height: 150px;\n}\n.edit a[data-v-7f6d6487] {\n\t\tcolor: #00b4ff;\n}\n.del a[data-v-7f6d6487] {\n\t\tcolor: #FF0000;\n}\nimg[data-v-7f6d6487] {\n\t\tvertical-align: middle;\n}\n.quote-ele a[data-v-7f6d6487] {\n\t\twidth: 116px;\n\t\theight: 36px;\n\t\tborder-radius: 18px;\n\t\tcolor: white;\n\t\tbackground-color: #00b4ff;\n\t\tfont-size: 16px;\n\t\tfloat: right;\n\t\tmargin-right: 130px;\n\t\tline-height: 35px;\n\t\ttext-align: center;\n\t\tmargin-top: 20px;\n}\na[data-v-7f6d6487] {\n\t\tcursor: pointer;\n}\n.laybox[data-v-7f6d6487] {\n\t\tpadding: 40px 20px;\n\t\tfont-size: 16px;\n}\n.laybox li[data-v-7f6d6487] {\n\t\tmargin: 16px 0;\n}\n\n\t/* 提示 */\n.Tips[data-v-7f6d6487]{\n    font-size: 16px;\n    color: red;\n    margin-left: 30px\n}\n","",{version:3,sources:["E:/仲达集团/总后台管理系统/Zht-master/src/components/systemSet/EnergyValue/src/components/systemSet/EnergyValue/EnergyValue.vue"],names:[],mappings:";AAiJA;EACA,YAAA;CAEA;AAEA;EACA,WAAA;EACA,WAAA;CACA;AAEA;EACA,uBAAA;CACA;AAEA;EACA,aAAA;CACA;AAEA;EACA,iBAAA;EACA,kBAAA;CACA;AAEA;EACA,eAAA;CACA;AAEA;EACA,eAAA;CACA;AAEA;EACA,uBAAA;CACA;AAEA;EACA,aAAA;EACA,aAAA;EACA,oBAAA;EACA,aAAA;EACA,0BAAA;EACA,gBAAA;EACA,aAAA;EACA,oBAAA;EACA,kBAAA;EACA,mBAAA;EACA,iBAAA;CACA;AAEA;EACA,gBAAA;CACA;AAEA;EACA,mBAAA;EACA,gBAAA;CACA;AAEA;EACA,eAAA;CACA;;CACA,QAAA;AACA;IACA,gBAAA;IACA,WAAA;IACA,iBAAA;CACA",file:"EnergyValue.vue",sourcesContent:['<template>\n\t<div>\n\t\t<ctbHead>\n\t\t\t<router-link :class="seCurId==item.id? \'cur\':\'\'" v-for="item in authList" :key="item.id" :to="{path:item.action,query:{id:curId}}" :v-key="item.id">\n\t\t\t\t{{item.name}}\n\t\t\t</router-link>\n\t\t</ctbHead>\n\t\t<div class="container">\n\t\t\t<div class="quote">\n\t\t\t\t<div class="quote-ele"><i></i>能量值\n            <span class="Tips">*填写免费体验数之后,按Enter进行修改</span>\n        </div>\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>运营商名称</th>\n              <th>负责人</th>\n\t\t\t\t\t\t\t<th>地区个数</th>\n\t\t\t\t\t\t\t<th>免费体验数</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr v-for="item in list">\n               <td>{{item.company}}</td>\n               <td>{{item.leader}}</td>\n               <td>\n                  <a href="javascript:;" @click="region(item.aid)">{{item.regions}}</a>\n               </td>\n               <td style=""><input type="number"  style="width:100px;margin:0 auto;"  v-model="item.free_times" @keyup.enter="modify($event,item.aid)"/></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t<div class="page_center" v-show="pageCount&&pageCount>1">\n          \x3c!--分页的组件--\x3e\n\t\t\t\t\t<paging :page-count="pageCount" :page="page" @index="paging"></paging>\n\t\t\t\t</div>\n        \x3c!-- 地区弹框组件 --\x3e\n          <RegionDialog :regionVisible="regionVisible" :Province="Province" @regionClose=\'regionClose\'></RegionDialog>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script type="text/ecmascript-6">\n\timport page from \'../../common.js\';\n  import RegionDialog from \'@/components/Dialog/RegionDialog\'\n\texport default {\n\t\tdata() {\n\t\t\t\treturn {\n\t\t\t\t\tlist: [],\n\t\t\t\t\ttoken: window.sessionStorage.getItem(\'bbytoken\'),\n\t\t\t\t\tpage: 1,           //显示的页码数\n\t\t\t\t\tpageCount: 1,     //总页数\n\t\t\t\t\tauthList: [],\n\t\t\t\t\tcurId: 0,\n\t\t\t\t\tseCurId: 0,\n\t\t\t\t\tthreeAuthList: "",\n          regionVisible:false, //地区对话框默认不显示\n          Province:[],          //省的数据\n          frequency:0           //免费体验次数\n\t\t\t\t}\n\t\t\t},\n      //注册地区组件\n     components:{\n       RegionDialog\n     },\n\t\t\tmethods: {\n        //监听分页组件传过来的值\n\t\t\t\tpaging(e) {\n\t\t\t\t\tthis.page = e;\n\t\t\t\t\tthis.init()\n\t\t\t\t},\n        init(){\n          //请求 运营商列表接口\n          this.$axios.post(\'admin/SystemSetup/agentDetail\',{page:this.page,token:this.token}).then(res=>{\n                  if(res.data.code==1){\n                    \n                    this.list=res.data.data.list;\n                    this.pageCount=res.data.data.rows;\n                  }\n          }).catch(err=>console.log(err))\n        },\n        //点击地区个数查看详情地区\n        region(aid){ //aid 每个地区的aid\n\n            //获取区域详情的数据\n            this.$axios.post(\'admin/AgentList/regionList\',{token:this.token,aid:aid}).then(res=>{\n               if(res.data.code==1){\n                 if(res.data.data instanceof Array||res.data.data instanceof Object){ //检测后台给我数据是否是数组形式或者是对象\n                     this.regionVisible=true; //点击的时候显示,地区对话框\n                     this.Province=res.data.data; //如果是数组,那就代表里面有数据,可以渲染\n                 }else{\n                   layer.msg(res.data.data,{time:1000}) //如果不是数组,那就代表后台传过来的是字符串提示里面没有数据,然后提示暂未设置地区\n                 }\n               }\n            }).catch(err=>console.log(err))\n        },\n        //在父组件中改变子组件对话框的状态,通过$emit发过来的regionClose事件进行监听子组件进行改变\n        regionClose(){ //这是子组件发过来的事件,在父组件中进行关闭操作的事件\n           this.regionVisible=false\n        },\n        //失去焦点时修改免费体验次数\n        modify(e,aid){\n           \n             var NumberVal=e.target.valueAsNumber; //获取当前的改变的value\n             //调取修改次数的接口\n             this.$axios.post(\'admin/SystemSetup/setFree\',{token:this.token,aid:aid,free_times:NumberVal}).then(res=>{\n                if(res.data.code==1){\n                   layer.msg(res.data.msg)\n                }\n             }).catch(err=>console.log(err))\n        }\n\n\t\t\t},\n\t\t\tmounted() {\n        this.init()\n\t\t\t\tvar id = this.$route.query.id;\n\t\t\t\tthis.curId = id;\n\t\t\t\tthis.$axios.post(\'admin/Auth/erAuth\', {\n\t\t\t\t\t\ttoken: window.sessionStorage.getItem(\'bbytoken\'),\n\t\t\t\t\t\tid: id\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(res.data.code == 1) {\n\t\t\t\t\t\t\tvar arr = res.data.data;\n\t\t\t\t\t\t\tfor(var i = 0; i < arr.length; i++) {\n\t\t\t\t\t\t\t\tif(arr[i].name == \'能量值\') {\n\t\t\t\t\t\t\t\t\tthis.seCurId = arr[i].id;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.authList = arr;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$alert(res.data.msg, \'提示\', {\n\t\t\t\t\t\t\t\ttype: \'error\'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\talert(err);\n\t\t\t\t\t})\n\t\t\t}\n\t}\n<\/script>\n<style scoped>\n\t.head {\n\t\tz-index: 80;\n\n\t}\n\n\ttable tr td {\n\t\tpadding: 0;\n\t\twidth: 20%;\n\t}\n\n\ttable th {\n\t\tbackground-color: #fff;\n\t}\n\n\ttd {\n\t\theight: 50px;\n\t}\n\n\t.poimg {\n\t\tmax-width: 150px;\n\t\tmax-height: 150px;\n\t}\n\n\t.edit a {\n\t\tcolor: #00b4ff;\n\t}\n\n\t.del a {\n\t\tcolor: #FF0000;\n\t}\n\n\timg {\n\t\tvertical-align: middle;\n\t}\n\n\t.quote-ele a {\n\t\twidth: 116px;\n\t\theight: 36px;\n\t\tborder-radius: 18px;\n\t\tcolor: white;\n\t\tbackground-color: #00b4ff;\n\t\tfont-size: 16px;\n\t\tfloat: right;\n\t\tmargin-right: 130px;\n\t\tline-height: 35px;\n\t\ttext-align: center;\n\t\tmargin-top: 20px;\n\t}\n\n\ta {\n\t\tcursor: pointer;\n\t}\n\n\t.laybox {\n\t\tpadding: 40px 20px;\n\t\tfont-size: 16px;\n\t}\n\n\t.laybox li {\n\t\tmargin: 16px 0;\n\t}\n  /* 提示 */\n  .Tips{\n    font-size: 16px;\n    color: red;\n    margin-left: 30px\n  }\n</style>\n'],sourceRoot:""}])}});
//# sourceMappingURL=76.964f0b03ddd491830315.js.map
webpackJsonp([8],{O4zh:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("gPgF"),i={data:function(){return{token:window.sessionStorage.getItem("bbytoken"),pageCount:1,page:1,dataList:[],detailsDialogVisible:!1,detailsData:{},adoptDialogVisible:!1,adoptData:{},selectData:"",adoptID:"",RejectID:"",RejectDialogVisible:!1,reason:"",ImgDialogVisible:!1,regionDialogVisible:!1,reasonData:[]}},methods:{init:function(){var n=this;this.$axios.post("Smoc/addAudit",{token:this.token,page:this.page}).then(function(t){1==t.data.code?(n.dataList=t.data.data.data,n.pageCount=t.data.data.last_page):(n.dataList=null,layer.msg(t.data.msg,{time:1e3}))}).catch(function(n){return console.log(n)})},paging:function(n){this.page=n,this.init()},enlarge:function(n){var t=this;this.$nextTick(function(){var e=t.$refs.enlarge[n];Object(a.a)(e)})},region:function(n){var t=this;this.$axios.post("admin/Smoc/areaNum",{token:this.token,id:n,type:1}).then(function(n){1==n.data.code&&(t.reasonData=n.data.data)}).catch(function(n){return console.log(n)})},SeeDetails:function(n){var t=this;this.$axios.post("Smoc/regDetail",{token:this.token,uid:n}).then(function(n){1==n.data.code?(t.detailsDialogVisible=!0,t.detailsData=n.data.data):layer.msg(n.data.msg,{time:1e3})}).catch(function(n){return console.log(n)})},adopt:function(n){var t=this;this.adoptDialogVisible=!0,this.adoptID=n,this.$axios.post("Smoc/checkREg",{token:this.token,id:n}).then(function(n){1==n.data.code&&(t.adoptData=n.data.data,1==t.adoptData.sm_status&&(t.selectData=1),2==t.adoptData.sm_status&&(t.selectData=2))}).catch(function(n){return console.log(n)})},DetermineAdopt:function(){var n=this,t={token:this.token,id:this.adoptID,sm_profit:this.adoptData.sm_profit,sm_mold:this.selectData,ubi_profit:this.adoptData.ubi_profit};this.$axios.post("Smoc/regPass",t).then(function(t){1==t.data.code?layer.msg(t.data.msg,{time:1e3},function(){n.adoptDialogVisible=!1,n.$store.commit("increment"),n.$router.push("/serviceManager/Physics")}):layer.msg(t.data.msg,{time:1500})}).catch(function(n){return console.log(n)})},Reject:function(n){this.RejectDialogVisible=!0,this.RejectID=n},RejectClose:function(){this.reason=""},DetermineReject:function(){var n=this;this.reason?this.$axios.post("Smoc/regDown",{token:this.token,id:this.RejectID,reason:this.reason}).then(function(t){1==t.data.code?layer.msg(t.data.msg,{time:1500},function(){n.$store.commit("increment"),n.RejectDialogVisible=!1,n.init()}):layer.msg(t.data.msg,{time:1500})}).catch(function(n){return console.log(n)}):this.$message({message:"请输入驳回理由!",type:"error"})}},mounted:function(){this.init(),this.$store.commit("increment")}},s=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"register"},[e("table",{staticClass:"table"},[n._m(0),n._v(" "),n._l(n.dataList,function(t,a){return e("tr",[e("td",[n._v(n._s(t.name))]),n._v(" "),e("td",[n._v(n._s(t.phone))]),n._v(" "),e("td",[n._v(n._s(t.count))]),n._v(" "),e("td",[e("div",{ref:"enlarge",refInFor:!0,staticClass:"enlarge"},[e("img",{attrs:{src:t.voucher},on:{click:function(t){return n.enlarge(a)}}})])]),n._v(" "),e("td",[e("a",{staticClass:"col-1EA",attrs:{href:"javascript:;"},on:{click:function(e){n.regionDialogVisible=!0,n.region(t.id)}}},[n._v("查看")])]),n._v(" "),e("td",[e("a",{staticClass:"col-1EA",attrs:{href:"javascript:;"},on:{click:function(e){return n.SeeDetails(t.uid)}}},[n._v("查看")])]),n._v(" "),e("td",[e("span",[n._v(n._s(t.create_time))])]),n._v(" "),e("td",[e("a",{staticClass:"col-0ACD00 adopt",attrs:{href:"javascript:;"},on:{click:function(e){return n.adopt(t.id)}}},[n._v("通过")]),n._v(" "),e("a",{staticClass:"col-FA644B",attrs:{href:"javascript:;"},on:{click:function(e){return n.Reject(t.id)}}},[n._v("驳回")])])])})],2),n._v(" "),e("el-dialog",{attrs:{title:"详情",visible:n.detailsDialogVisible,width:"400px",center:""},on:{"update:visible":function(t){n.detailsDialogVisible=t}}},[e("div",{staticClass:"Head_portrait"},[e("img",{attrs:{src:n.detailsData.head_pic}})]),n._v(" "),e("div",{staticClass:"content"},[e("div",[e("span",[n._v("姓名:")]),n._v(" "),e("span",[n._v(n._s(n.detailsData.name))])]),n._v(" "),e("div",[e("span",[n._v("电话:")]),n._v(" "),e("span",[n._v(n._s(n.detailsData.phone))])]),n._v(" "),e("div",[e("span",[n._v("开户名:")]),n._v(" "),e("span",[n._v(n._s(n.detailsData.bank_name))])]),n._v(" "),e("div",[e("span",[n._v("开户行:")]),n._v(" "),e("span",[n._v(n._s(n.detailsData.bank_code))])]),n._v(" "),e("div",[e("span",[n._v("分行:")]),n._v(" "),e("span",[n._v(n._s(n.detailsData.bank_branch))])]),n._v(" "),e("div",[e("span",[n._v("卡号:")]),n._v(" "),e("span",[n._v(n._s(n.detailsData.account))])])])]),n._v(" "),e("el-dialog",{attrs:{title:"通过申请",visible:n.adoptDialogVisible,width:"400px",center:""},on:{"update:visible":function(t){n.adoptDialogVisible=t}}},[e("div",{staticClass:"adoptContent"},[e("div",[e("span",[n._v("注册类型:")]),n._v(" "),e("span",[n._v(n._s(n.adoptData.sm_type))])]),n._v(" "),e("div",[e("span",[n._v("管理奖励分成:")]),n._v(" "),e("span",[e("input",{directives:[{name:"model",rawName:"v-model",value:n.adoptData.sm_profit,expression:"adoptData.sm_profit"}],staticClass:"input",domProps:{value:n.adoptData.sm_profit},on:{input:function(t){t.target.composing||n.$set(n.adoptData,"sm_profit",t.target.value)}}}),n._v(" "),e("span",[n._v("%")])])]),n._v(" "),e("div",[e("span",[n._v("ubi奖励分成:")]),n._v(" "),e("span",[e("input",{directives:[{name:"model",rawName:"v-model",value:n.adoptData.ubi_profit,expression:"adoptData.ubi_profit"}],staticClass:"input",domProps:{value:n.adoptData.ubi_profit},on:{input:function(t){t.target.composing||n.$set(n.adoptData,"ubi_profit",t.target.value)}}}),n._v(" "),e("span",[n._v("元")])])])]),n._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:n.DetermineAdopt}},[n._v("确定")])],1)]),n._v(" "),e("el-dialog",{attrs:{title:"驳回理由",visible:n.RejectDialogVisible,width:"400px",center:""},on:{"update:visible":function(t){n.RejectDialogVisible=t},close:n.RejectClose}},[e("div",{staticClass:"textarea"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:n.reason,expression:"reason"}],domProps:{value:n.reason},on:{input:function(t){t.target.composing||(n.reason=t.target.value)}}})]),n._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:n.DetermineReject}},[n._v("确定")])],1)]),n._v(" "),e("el-dialog",{attrs:{title:"地区",visible:n.regionDialogVisible,width:"400px",center:""},on:{"update:visible":function(t){n.regionDialogVisible=t}}},[e("div",[e("div",[e("strong",{staticStyle:{"font-size":"16px"}},[n._v("省: ")]),n._v(" "),n._l(n.reasonData,function(t){return e("span",[n._v("\n                    "+n._s(t.name)+"\n                    "),e("div",[e("strong",{staticStyle:{"font-size":"16px"}},[n._v("市: ")]),n._v(" "),n._l(t.son,function(t){return e("span",[n._v("\n                            "+n._s(t.name)+"\n                            "),e("div",[e("strong",{staticStyle:{"font-size":"16px"}},[n._v("区/县: ")]),n._v(" "),n._l(t.son,function(t){return e("span",[n._v(n._s(t.name)+"、")])})],2)])})],2)])})],2)])]),n._v(" "),e("div",{staticClass:"page_center"},[e("paging",{attrs:{"page-count":n.pageCount,page:n.page},on:{index:n.paging}})],1)],1)};s._withStripped=!0;var o={render:s,staticRenderFns:[function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("tr",[e("th",[n._v("姓名")]),n._v(" "),e("th",[n._v("电话")]),n._v(" "),e("th",[n._v("投诉(次)")]),n._v(" "),e("th",[n._v("支付凭证")]),n._v(" "),e("th",[n._v("增加地区")]),n._v(" "),e("th",[n._v("详情")]),n._v(" "),e("th",[n._v("时间")]),n._v(" "),e("th",[n._v("操作")])])}]},r=o;var d=!1;var l=e("VU/8")(i,r,!1,function(n){d||(e("R3h7"),e("m8ee"))},"data-v-fedf8a50",null);l.options.__file="src/pages/serviceManager/materielApply/increaseRegion/increaseRegion.vue";t.default=l.exports},PoFd:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n.table>tr>th[data-v-fedf8a50]{\n    height: 50px !important;\n    line-height: 50px\n}\n.table>tr>td[data-v-fedf8a50]{\n    font-size: 14px;\n}\n.adopt[data-v-fedf8a50]{\n    margin-right: 29px\n}\n  /*头像*/\n.head_pic[data-v-fedf8a50]{\n    width: 50px;\n    height:50px;\n    border-radius: 50%;\n    vertical-align: middle;\n}\n  /*详情弹框头像*/\n.Head_portrait[data-v-fedf8a50]{\n    text-align: center;\n    margin-top: 20px;\n}\n.Head_portrait>img[data-v-fedf8a50]{\n    width: 80px;\n    height:80px;\n    border-radius: 50%;\n    text-align: center;\n}\n  /*详情弹框内容*/\n.content[data-v-fedf8a50]{\n    margin-top: 40px;\n    margin-bottom: 50px;\n}\n.content>div[data-v-fedf8a50]{\n    padding: 12px 0;\n    border-bottom: 1px solid #E6E6EB;\n}\n.content>div>span[data-v-fedf8a50]{\n    display: inline-block;\n    width: 49%;\n}\n.content>div>span[data-v-fedf8a50]:last-child{\n    text-align: right;\n}\n.adopt[data-v-fedf8a50]{\n    margin-right: 29px\n}\n  /*通过弹框*/\n.adoptContent[data-v-fedf8a50]{\n    margin-bottom: 38px;\n}\n.adoptContent>div[data-v-fedf8a50]{\n    margin-top: 20px;\n    padding-left: 20px;\n}\n.adoptContent>div>span[data-v-fedf8a50]:first-child{\n    display: inline-block;\n    width: 100px;\n}\n.input[data-v-fedf8a50]{\n    width: 120px;\n    height:40px;\n    background:rgba(245,245,250,1);\n    border:1px solid rgba(230,230,235,1);\n    margin-right: 10px;\n    text-align: center;\n}\n.select[data-v-fedf8a50]{\n    width:120px;\n    height:40px;\n    background:rgba(245,245,250,1);\n    border:1px solid rgba(230,230,235,1);\n    text-align: center;\n    -moz-text-align-last: center;\n         text-align-last: center;\n}\n  /*驳回弹出框*/\n.textarea[data-v-fedf8a50]{\n    width: 100%;\n}\n.textarea>textarea[data-v-fedf8a50]{\n    border: none;\n    width: 100% !important;\n    resize:none;\n    height: 100px;\n}\n.imgUrl[data-v-fedf8a50]{\n    width: 100%;\n    text-align: center;\n}\n.enlarge>img[data-v-fedf8a50]{\n   width: 50px;\n   height: 50px;\n  vertical-align: middle;\n  margin: 10px;\n}\n","",{version:3,sources:["F:/仲达集团/2020-3-18总后台管理系统/src/pages/serviceManager/materielApply/increaseRegion/src/pages/serviceManager/materielApply/increaseRegion/increaseRegion.vue"],names:[],mappings:";AA+RA;IACA,wBAAA;IACA,iBAAA;CACA;AACA;IACA,gBAAA;CAEA;AACA;IACA,kBAAA;CACA;EACA,MAAA;AACA;IACA,YAAA;IACA,YAAA;IACA,mBAAA;IACA,uBAAA;CAEA;EACA,UAAA;AACA;IACA,mBAAA;IACA,iBAAA;CACA;AACA;IACA,YAAA;IACA,YAAA;IACA,mBAAA;IACA,mBAAA;CACA;EACA,UAAA;AACA;IACA,iBAAA;IACA,oBAAA;CACA;AACA;IACA,gBAAA;IACA,iCAAA;CACA;AACA;IACA,sBAAA;IACA,WAAA;CACA;AACA;IACA,kBAAA;CACA;AACA;IACA,kBAAA;CACA;EACA,QAAA;AACA;IACA,oBAAA;CACA;AACA;IACA,iBAAA;IACA,mBAAA;CACA;AACA;IACA,sBAAA;IACA,aAAA;CAEA;AACA;IACA,aAAA;IACA,YAAA;IACA,+BAAA;IACA,qCAAA;IACA,mBAAA;IACA,mBAAA;CACA;AACA;IACA,YAAA;IACA,YAAA;IACA,+BAAA;IACA,qCAAA;IACA,mBAAA;IACA,6BAAA;SAAA,wBAAA;CACA;EACA,SAAA;AACA;IACA,YAAA;CACA;AACA;IACA,aAAA;IACA,uBAAA;IACA,YAAA;IACA,cAAA;CACA;AACA;IACA,YAAA;IACA,mBAAA;CACA;AACA;GACA,YAAA;GACA,aAAA;EACA,uBAAA;EACA,aAAA;CACA",file:"increaseRegion.vue",sourcesContent:['<template lang="html">\n    <div class="register">\n        <table class="table">\n            <tr>\n                <th>姓名</th>\n                <th>电话</th>\n                <th>投诉(次)</th>\n               \n                <th>支付凭证</th>\n                <th>增加地区</th>\n                <th>详情</th>\n                <th>时间</th>\n                <th>操作</th>\n            </tr>\n            <tr v-for="(item,index) in dataList">\n               \n                <td>{{item.name}}</td>\n                <td>{{item.phone}}</td>\n                <td>{{item.count}}</td>\n                <td>\n                <div class=\'enlarge\' ref=\'enlarge\'>\n                    <img  :src=\'item.voucher\' @click=\'enlarge(index)\' />\n                </div>\n                </td>\n                <td>\n                    <a href="javascript:;" class="col-1EA" @click=\'regionDialogVisible=true,region(item.id)\'>查看</a>\n                </td>\n                <td>\n                    <a href="javascript:;" class="col-1EA" @click="SeeDetails(item.uid)">查看</a>\n                </td>\n                <td>\n                    <span>{{item.create_time}}</span>\n                </td>\n                <td>\n                    <a href="javascript:;" class="col-0ACD00 adopt" @click="adopt(item.id)">通过</a>\n                    <a href="javascript:;" class="col-FA644B" @click="Reject(item.id)">驳回</a>\n                </td>\n            </tr>\n        </table>\n\n        \x3c!--详情弹框  --\x3e\n        <el-dialog title="详情" :visible.sync="detailsDialogVisible" width="400px" center>\n            <div class=\'Head_portrait\'>\n                <img :src="detailsData.head_pic" >\n            </div>\n            <div class="content">\n                <div>\n                    <span>姓名:</span>\n                    <span>{{detailsData.name}}</span>\n                </div>\n                <div>\n                    <span>电话:</span>\n                    <span>{{detailsData.phone}}</span>\n                </div>\n                <div>\n                    <span>开户名:</span>\n                    <span>{{detailsData.bank_name}}</span>\n                </div>\n                <div>\n                    <span>开户行:</span>\n                    <span>{{detailsData.bank_code}}</span>\n                </div>\n                <div>\n                    <span>分行:</span>\n                    <span>{{detailsData.bank_branch}}</span>\n                </div>\n                <div>\n                    <span>卡号:</span>\n                    <span>{{detailsData.account}}</span>\n                </div>\n            </div>\n        </el-dialog>\n\n        \x3c!--通过申请弹框--\x3e\n        <el-dialog title="通过申请" :visible.sync="adoptDialogVisible" width="400px" center>\n            <div class="adoptContent">\n              \n                <div>\n                    <span>注册类型:</span>\n                    <span>{{adoptData.sm_type}}</span>\n                </div>\n                <div>\n                    <span>管理奖励分成:</span>\n                    <span>\n                        <input class=\'input\' v-model=\'adoptData.sm_profit\' />\n                        <span>%</span>\n                    </span>\n                </div>\n                <div>\n                    <span>ubi奖励分成:</span>\n                    <span>\n                        <input class=\'input\' v-model=\'adoptData.ubi_profit\' />\n                        <span>元</span>\n                    </span>\n                </div>\n                </div>\n                <div slot="footer" class="dialog-footer">\n                <el-button type="primary" @click="DetermineAdopt">确定</el-button>\n            </div>\n        </el-dialog>\n\n        \x3c!--驳回弹框--\x3e\n        <el-dialog title="驳回理由" :visible.sync="RejectDialogVisible" width="400px" center @close="RejectClose">\n            <div class=\'textarea\'>\n                <textarea v-model="reason"></textarea>\n            </div>\n            <div slot="footer" class="dialog-footer">\n                <el-button type="primary" @click="DetermineReject">确定</el-button>\n            </div>\n        </el-dialog>\n\n        <el-dialog title="地区" :visible.sync="regionDialogVisible" width="400px" center >\n            <div >\n                <div>\n                    <strong style=\'font-size:16px\'>省: </strong>\n                    <span v-for=\'item in reasonData\'>\n                        {{item.name}}\n                        <div>\n                            <strong style=\'font-size:16px\'>市: </strong>\n                            <span v-for=\'it in item.son\'>\n                                {{it.name}}\n                                <div>\n                                    <strong style=\'font-size:16px\'>区/县: </strong>\n                                    <span v-for=\'i in it.son\'>{{i.name}}、</span>\n                                </div>\n                            </span>\n                        </div>\n                      \n                    </span> \n                </div>\n                \n            </div>\n           \n        </el-dialog>\n\n        \x3c!--分页组件--\x3e\n        <div class="page_center">\n            <paging :page-count="pageCount"   :page="page" @index="paging"></paging>\n        </div>\n    </div>\n</template>\n\n<script>\n    import Viewer from \'@/utils/Viewer\'\n    export default {\n        data(){\n            return{\n                token:window.sessionStorage.getItem("bbytoken"),\n                pageCount:1,  //总页数,默认1\n                page:1,       //当前页\n                dataList:[],\n                detailsDialogVisible:false,  //详情弹框,默认不显示\n                detailsData:{},  //详情弹框数据\n                adoptDialogVisible:false,    //通过申请弹框,默认不显示\n                adoptData:{},//通过弹框数据\n                selectData:\'\', //下拉数据\n                adoptID:\'\', //通过id,\n                RejectID:\'\',//驳回id\n                RejectDialogVisible:false,   //驳回弹框,默认不显示\n                reason:\'\', //驳回理由\n                ImgDialogVisible:false,\n                regionDialogVisible:false,\n                reasonData:[]\n            }\n        },\n        methods:{\n            //初始化数据\n            init(){\n                this.$axios.post(\'Smoc/addAudit\',{token:this.token,page:this.page}).then(res=>{\n                    if(res.data.code==1){\n                        this.dataList=res.data.data.data; //拿返回来的数据\n                        this.pageCount=res.data.data.last_page  //拿取总页数\n                    }else{\n                        this.dataList=null\n                        layer.msg(res.data.msg,{time:1000}) //如果code不等于一代表,没有数据，提示暂无数据\n                    }\n                }).catch(err=>console.log(err))\n            },\n            //操作分页组件\n            paging(e){\n                //把当前页赋值给page\n                this.page=e;\n                // 当前页发生改变时调取注册审核列表接口,重新渲染\n                this.init()\n            },\n            /** 图片放大 */\n            enlarge(index){\n                this.$nextTick(()=>{\n                    const ViewerDom=this.$refs.enlarge[index];\n                    Viewer(ViewerDom)\n                })\n            },\n            /** 地区 */\n            region(id){\n                this.$axios.post(\'admin/Smoc/areaNum\',{\n                    token:this.token,\n                    id:id,\n                    type:1\n                }).then(res=>{\n                    if(res.data.code==1){\n                        this.reasonData=res.data.data;\n                    }\n                }).catch(err=>console.log(err))\n            },\n            //点击查看详情\n            SeeDetails(uid){\n                this.$axios.post(\'Smoc/regDetail\',{token:this.token,uid:uid}).then(res=>{\n                    if(res.data.code==1){\n                        this.detailsDialogVisible=true\n                       \n                        this.detailsData=res.data.data;\n                    }else{\n                        layer.msg(res.data.msg,{time:1000})\n                    }\n                }).catch(err=>console.log(err))\n            },\n            //点击通过\n            adopt(id){\n                this.adoptDialogVisible=true;\n                this.adoptID=id;\n                this.$axios.post(\'Smoc/checkREg\',{token:this.token,id:id}).then(res=>{\n                    if(res.data.code==1){\n                        \n                        this.adoptData=res.data.data;\n                        if(this.adoptData.sm_status==1)this.selectData=1\n                        if(this.adoptData.sm_status==2)this.selectData=2\n                    }\n                }).catch(err=>console.log(err))\n            },\n            // 点击确定通过\n            DetermineAdopt(){\n                var adoptData={\n                    token:this.token,\n                    id:this.adoptID,\n                    sm_profit:this.adoptData.sm_profit,\n                    sm_mold:this.selectData,\n                    ubi_profit:this.adoptData.ubi_profit\n                }\n                this.$axios.post(\'Smoc/regPass\',adoptData).then(res=>{\n                    if(res.data.code==1){\n                        layer.msg(res.data.msg,{time:1000},(()=>{\n                            this.adoptDialogVisible=false\n                            this.$store.commit(\'increment\')\n                            this.$router.push(\'/serviceManager/Physics\')\n                        }))\n                    }else{\n                        layer.msg(res.data.msg,{time:1500})\n                    }\n                }).catch(err=>console.log(err))\n            },\n            //点击驳回\n            Reject(id){\n                this.RejectDialogVisible=true\n                this.RejectID=id;\n            },\n            //点击关闭弹框情况文本域中的内容\n            RejectClose(){\n                this.reason=\'\'\n            },\n            //点击确认驳回\n            DetermineReject(){\n                if(!this.reason){  //如果没有输入驳回理由,直接return,不让执行下面的操作\n                    this.$message({message:\'请输入驳回理由!\',type:\'error\'})\n                    return;\n                }\n                this.$axios.post(\'Smoc/regDown\',{token:this.token,id:this.RejectID,reason:this.reason}).then(res=>{\n                    if(res.data.code==1){\n                        layer.msg(res.data.msg,{time:1500},(()=>{\n                            this.$store.commit(\'increment\')\n                            this.RejectDialogVisible=false\n                            this.init()\n                        }))\n                    }else{\n                        layer.msg(res.data.msg,{time:1500})\n                    }\n                }).catch(err=>console.log(err))\n            }\n        },\n        mounted(){\n            this.init()\n            this.$store.commit(\'increment\')\n        }\n    }\n<\/script>\n\n<style lang="css" scoped="scoped">\n\n  .table>tr>th{\n    height: 50px !important;\n    line-height: 50px\n  }\n  .table>tr>td{\n    font-size: 14px;\n\n  }\n  .adopt{\n    margin-right: 29px\n  }\n  /*头像*/\n  .head_pic{\n    width: 50px;\n    height:50px;\n    border-radius: 50%;\n    vertical-align: middle;\n\n  }\n  /*详情弹框头像*/\n  .Head_portrait{\n    text-align: center;\n    margin-top: 20px;\n  }\n  .Head_portrait>img{\n    width: 80px;\n    height:80px;\n    border-radius: 50%;\n    text-align: center;\n  }\n  /*详情弹框内容*/\n  .content{\n    margin-top: 40px;\n    margin-bottom: 50px;\n  }\n  .content>div{\n    padding: 12px 0;\n    border-bottom: 1px solid #E6E6EB;\n  }\n  .content>div>span{\n    display: inline-block;\n    width: 49%;\n  }\n  .content>div>span:last-child{\n    text-align: right;\n  }\n  .adopt{\n    margin-right: 29px\n  }\n  /*通过弹框*/\n  .adoptContent{\n    margin-bottom: 38px;\n  }\n  .adoptContent>div{\n    margin-top: 20px;\n    padding-left: 20px;\n  }\n  .adoptContent>div>span:first-child{\n    display: inline-block;\n    width: 100px;\n\n  }\n  .input{\n    width: 120px;\n    height:40px;\n    background:rgba(245,245,250,1);\n    border:1px solid rgba(230,230,235,1);\n    margin-right: 10px;\n    text-align: center;\n  }\n  .select{\n    width:120px;\n    height:40px;\n    background:rgba(245,245,250,1);\n    border:1px solid rgba(230,230,235,1);\n    text-align: center;\n    text-align-last: center;\n  }\n  /*驳回弹出框*/\n  .textarea{\n    width: 100%;\n  }\n  .textarea>textarea{\n    border: none;\n    width: 100% !important;\n    resize:none;\n    height: 100px;\n  }\n  .imgUrl{\n    width: 100%;\n    text-align: center;\n  }\n  .enlarge>img{\n   width: 50px;\n   height: 50px;\n  vertical-align: middle;\n  margin: 10px;\n}\n</style>\n<style>\n  .el-dialog__header{\n    border-bottom: 1px solid #E6E6EB !important;\n    padding-bottom: 10px !important;\n  }\n  .el-dialog__headerbtn{\n    top: 15px;\n  }\n  .el-dialog__footer{\n    border-top: 1px solid #E6E6EB;\n    padding-bottom: 10px;\n  }\n</style>\n'],sourceRoot:""}])},R3h7:function(n,t,e){var a=e("PoFd");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("763c254e",a,!1,{})},XwDs:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n.el-dialog__header{\n  border-bottom: 1px solid #E6E6EB !important;\n  padding-bottom: 10px !important;\n}\n.el-dialog__headerbtn{\n  top: 15px;\n}\n.el-dialog__footer{\n  border-top: 1px solid #E6E6EB;\n  padding-bottom: 10px;\n}\n","",{version:3,sources:["F:/仲达集团/2020-3-18总后台管理系统/src/pages/serviceManager/materielApply/increaseRegion/src/pages/serviceManager/materielApply/increaseRegion/increaseRegion.vue"],names:[],mappings:";AAmYA;EACA,4CAAA;EACA,gCAAA;CACA;AACA;EACA,UAAA;CACA;AACA;EACA,8BAAA;EACA,qBAAA;CACA",file:"increaseRegion.vue",sourcesContent:['<template lang="html">\n    <div class="register">\n        <table class="table">\n            <tr>\n                <th>姓名</th>\n                <th>电话</th>\n                <th>投诉(次)</th>\n               \n                <th>支付凭证</th>\n                <th>增加地区</th>\n                <th>详情</th>\n                <th>时间</th>\n                <th>操作</th>\n            </tr>\n            <tr v-for="(item,index) in dataList">\n               \n                <td>{{item.name}}</td>\n                <td>{{item.phone}}</td>\n                <td>{{item.count}}</td>\n                <td>\n                <div class=\'enlarge\' ref=\'enlarge\'>\n                    <img  :src=\'item.voucher\' @click=\'enlarge(index)\' />\n                </div>\n                </td>\n                <td>\n                    <a href="javascript:;" class="col-1EA" @click=\'regionDialogVisible=true,region(item.id)\'>查看</a>\n                </td>\n                <td>\n                    <a href="javascript:;" class="col-1EA" @click="SeeDetails(item.uid)">查看</a>\n                </td>\n                <td>\n                    <span>{{item.create_time}}</span>\n                </td>\n                <td>\n                    <a href="javascript:;" class="col-0ACD00 adopt" @click="adopt(item.id)">通过</a>\n                    <a href="javascript:;" class="col-FA644B" @click="Reject(item.id)">驳回</a>\n                </td>\n            </tr>\n        </table>\n\n        \x3c!--详情弹框  --\x3e\n        <el-dialog title="详情" :visible.sync="detailsDialogVisible" width="400px" center>\n            <div class=\'Head_portrait\'>\n                <img :src="detailsData.head_pic" >\n            </div>\n            <div class="content">\n                <div>\n                    <span>姓名:</span>\n                    <span>{{detailsData.name}}</span>\n                </div>\n                <div>\n                    <span>电话:</span>\n                    <span>{{detailsData.phone}}</span>\n                </div>\n                <div>\n                    <span>开户名:</span>\n                    <span>{{detailsData.bank_name}}</span>\n                </div>\n                <div>\n                    <span>开户行:</span>\n                    <span>{{detailsData.bank_code}}</span>\n                </div>\n                <div>\n                    <span>分行:</span>\n                    <span>{{detailsData.bank_branch}}</span>\n                </div>\n                <div>\n                    <span>卡号:</span>\n                    <span>{{detailsData.account}}</span>\n                </div>\n            </div>\n        </el-dialog>\n\n        \x3c!--通过申请弹框--\x3e\n        <el-dialog title="通过申请" :visible.sync="adoptDialogVisible" width="400px" center>\n            <div class="adoptContent">\n              \n                <div>\n                    <span>注册类型:</span>\n                    <span>{{adoptData.sm_type}}</span>\n                </div>\n                <div>\n                    <span>管理奖励分成:</span>\n                    <span>\n                        <input class=\'input\' v-model=\'adoptData.sm_profit\' />\n                        <span>%</span>\n                    </span>\n                </div>\n                <div>\n                    <span>ubi奖励分成:</span>\n                    <span>\n                        <input class=\'input\' v-model=\'adoptData.ubi_profit\' />\n                        <span>元</span>\n                    </span>\n                </div>\n                </div>\n                <div slot="footer" class="dialog-footer">\n                <el-button type="primary" @click="DetermineAdopt">确定</el-button>\n            </div>\n        </el-dialog>\n\n        \x3c!--驳回弹框--\x3e\n        <el-dialog title="驳回理由" :visible.sync="RejectDialogVisible" width="400px" center @close="RejectClose">\n            <div class=\'textarea\'>\n                <textarea v-model="reason"></textarea>\n            </div>\n            <div slot="footer" class="dialog-footer">\n                <el-button type="primary" @click="DetermineReject">确定</el-button>\n            </div>\n        </el-dialog>\n\n        <el-dialog title="地区" :visible.sync="regionDialogVisible" width="400px" center >\n            <div >\n                <div>\n                    <strong style=\'font-size:16px\'>省: </strong>\n                    <span v-for=\'item in reasonData\'>\n                        {{item.name}}\n                        <div>\n                            <strong style=\'font-size:16px\'>市: </strong>\n                            <span v-for=\'it in item.son\'>\n                                {{it.name}}\n                                <div>\n                                    <strong style=\'font-size:16px\'>区/县: </strong>\n                                    <span v-for=\'i in it.son\'>{{i.name}}、</span>\n                                </div>\n                            </span>\n                        </div>\n                      \n                    </span> \n                </div>\n                \n            </div>\n           \n        </el-dialog>\n\n        \x3c!--分页组件--\x3e\n        <div class="page_center">\n            <paging :page-count="pageCount"   :page="page" @index="paging"></paging>\n        </div>\n    </div>\n</template>\n\n<script>\n    import Viewer from \'@/utils/Viewer\'\n    export default {\n        data(){\n            return{\n                token:window.sessionStorage.getItem("bbytoken"),\n                pageCount:1,  //总页数,默认1\n                page:1,       //当前页\n                dataList:[],\n                detailsDialogVisible:false,  //详情弹框,默认不显示\n                detailsData:{},  //详情弹框数据\n                adoptDialogVisible:false,    //通过申请弹框,默认不显示\n                adoptData:{},//通过弹框数据\n                selectData:\'\', //下拉数据\n                adoptID:\'\', //通过id,\n                RejectID:\'\',//驳回id\n                RejectDialogVisible:false,   //驳回弹框,默认不显示\n                reason:\'\', //驳回理由\n                ImgDialogVisible:false,\n                regionDialogVisible:false,\n                reasonData:[]\n            }\n        },\n        methods:{\n            //初始化数据\n            init(){\n                this.$axios.post(\'Smoc/addAudit\',{token:this.token,page:this.page}).then(res=>{\n                    if(res.data.code==1){\n                        this.dataList=res.data.data.data; //拿返回来的数据\n                        this.pageCount=res.data.data.last_page  //拿取总页数\n                    }else{\n                        this.dataList=null\n                        layer.msg(res.data.msg,{time:1000}) //如果code不等于一代表,没有数据，提示暂无数据\n                    }\n                }).catch(err=>console.log(err))\n            },\n            //操作分页组件\n            paging(e){\n                //把当前页赋值给page\n                this.page=e;\n                // 当前页发生改变时调取注册审核列表接口,重新渲染\n                this.init()\n            },\n            /** 图片放大 */\n            enlarge(index){\n                this.$nextTick(()=>{\n                    const ViewerDom=this.$refs.enlarge[index];\n                    Viewer(ViewerDom)\n                })\n            },\n            /** 地区 */\n            region(id){\n                this.$axios.post(\'admin/Smoc/areaNum\',{\n                    token:this.token,\n                    id:id,\n                    type:1\n                }).then(res=>{\n                    if(res.data.code==1){\n                        this.reasonData=res.data.data;\n                    }\n                }).catch(err=>console.log(err))\n            },\n            //点击查看详情\n            SeeDetails(uid){\n                this.$axios.post(\'Smoc/regDetail\',{token:this.token,uid:uid}).then(res=>{\n                    if(res.data.code==1){\n                        this.detailsDialogVisible=true\n                       \n                        this.detailsData=res.data.data;\n                    }else{\n                        layer.msg(res.data.msg,{time:1000})\n                    }\n                }).catch(err=>console.log(err))\n            },\n            //点击通过\n            adopt(id){\n                this.adoptDialogVisible=true;\n                this.adoptID=id;\n                this.$axios.post(\'Smoc/checkREg\',{token:this.token,id:id}).then(res=>{\n                    if(res.data.code==1){\n                        \n                        this.adoptData=res.data.data;\n                        if(this.adoptData.sm_status==1)this.selectData=1\n                        if(this.adoptData.sm_status==2)this.selectData=2\n                    }\n                }).catch(err=>console.log(err))\n            },\n            // 点击确定通过\n            DetermineAdopt(){\n                var adoptData={\n                    token:this.token,\n                    id:this.adoptID,\n                    sm_profit:this.adoptData.sm_profit,\n                    sm_mold:this.selectData,\n                    ubi_profit:this.adoptData.ubi_profit\n                }\n                this.$axios.post(\'Smoc/regPass\',adoptData).then(res=>{\n                    if(res.data.code==1){\n                        layer.msg(res.data.msg,{time:1000},(()=>{\n                            this.adoptDialogVisible=false\n                            this.$store.commit(\'increment\')\n                            this.$router.push(\'/serviceManager/Physics\')\n                        }))\n                    }else{\n                        layer.msg(res.data.msg,{time:1500})\n                    }\n                }).catch(err=>console.log(err))\n            },\n            //点击驳回\n            Reject(id){\n                this.RejectDialogVisible=true\n                this.RejectID=id;\n            },\n            //点击关闭弹框情况文本域中的内容\n            RejectClose(){\n                this.reason=\'\'\n            },\n            //点击确认驳回\n            DetermineReject(){\n                if(!this.reason){  //如果没有输入驳回理由,直接return,不让执行下面的操作\n                    this.$message({message:\'请输入驳回理由!\',type:\'error\'})\n                    return;\n                }\n                this.$axios.post(\'Smoc/regDown\',{token:this.token,id:this.RejectID,reason:this.reason}).then(res=>{\n                    if(res.data.code==1){\n                        layer.msg(res.data.msg,{time:1500},(()=>{\n                            this.$store.commit(\'increment\')\n                            this.RejectDialogVisible=false\n                            this.init()\n                        }))\n                    }else{\n                        layer.msg(res.data.msg,{time:1500})\n                    }\n                }).catch(err=>console.log(err))\n            }\n        },\n        mounted(){\n            this.init()\n            this.$store.commit(\'increment\')\n        }\n    }\n<\/script>\n\n<style lang="css" scoped="scoped">\n\n  .table>tr>th{\n    height: 50px !important;\n    line-height: 50px\n  }\n  .table>tr>td{\n    font-size: 14px;\n\n  }\n  .adopt{\n    margin-right: 29px\n  }\n  /*头像*/\n  .head_pic{\n    width: 50px;\n    height:50px;\n    border-radius: 50%;\n    vertical-align: middle;\n\n  }\n  /*详情弹框头像*/\n  .Head_portrait{\n    text-align: center;\n    margin-top: 20px;\n  }\n  .Head_portrait>img{\n    width: 80px;\n    height:80px;\n    border-radius: 50%;\n    text-align: center;\n  }\n  /*详情弹框内容*/\n  .content{\n    margin-top: 40px;\n    margin-bottom: 50px;\n  }\n  .content>div{\n    padding: 12px 0;\n    border-bottom: 1px solid #E6E6EB;\n  }\n  .content>div>span{\n    display: inline-block;\n    width: 49%;\n  }\n  .content>div>span:last-child{\n    text-align: right;\n  }\n  .adopt{\n    margin-right: 29px\n  }\n  /*通过弹框*/\n  .adoptContent{\n    margin-bottom: 38px;\n  }\n  .adoptContent>div{\n    margin-top: 20px;\n    padding-left: 20px;\n  }\n  .adoptContent>div>span:first-child{\n    display: inline-block;\n    width: 100px;\n\n  }\n  .input{\n    width: 120px;\n    height:40px;\n    background:rgba(245,245,250,1);\n    border:1px solid rgba(230,230,235,1);\n    margin-right: 10px;\n    text-align: center;\n  }\n  .select{\n    width:120px;\n    height:40px;\n    background:rgba(245,245,250,1);\n    border:1px solid rgba(230,230,235,1);\n    text-align: center;\n    text-align-last: center;\n  }\n  /*驳回弹出框*/\n  .textarea{\n    width: 100%;\n  }\n  .textarea>textarea{\n    border: none;\n    width: 100% !important;\n    resize:none;\n    height: 100px;\n  }\n  .imgUrl{\n    width: 100%;\n    text-align: center;\n  }\n  .enlarge>img{\n   width: 50px;\n   height: 50px;\n  vertical-align: middle;\n  margin: 10px;\n}\n</style>\n<style>\n  .el-dialog__header{\n    border-bottom: 1px solid #E6E6EB !important;\n    padding-bottom: 10px !important;\n  }\n  .el-dialog__headerbtn{\n    top: 15px;\n  }\n  .el-dialog__footer{\n    border-top: 1px solid #E6E6EB;\n    padding-bottom: 10px;\n  }\n</style>\n'],sourceRoot:""}])},m8ee:function(n,t,e){var a=e("XwDs");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("1cab1eaf",a,!1,{})}});
//# sourceMappingURL=8.9b99fac0c4ec2e3337cb.js.map
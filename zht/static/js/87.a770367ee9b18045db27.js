webpackJsonp([87],{cftN:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});e("E7z3");var i={data:function(){return{money:"",m:"",token:window.sessionStorage.getItem("bbytoken"),authList:[],curId:0,seCurId:0,threeAuthList:""}},created:function(){var n=this;this.$axios.post("admin/SmallSystemSet/selectMoney",{token:this.token}).then(function(t){0==t.data.code?layer.alert(t.data.msg):(n.money=t.data.data.am.money,n.m=1)}).catch(function(n){return console.log(n)})},methods:{pass:function(){this.$axios.post("admin/SmallSystemSet/setMoney",{token:this.token,money:this.money}).then(function(n){layer.msg(n.data.msg)}).catch(function(n){})},edit:function(){this.$axios.post("admin/SmallSystemSet/alterMoney",{token:this.token,money:this.money}).then(function(n){layer.msg(n.data.msg)}).catch(function(n){})}},mounted:function(){var n=this,t=this.$route.query.id;this.curId=t,this.$axios.post("admin/Auth/erAuth",{token:window.sessionStorage.getItem("bbytoken"),id:t}).then(function(t){if(1==t.data.code){for(var e=t.data.data,i=0;i<e.length;i++)if("邦保养"==e[i].name&&(n.seCurId=e[i].id),e[i].son){n.threeAuthList=e[i].son;for(var a=0;a<e[i].son.length;a++)e[i].action!=e[i].son[a].action&&(e[i].action=e[i].son[0].action),"车主分享奖励"==e[i].son[a].name&&"邦保养"==e[i].name&&(n.thCurId=e[i].son[a].id)}n.authList=e}else n.$alert(t.data.msg,"提示",{type:"error"})}).catch(function(n){alert(n)})}},a=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("ctbHead",n._l(n.authList,function(t){return e("router-link",{key:t.id,class:n.seCurId==t.id?"cur":"",attrs:{to:{path:t.action,query:{id:n.curId}},"v-key":t.id}},[n._v("\n      "+n._s(t.name)+"\n\n    ")])}),1),n._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"quote"},[n._m(0),n._v(" "),e("div",{staticClass:"quote-nav"},n._l(n.threeAuthList,function(t){return e("router-link",{key:t.id,class:n.thCurId==t.id?"cur":"",attrs:{to:{path:t.action,query:{id:n.curId}}}},[n._v("\n          "+n._s(t.name)+"\n        ")])}),1)]),n._v(" "),e("div",{staticClass:"content"},[e("label",{attrs:{for:""}},[n._v("车主分享获得奖励金额：")]),n._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:n.money,expression:"money"}],attrs:{type:"text",name:"money"},domProps:{value:n.money},on:{input:function(t){t.target.composing||(n.money=t.target.value)}}}),n._v(" "),e("br"),n._v(" "),e("button",{directives:[{name:"show",rawName:"v-show",value:1==n.m,expression:"m==1"}],on:{click:n.edit}},[n._v("修改")]),n._v(" "),e("button",{directives:[{name:"show",rawName:"v-show",value:0==n.m,expression:"m==0"}],on:{click:n.pass}},[n._v("确定")])])])],1)};a._withStripped=!0;var o={render:a,staticRenderFns:[function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"quote-ele"},[t("i"),this._v("邦保养")])}]},s=o;var r=!1;var d=e("VU/8")(i,s,!1,function(n){r||e("krBl")},"data-v-6d949ed3",null);d.options.__file="src/components/systemSet/maintain/maintain.vue";t.default=d.exports},gOXv:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n.content[data-v-6d949ed3] {\n  overflow: hidden;\n  width: 330px;\n  margin: 200px auto;\n  font-size: 20px;\n}\n.content input[data-v-6d949ed3] {\n  display: inline-block;\n  width: 100px;\n}\n.content button[data-v-6d949ed3] {\n  margin-top: 50px;\n  float: right;\n  width: 100px;\n  height: 36px;\n  border-radius: 18px;\n  color: white;\n  background-color: #00b4ff;\n  display: block;\n}\n","",{version:3,sources:["F:/仲达集团/2020-3-18总后台管理系统/src/components/systemSet/maintain/src/components/systemSet/maintain/maintain.vue"],names:[],mappings:";AAuIA;EACA,iBAAA;EACA,aAAA;EACA,mBAAA;EACA,gBAAA;CACA;AAEA;EACA,sBAAA;EACA,aAAA;CACA;AAEA;EACA,iBAAA;EACA,aAAA;EACA,aAAA;EACA,aAAA;EACA,oBAAA;EACA,aAAA;EACA,0BAAA;EACA,eAAA;CACA",file:"maintain.vue",sourcesContent:['<template>\n  <div>\n    <ctbHead>\n      <router-link :class="seCurId==item.id? \'cur\':\'\'"\n                   v-for="item in authList"\n                   :key="item.id"\n                   :to="{path:item.action,query:{id:curId}}"\n                   :v-key="item.id">\n        {{item.name}}\n\n      </router-link>\n    </ctbHead>\n    <div class="container">\n      <div class="quote">\n        <div class="quote-ele"><i></i>邦保养</div>\n        <div class="quote-nav">\n          <router-link :class="thCurId==item.id? \'cur\':\'\'"\n                       v-for="item in threeAuthList"\n                       :key="item.id"\n                       :to="{path:item.action,query:{id:curId}}">\n            {{item.name}}\n          </router-link>\n        </div>\n\n      </div>\n      <div class="content">\n        <label for="">车主分享获得奖励金额：</label>\n        <input type="text"\n               v-model="money"\n               name="money"> <br>\n        <button @click="edit"\n                v-show="m==1">修改</button>\n        <button @click="pass"\n                v-show="m==0">确定</button>\n      </div>\n    </div>\n\n  </div>\n</template>\n<script type="text/ecmascript-6">\nimport page from \'../../common.js\';\nexport default {\n  data () {\n    return {\n      money: \'\',\n      m: \'\',\n      token: window.sessionStorage.getItem(\'bbytoken\'),\n      authList: [],\n      curId: 0,\n      seCurId: 0,\n      threeAuthList: ""\n    }\n  },\n  created () {\n    this.$axios.post(\'admin/SmallSystemSet/selectMoney\', {\n      token: this.token\n    })\n      .then(res => {\n\n        if (res.data.code == 0) //没有值 需要设置\n          layer.alert(res.data.msg);\n        else {\n          this.money = res.data.data.am.money;\n          this.m = 1; //有值 显示修改\n        }\n      }).catch(err => console.log(err))\n  },\n  methods: {\n    pass () { //设置\n      this.$axios.post(\'admin/SmallSystemSet/setMoney\', {\n        token: this.token,\n        money: this.money\n      })\n        .then(res => {\n\n          layer.msg(res.data.msg);\n        }).catch(err => { })\n    },\n    edit () { //修改\n      this.$axios.post(\'admin/SmallSystemSet/alterMoney\', {\n        token: this.token,\n        money: this.money\n      })\n        .then(res => {\n\n          layer.msg(res.data.msg);\n        }).catch(err => { })\n    }\n  },\n  mounted () {\n    var id = this.$route.query.id;\n    this.curId = id;\n   \n    this.$axios.post(\'admin/Auth/erAuth\', {\n      token: window.sessionStorage.getItem(\'bbytoken\'),\n      id: id\n    })\n      .then(res => {\n\n        if (res.data.code == 1) {\n          var arr = res.data.data;\n          for (var i = 0; i < arr.length; i++) {\n            if (arr[i].name == \'邦保养\') {\n              this.seCurId = arr[i].id;\n            }\n\n            if (arr[i].son) {\n              this.threeAuthList = arr[i].son\n              for (var j = 0; j < arr[i].son.length; j++) {\n                if (arr[i].action != arr[i].son[j].action) {\n                  arr[i].action = arr[i].son[0].action;\n                }\n\n                if (arr[i].son[j].name == \'车主分享奖励\' && arr[i].name == \'邦保养\') {\n                  this.thCurId = arr[i].son[j].id;\n\n                }\n\n              }\n            }\n          }\n          this.authList = arr;\n        } else {\n          this.$alert(res.data.msg, \'提示\', {\n            type: \'error\'\n          });\n        }\n      })\n      .catch(err => {\n        alert(err);\n      })\n  }\n}\n<\/script>\n<style scoped>\n.content {\n  overflow: hidden;\n  width: 330px;\n  margin: 200px auto;\n  font-size: 20px;\n}\n\n.content input {\n  display: inline-block;\n  width: 100px;\n}\n\n.content button {\n  margin-top: 50px;\n  float: right;\n  width: 100px;\n  height: 36px;\n  border-radius: 18px;\n  color: white;\n  background-color: #00b4ff;\n  display: block;\n}\n</style>'],sourceRoot:""}])},krBl:function(n,t,e){var i=e("gOXv");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("rjj0")("2e5bafb0",i,!1,{})}});
//# sourceMappingURL=87.a770367ee9b18045db27.js.map
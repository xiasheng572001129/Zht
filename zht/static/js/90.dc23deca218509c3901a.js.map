{"version":3,"sources":["webpack:///./src/pages/filterSetup/index.vue?4b46","webpack:///./src/pages/filterSetup/index.vue?7d28","webpack:///src/pages/filterSetup/index.vue","webpack:///./src/pages/filterSetup/index.vue?4e4d","webpack:///./src/pages/filterSetup/index.vue"],"names":["module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","content","locals","filterSetup","data","list","token","window","sessionStorage","getItem","page","pageCount","curId","thCurId","seCurId","threeAuthList","authList","treeData","methods","paging","e","this","init","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","$axios","post","sent","forEach","element","children","item","status","assign_default","t0","stop","radioChange","_this2","$prompt","confirmButtonText","cancelButtonText","inputPattern","inputErrorMessage","closeOnClickModal","beforeClose","action","instance","done","value","inputValue","filterSet","id","then","catch","cid","money","callback","_this3","_callee2","_context2","code","$message","message","msg","type","error","Auth","_this4","$route","query","arr","length","son","name","$alert","err","alert","mounted","render","_vm","_h","$createElement","_c","_self","_l","key","class","attrs","to","path","v-key","_v","_s","staticClass","_m","node-key","default-expand-all","expand-on-click-node","scopedSlots","_u","fn","ref","node","level","on","change","model","$$v","$set","expression","label","staticStyle","margin-left","_e","_withStripped","esExports","staticRenderFns","pages_filterSetup","disposed","Component","normalizeComponent","ssrContext","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/90.dc23deca218509c3901a.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.ellipsis[data-v-71e54e54] {\\r\\n  width: 100px;\\r\\n  overflow: hidden;\\r\\n  text-overflow: ellipsis;\\r\\n  display: -webkit-box;\\r\\n  -webkit-box-orient: vertical;\\r\\n  -webkit-line-clamp: 2;\\r\\n  margin: 0 auto;\\r\\n  text-align: center;\\n}\\n.tree[data-v-71e54e54] {\\r\\n  margin-left: 5%;\\n}\\n.treeRadio[data-v-71e54e54] {\\r\\n  position: absolute;\\r\\n  left: 20%;\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"F:/仲达集团/2020-3-18总后台管理系统/src/pages/filterSetup/src/pages/filterSetup/index.vue\"],\"names\":[],\"mappings\":\";AAqKA;EACA,aAAA;EACA,iBAAA;EACA,wBAAA;EACA,qBAAA;EACA,6BAAA;EACA,sBAAA;EACA,eAAA;EACA,mBAAA;CACA;AACA;EACA,gBAAA;CACA;AACA;EACA,mBAAA;EACA,UAAA;CACA\",\"file\":\"index.vue\",\"sourcesContent\":[\"<template>\\r\\n  <div>\\r\\n    <ctbHead>\\r\\n      <router-link :class=\\\"seCurId==item.id? 'cur':''\\\"\\r\\n                   v-for=\\\"item in authList\\\"\\r\\n                   :key=\\\"item.id\\\"\\r\\n                   :to=\\\"{path:item.action,query:{id:curId}}\\\"\\r\\n                   :v-key=\\\"item.id\\\">\\r\\n        {{item.name}}\\r\\n      </router-link>\\r\\n    </ctbHead>\\r\\n    <div class=\\\"container\\\">\\r\\n      <div class=\\\"quote\\\">\\r\\n        <div class=\\\"quote-ele\\\">\\r\\n          <i></i>\\r\\n          滤芯设置\\r\\n        </div>\\r\\n      </div>\\r\\n      <el-tree :data=\\\"treeData\\\"\\r\\n               node-key=\\\"id\\\"\\r\\n               default-expand-all\\r\\n               :expand-on-click-node=\\\"false\\\"\\r\\n               class=\\\"tree\\\">\\r\\n        <span class=\\\"custom-tree-node\\\"\\r\\n              slot-scope=\\\"{ node ,data}\\\">\\r\\n          {{data.name}}\\r\\n          <span v-if=\\\"data.level!=1\\\"\\r\\n                class=\\\"treeRadio\\\">\\r\\n            <el-radio-group v-model=\\\"data.status\\\"\\r\\n                            @change=\\\"(value)=>radioChange(data,value)\\\">\\r\\n              <el-radio :label=\\\"2\\\">维修厂</el-radio>\\r\\n              <el-radio :label=\\\"1\\\">供应商</el-radio>\\r\\n            </el-radio-group>\\r\\n            <span style=\\\"margin-left:20px\\\"\\r\\n                  v-if=\\\"data.status==1\\\">\\r\\n              滤芯补贴 : {{data.money}}元\\r\\n            </span>\\r\\n          </span>\\r\\n        </span>\\r\\n      </el-tree>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</template>\\r\\n<script type=\\\"text/ecmascript-6\\\">\\r\\nimport { getPro, GET_City } from '@/utils'   //获取省市\\r\\nexport default {\\r\\n  data () {\\r\\n    return {\\r\\n      list: [],\\r\\n      token: window.sessionStorage.getItem('bbytoken'),\\r\\n      //分页数据\\r\\n      page: 1, //显示的页码数\\r\\n      pageCount: 1,\\r\\n      curId: 0,\\r\\n      thCurId: 0,\\r\\n      seCurId: 0,\\r\\n      threeAuthList: [],\\r\\n      authList: [],\\r\\n      treeData: [], //滤芯设置列表\\r\\n\\r\\n    }\\r\\n  },\\r\\n\\r\\n\\r\\n  methods: {\\r\\n    paging (e) {\\r\\n      this.page = e;\\r\\n      this.init()\\r\\n    },\\r\\n    async init () {\\r\\n      try {\\r\\n        const res = await this.$axios.post(\\\"admin/SystemSetup/filterList\\\", { token: this.token })\\r\\n        let treeData = res.data.data\\r\\n        treeData.forEach(element => {\\r\\n          element.children.forEach(item => {\\r\\n            if (!item.status) {\\r\\n              item = Object.assign(item, { status: 2 })\\r\\n            }\\r\\n          })\\r\\n        });\\r\\n        this.treeData = treeData\\r\\n      } catch (error) {\\r\\n        throw (error)\\r\\n      }\\r\\n    },\\r\\n    radioChange (item, status) {\\r\\n      if (status == 1) {\\r\\n        this.$prompt('请输入滤芯补贴', '提示', {\\r\\n          confirmButtonText: '确定',\\r\\n          cancelButtonText: '取消',\\r\\n          inputPattern: /\\\\S/,\\r\\n          inputErrorMessage: '请输入滤芯补贴',\\r\\n          closeOnClickModal: false,\\r\\n          beforeClose: (action, instance, done) => {\\r\\n            if (action == 'confirm') {\\r\\n              let value = instance.inputValue;\\r\\n              this.filterSet(item.id, status, value, done())\\r\\n            } else {\\r\\n              item.status = 2\\r\\n              done()\\r\\n            }\\r\\n          }\\r\\n        }).then(() => { }).catch(() => { })\\r\\n      } else {\\r\\n        this.filterSet(item.id, status)\\r\\n      }\\r\\n    },\\r\\n\\r\\n    async filterSet (cid, status, money, callback) {  //设置滤芯\\r\\n      try {\\r\\n        const res = await this.$axios.post(\\\"admin/SystemSetup/filterSet\\\", { token: this.token, cid: cid, status: status, money: money })\\r\\n        if (res.data.code == 1) {\\r\\n          this.$message({ message: res.data.msg, type: \\\"success\\\" })\\r\\n          this.init()\\r\\n          callback && callback()\\r\\n        } else {\\r\\n          this.$message.error(res.data.msg)\\r\\n        }\\r\\n      } catch (error) {\\r\\n        throw (error)\\r\\n      }\\r\\n    },\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n    Auth () {  //权限列表\\r\\n      var id = this.$route.query.id;\\r\\n      this.curId = id;\\r\\n      this.$axios.post('admin/Auth/erAuth', {\\r\\n        token: window.sessionStorage.getItem('bbytoken'),\\r\\n        id: id\\r\\n      })\\r\\n        .then(res => {\\r\\n          if (res.data.code == 1) {\\r\\n            var arr = res.data.data;\\r\\n            for (var i = 0; i < arr.length; i++) {\\r\\n              if (arr[i].son) {\\r\\n                if (arr[i].name == '滤芯设置') {\\r\\n                  this.seCurId = arr[i].id;\\r\\n                  this.threeAuthList = arr[i].son;\\r\\n                }\\r\\n\\r\\n              }\\r\\n            }\\r\\n            this.authList = arr;\\r\\n          } else {\\r\\n            this.$alert(res.data.msg, '提示', { type: 'error' });\\r\\n          }\\r\\n        })\\r\\n        .catch(err => {\\r\\n          alert(err);\\r\\n        })\\r\\n    }\\r\\n  },\\r\\n  mounted () {\\r\\n    this.Auth()\\r\\n    this.init()\\r\\n\\r\\n  },\\r\\n}\\r\\n</script>\\r\\n<style scoped>\\r\\n.ellipsis {\\r\\n  width: 100px;\\r\\n  overflow: hidden;\\r\\n  text-overflow: ellipsis;\\r\\n  display: -webkit-box;\\r\\n  -webkit-box-orient: vertical;\\r\\n  -webkit-line-clamp: 2;\\r\\n  margin: 0 auto;\\r\\n  text-align: center;\\r\\n}\\r\\n.tree {\\r\\n  margin-left: 5%;\\r\\n}\\r\\n.treeRadio {\\r\\n  position: absolute;\\r\\n  left: 20%;\\r\\n}\\r\\n</style>\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-71e54e54\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/filterSetup/index.vue\n// module id = 7Wit\n// module chunks = 90","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-71e54e54\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"3900d836\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-71e54e54\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-71e54e54\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-71e54e54\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/filterSetup/index.vue\n// module id = d0ba\n// module chunks = 90","<template>\r\n  <div>\r\n    <ctbHead>\r\n      <router-link :class=\"seCurId==item.id? 'cur':''\"\r\n                   v-for=\"item in authList\"\r\n                   :key=\"item.id\"\r\n                   :to=\"{path:item.action,query:{id:curId}}\"\r\n                   :v-key=\"item.id\">\r\n        {{item.name}}\r\n      </router-link>\r\n    </ctbHead>\r\n    <div class=\"container\">\r\n      <div class=\"quote\">\r\n        <div class=\"quote-ele\">\r\n          <i></i>\r\n          滤芯设置\r\n        </div>\r\n      </div>\r\n      <el-tree :data=\"treeData\"\r\n               node-key=\"id\"\r\n               default-expand-all\r\n               :expand-on-click-node=\"false\"\r\n               class=\"tree\">\r\n        <span class=\"custom-tree-node\"\r\n              slot-scope=\"{ node ,data}\">\r\n          {{data.name}}\r\n          <span v-if=\"data.level!=1\"\r\n                class=\"treeRadio\">\r\n            <el-radio-group v-model=\"data.status\"\r\n                            @change=\"(value)=>radioChange(data,value)\">\r\n              <el-radio :label=\"2\">维修厂</el-radio>\r\n              <el-radio :label=\"1\">供应商</el-radio>\r\n            </el-radio-group>\r\n            <span style=\"margin-left:20px\"\r\n                  v-if=\"data.status==1\">\r\n              滤芯补贴 : {{data.money}}元\r\n            </span>\r\n          </span>\r\n        </span>\r\n      </el-tree>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n<script type=\"text/ecmascript-6\">\r\nimport { getPro, GET_City } from '@/utils'   //获取省市\r\nexport default {\r\n  data () {\r\n    return {\r\n      list: [],\r\n      token: window.sessionStorage.getItem('bbytoken'),\r\n      //分页数据\r\n      page: 1, //显示的页码数\r\n      pageCount: 1,\r\n      curId: 0,\r\n      thCurId: 0,\r\n      seCurId: 0,\r\n      threeAuthList: [],\r\n      authList: [],\r\n      treeData: [], //滤芯设置列表\r\n\r\n    }\r\n  },\r\n\r\n\r\n  methods: {\r\n    paging (e) {\r\n      this.page = e;\r\n      this.init()\r\n    },\r\n    async init () {\r\n      try {\r\n        const res = await this.$axios.post(\"admin/SystemSetup/filterList\", { token: this.token })\r\n        let treeData = res.data.data\r\n        treeData.forEach(element => {\r\n          element.children.forEach(item => {\r\n            if (!item.status) {\r\n              item = Object.assign(item, { status: 2 })\r\n            }\r\n          })\r\n        });\r\n        this.treeData = treeData\r\n      } catch (error) {\r\n        throw (error)\r\n      }\r\n    },\r\n    radioChange (item, status) {\r\n      if (status == 1) {\r\n        this.$prompt('请输入滤芯补贴', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          inputPattern: /\\S/,\r\n          inputErrorMessage: '请输入滤芯补贴',\r\n          closeOnClickModal: false,\r\n          beforeClose: (action, instance, done) => {\r\n            if (action == 'confirm') {\r\n              let value = instance.inputValue;\r\n              this.filterSet(item.id, status, value, done())\r\n            } else {\r\n              item.status = 2\r\n              done()\r\n            }\r\n          }\r\n        }).then(() => { }).catch(() => { })\r\n      } else {\r\n        this.filterSet(item.id, status)\r\n      }\r\n    },\r\n\r\n    async filterSet (cid, status, money, callback) {  //设置滤芯\r\n      try {\r\n        const res = await this.$axios.post(\"admin/SystemSetup/filterSet\", { token: this.token, cid: cid, status: status, money: money })\r\n        if (res.data.code == 1) {\r\n          this.$message({ message: res.data.msg, type: \"success\" })\r\n          this.init()\r\n          callback && callback()\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      } catch (error) {\r\n        throw (error)\r\n      }\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n    Auth () {  //权限列表\r\n      var id = this.$route.query.id;\r\n      this.curId = id;\r\n      this.$axios.post('admin/Auth/erAuth', {\r\n        token: window.sessionStorage.getItem('bbytoken'),\r\n        id: id\r\n      })\r\n        .then(res => {\r\n          if (res.data.code == 1) {\r\n            var arr = res.data.data;\r\n            for (var i = 0; i < arr.length; i++) {\r\n              if (arr[i].son) {\r\n                if (arr[i].name == '滤芯设置') {\r\n                  this.seCurId = arr[i].id;\r\n                  this.threeAuthList = arr[i].son;\r\n                }\r\n\r\n              }\r\n            }\r\n            this.authList = arr;\r\n          } else {\r\n            this.$alert(res.data.msg, '提示', { type: 'error' });\r\n          }\r\n        })\r\n        .catch(err => {\r\n          alert(err);\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.Auth()\r\n    this.init()\r\n\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n.ellipsis {\r\n  width: 100px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 2;\r\n  margin: 0 auto;\r\n  text-align: center;\r\n}\r\n.tree {\r\n  margin-left: 5%;\r\n}\r\n.treeRadio {\r\n  position: absolute;\r\n  left: 20%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/filterSetup/index.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\n        \"ctbHead\",\n        _vm._l(_vm.authList, function(item) {\n          return _c(\n            \"router-link\",\n            {\n              key: item.id,\n              class: _vm.seCurId == item.id ? \"cur\" : \"\",\n              attrs: {\n                to: { path: item.action, query: { id: _vm.curId } },\n                \"v-key\": item.id\n              }\n            },\n            [_vm._v(\"\\n      \" + _vm._s(item.name) + \"\\n    \")]\n          )\n        }),\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"container\" },\n        [\n          _vm._m(0),\n          _vm._v(\" \"),\n          _c(\"el-tree\", {\n            staticClass: \"tree\",\n            attrs: {\n              data: _vm.treeData,\n              \"node-key\": \"id\",\n              \"default-expand-all\": \"\",\n              \"expand-on-click-node\": false\n            },\n            scopedSlots: _vm._u([\n              {\n                key: \"default\",\n                fn: function(ref) {\n                  var node = ref.node\n                  var data = ref.data\n                  return _c(\"span\", { staticClass: \"custom-tree-node\" }, [\n                    _vm._v(\"\\n        \" + _vm._s(data.name) + \"\\n        \"),\n                    data.level != 1\n                      ? _c(\n                          \"span\",\n                          { staticClass: \"treeRadio\" },\n                          [\n                            _c(\n                              \"el-radio-group\",\n                              {\n                                on: {\n                                  change: function(value) {\n                                    return _vm.radioChange(data, value)\n                                  }\n                                },\n                                model: {\n                                  value: data.status,\n                                  callback: function($$v) {\n                                    _vm.$set(data, \"status\", $$v)\n                                  },\n                                  expression: \"data.status\"\n                                }\n                              },\n                              [\n                                _c(\"el-radio\", { attrs: { label: 2 } }, [\n                                  _vm._v(\"维修厂\")\n                                ]),\n                                _vm._v(\" \"),\n                                _c(\"el-radio\", { attrs: { label: 1 } }, [\n                                  _vm._v(\"供应商\")\n                                ])\n                              ],\n                              1\n                            ),\n                            _vm._v(\" \"),\n                            data.status == 1\n                              ? _c(\n                                  \"span\",\n                                  { staticStyle: { \"margin-left\": \"20px\" } },\n                                  [\n                                    _vm._v(\n                                      \"\\n            滤芯补贴 : \" +\n                                        _vm._s(data.money) +\n                                        \"元\\n          \"\n                                    )\n                                  ]\n                                )\n                              : _vm._e()\n                          ],\n                          1\n                        )\n                      : _vm._e()\n                  ])\n                }\n              }\n            ])\n          })\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"quote\" }, [\n      _c(\"div\", { staticClass: \"quote-ele\" }, [\n        _c(\"i\"),\n        _vm._v(\"\\n        滤芯设置\\n      \")\n      ])\n    ])\n  }\n]\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-71e54e54\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-71e54e54\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/filterSetup/index.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-71e54e54\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-71e54e54\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-71e54e54\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/pages/filterSetup/index.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-71e54e54\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-71e54e54\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/filterSetup/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
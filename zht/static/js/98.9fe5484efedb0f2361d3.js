webpackJsonp([98],{"5NiJ":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={data:function(){return{list:[],token:window.sessionStorage.getItem("bbytoken"),authList:"",seCurId:"",curId:"",routerIndex:"",threeAuthList:[{name:"待发货",action:"/Addresslist/notDeliverGoods"},{name:"已发货",action:"/Addresslist/DeliverGoods"}],ExportDialogVisible:!1,form:{currentProvince:"",currentCity:"",province:"",city:""},path:this.$route.path}},methods:{ProvinceChange:function(t){var n=this;this.$axios.post("admin/MemAddList/cityL",{token:this.token,pid:t}).then(function(t){1==t.data.code&&(n.form.city=t.data.data)}).catch(function(t){return console.log(t)})},EXPort:function(){window.location.href=this.baseURL+"admin/Login/order"}},mounted:function(){var t=this,n=this.$route.query.id;this.curId=n,this.$axios.post("admin/Auth/erAuth",{token:window.sessionStorage.getItem("bbytoken"),id:n}).then(function(n){var e=t.$route.path.substr(0,t.$route.path.lastIndexOf("/"));if(1==n.data.code){for(var i=n.data.data,r=0;r<i.length;r++)i[r].action==e&&(t.seCurId=i[r].id);t.authList=i}else t.$alert(n.data.msg,"提示",{type:"error"})}).catch(function(t){alert(t)})},watch:{index:function(){this.init()},profit:function(t,n){t>15&&(this.profit=15)}}},r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"Addresslist"},[e("ctbHead",t._l(t.authList,function(n,i){return e("router-link",{key:n.id,class:t.seCurId==n.id?"cur":"",attrs:{to:{path:n.action,query:{id:t.curId}}}},[t._v("\n      "+t._s(n.name)+"\n      "),e("el-badge",{directives:[{name:"show",rawName:"v-show",value:2==i&&t.$store.state.policyNumber>0,expression:"index==2 && $store.state.policyNumber>0"}],staticClass:"item",attrs:{value:t.$store.state.policyNumber,max:99}})],1)}),1),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"quote"},[t._m(0),t._v(" "),e("div",{staticClass:"export"},[e("el-button",{attrs:{type:"primary"},on:{click:function(n){return t.EXPort()}}},[t._v("导出")])],1),t._v(" "),e("div",{staticClass:"quote-nav"},t._l(t.threeAuthList,function(n,i){return e("router-link",{key:i,attrs:{to:{path:n.action,query:{id:t.curId}},"active-class":"cur"}},[e("span",[t._v(t._s(n.name))])])}),1)]),t._v(" "),e("router-view")],1)],1)};r._withStripped=!0;var s={render:r,staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"quote-ele"},[n("i"),this._v("ubi用户邮寄地址")])}]},a=s;var o=!1;var d=e("VU/8")(i,a,!1,function(t){o||e("CWkX")},"data-v-5e466704",null);d.options.__file="src/pages/maintainVip/Addresslist/Addresslist.vue";n.default=d.exports},CWkX:function(t,n,e){var i=e("atTl");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("2be00f07",i,!1,{})},atTl:function(t,n,e){(t.exports=e("FZ+f")(!0)).push([t.i,"\n.Addresslist[data-v-5e466704] .el-dialog__header {\n  padding-bottom: 20px;\n  border-bottom: 1px solid rgba(230, 230, 235, 1);\n  background: none !important;\n}\n.export[data-v-5e466704] {\n  float: right;\n  margin-top: -50px;\n  margin-right: 70px;\n}\n.line[data-v-5e466704] {\n  text-align: center;\n}\n","",{version:3,sources:["F:/仲达集团/2020-3-18总后台管理系统/src/pages/maintainVip/Addresslist/src/pages/maintainVip/Addresslist/Addresslist.vue"],names:[],mappings:";AA2HA;EACA,qBAAA;EACA,gDAAA;EACA,4BAAA;CACA;AACA;EACA,aAAA;EACA,kBAAA;EACA,mBAAA;CACA;AACA;EACA,mBAAA;CACA",file:"Addresslist.vue",sourcesContent:["<template>\n  <div class='Addresslist'>\n    <ctbHead>\n      <router-link :class=\"seCurId==item.id? 'cur':''\"\n                   v-for=\"(item,index) in authList\"\n                   :key=\"item.id\"\n                   :to=\"{path:item.action,query:{id:curId}}\">\n        {{item.name}}\n        <el-badge v-show='index==2 && $store.state.policyNumber>0'\n                  :value=\"$store.state.policyNumber\"\n                  :max='99'\n                  class=\"item\">\n        </el-badge>\n      </router-link>\n    </ctbHead>\n    <div class=\"container\">\n      <div class=\"quote\">\n        <div class=\"quote-ele\"><i></i>ubi用户邮寄地址</div>\n        <div class='export'>\n          <el-button type=\"primary\"\n                     @click=\"EXPort()\">导出</el-button>\n        </div>\n        <div class=\"quote-nav\">\n          <router-link v-for=\"(item,index) in threeAuthList\"\n                       :to=\"{path:item.action,query:{id:curId}}\"\n                       active-class=\"cur\"\n                       :key=\"index\">\n            <span>{{item.name}}</span>\n          </router-link>\n        </div>\n      </div>\n      <router-view></router-view>\n    </div>\n  </div>\n</template>\n<script >\nexport default {\n  data () {\n    return {\n      list: [],\n      token: window.sessionStorage.getItem('bbytoken'),\n      authList: '',\n      seCurId: '',\n      curId: '',\n      routerIndex: '',\n      threeAuthList: [\n        { name: '待发货', action: '/Addresslist/notDeliverGoods' },\n        { name: '已发货', action: '/Addresslist/DeliverGoods' }\n      ],\n      ExportDialogVisible: false,\n      form: {\n        currentProvince: '',\n        currentCity: '',\n        province: '',\n        city: ''\n      },\n      path: this.$route.path\n    }\n  },\n\n  methods: {\n\n    ProvinceChange (pid) { //根据省的Id获取市\n      this.$axios.post('admin/MemAddList/cityL', { token: this.token, pid: pid }).then(res => {\n        if (res.data.code == 1) {\n         \n          this.form.city = res.data.data\n        }\n      }).catch(err => console.log(err))\n    },\n    EXPort () { //导出excel表格\n    \n      window.location.href = `${this.baseURL}admin/Login/order`\n    },\n  \n  },\n\n  mounted () {\n\n\n    var id = this.$route.query.id;\n    this.curId = id;\n    this.$axios.post('admin/Auth/erAuth', {\n      token: window.sessionStorage.getItem('bbytoken'),\n      id: id\n    })\n      .then(res => {\n        \n        let path = this.$route.path.substr(0, this.$route.path.lastIndexOf('/'))\n     \n        if (res.data.code == 1) {\n          var arr = res.data.data;\n\n          for (var i = 0; i < arr.length; i++) {\n            if (arr[i].action == path) {\n              this.seCurId = arr[i].id;\n            }\n          }\n          this.authList = arr;\n        } else {\n          this.$alert(res.data.msg, '提示', {\n            type: 'error'\n          });\n        }\n      })\n      .catch(err => {\n        alert(err);\n      })\n  },\n  watch: {\n    index () {\n      this.init();\n    },\n    profit (newVal, oldVal) {\n      //输出的时候最大是15\n      if (newVal > 15) {\n        this.profit = 15\n      }\n    }\n  }\n}\n<\/script>\n<style scoped>\n.Addresslist >>> .el-dialog__header {\n  padding-bottom: 20px;\n  border-bottom: 1px solid rgba(230, 230, 235, 1);\n  background: none !important;\n}\n.export {\n  float: right;\n  margin-top: -50px;\n  margin-right: 70px;\n}\n.line {\n  text-align: center;\n}\n</style>\n"],sourceRoot:""}])}});
//# sourceMappingURL=98.9fe5484efedb0f2361d3.js.map